<<<<<<< HEAD
"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[7210],{12974:(e,t,n)=>{n.d(t,{Ay:()=>s});var i=n(13240);const o=["a","b","em","i","strong","p","br"],a=["target","href","rel","name","download"],s=e=>({__html:(0,i.sanitize)(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:a})})},75753:(e,t,n)=>{n.d(t,{LO:()=>_,PE:()=>w,S:()=>m,CS:()=>u}),n(18982);var i=n(27723),o=n(56427),a=n(86087),s=n(47143),r=n(40314),c=n(96476),l=n(1069),d=n(39793);const m=({gatewayProvider:e,settingsHref:t,onboardingHref:n,isOffline:m,acceptIncentive:g=()=>{},gatewayHasRecommendedPaymentMethods:_,installingPlugin:w,buttonText:u=(0,i.__)("Enable","woocommerce"),incentive:p=null,setOnboardingModalOpen:y,onboardingType:f})=>{const[h,b]=(0,a.useState)(!1),{createErrorNotice:v}=(0,s.dispatch)("core/notices"),{togglePaymentGateway:x,invalidateResolutionForStoreSelector:P}=(0,s.useDispatch)(r.paymentSettingsStore),j=()=>{v((0,i.__)("An error occurred. You will be redirected to the settings page, try enabling the payment gateway there.","woocommerce"),{type:"snackbar",explicitDismiss:!0})};return(0,d.jsx)(o.Button,{variant:"primary",isBusy:h,disabled:h||!!w,onClick:o=>{if(o.preventDefault(),e.state.enabled)return;(0,l.g2)("enable_click",e);const a=window.woocommerce_admin.nonces?.gateway_toggle||"";if(!a)return j(),void(window.location.href=t);b(!0),p&&g(p.promo_id),x(e.id,window.woocommerce_admin.ajax_url,a).then((o=>{if("needs_setup"===o.data)if(e.state.account_connected)v((0,i.__)("The provider could not be enabled. Check the Manage page for details.","woocommerce"),{type:"snackbar",explicitDismiss:!0,actions:[{label:(0,i.__)("Manage","woocommerce"),url:t}]}),(0,l.g2)("enable_failed",e,{reason:"needs_setup"});else if("native_in_context"===f&&y)(0,l.W7)("woopayments_onboarding_modal_opened"),y(!0);else{if(!_)return void(window.location.href=n);(0,c.getHistory)().push((0,c.getNewPath)({},"/payment-methods"))}P("getPaymentProviders"),m&&P("getOfflinePaymentGateways"),b(!1)})).catch((()=>{(0,l.g2)("enable_failed",e,{reason:"error"}),b(!1),j(),window.location.href=t}))},href:t,children:u})};var g=n(22861);const _=({acceptIncentive:e,installingPlugin:t,buttonText:n=(0,i.__)("Activate payments","woocommerce"),incentive:s=null,setOnboardingModalOpen:r,onboardingType:c})=>{const[m,_]=(0,a.useState)(!1);return(0,d.jsx)(o.Button,{variant:"primary",isBusy:m,disabled:m||!!t,onClick:()=>{_(!0),(0,l.TH)("activate_payments_button_click",{provider_id:g.$8,suggestion_id:g.eD,incentive_id:s?s.promo_id:"none",onboarding_type:c||"unknown",provider_extension_slug:g.bw}),(0,l.wJ)().then((()=>{s&&e(s.promo_id),_(!1),"native_in_context"===c?((0,l.W7)("woopayments_onboarding_modal_opened"),r(!0)):window.location.href=(0,l.ZV)()})).catch((()=>{_(!1)}))},children:n})},w=({gatewayProvider:e,settingsHref:t,onboardingHref:n,gatewayHasRecommendedPaymentMethods:m,installingPlugin:g,buttonText:_=(0,i.__)("Complete setup","woocommerce"),setOnboardingModalOpen:w,onboardingType:u})=>{const[p,y]=(0,a.useState)(!1),{select:f}=(0,s.useSelect)((e=>({select:e})),[]),h=e.state.account_connected,b=e.onboarding.state.started,v=e.onboarding.state.completed;return(0,a.useEffect)((()=>{(0,l.j4)(e.id)&&"native_in_context"===u&&!v&&f(r.woopaymentsOnboardingStore).getOnboardingData()}),[e.id,v,u,f]),(0,d.jsx)(o.Button,{variant:"primary",isBusy:p,disabled:p||!!g,onClick:()=>{if((0,l.g2)("complete_setup_click",e),y(!0),"native_in_context"===u)(0,l.W7)("woopayments_onboarding_modal_opened"),w(!0);else{if(h&&b)return h&&b&&!v?void(window.location.href=n):void(window.location.href=t);if(!m)return void(window.location.href=n);(0,c.getHistory)().push((0,c.getNewPath)({},"/payment-methods"))}y(!1)},children:_},e.id)},u=({gatewayProvider:e,settingsHref:t,isInstallingPlugin:n,buttonText:a=(0,i.__)("Manage","woocommerce")})=>(0,d.jsx)(o.Button,{variant:"secondary",href:t,disabled:n,onClick:()=>{(0,l.g2)("provider_manage_click",e)},children:a})},69222:(e,t,n)=>{n.r(t),n.d(t,{SettingsPaymentsOffline:()=>w,default:()=>u});var i=n(47143),o=n(86087),a=n(40314),s=n(51881),r=n(18537),c=n(12974),l=n(15698),d=n(75753),m=n(39793);const g=({gateway:e,...t})=>(0,m.jsx)(l.Uq,{id:e.id,className:"woocommerce-list__item woocommerce-list__item-enter-done"+(t.className?` ${t.className}`:""),...t,children:(0,m.jsxs)("div",{className:"woocommerce-list__item-inner",children:[(0,m.jsxs)("div",{className:"woocommerce-list__item-before",children:[(0,m.jsx)(l.Gh,{}),e.icon&&(0,m.jsx)("img",{className:"woocommerce-list__item-image",src:e.icon,alt:e.title+" logo"})]}),(0,m.jsxs)("div",{className:"woocommerce-list__item-text",children:[(0,m.jsx)("span",{className:"woocommerce-list__item-title",children:e.title}),(0,m.jsx)("span",{className:"woocommerce-list__item-content",dangerouslySetInnerHTML:(0,c.Ay)((0,r.decodeEntities)(e.description))})]}),(0,m.jsx)("div",{className:"woocommerce-list__item-after",children:(0,m.jsx)("div",{className:"woocommerce-list__item-after__actions",children:e.state.enabled?(0,m.jsx)(d.CS,{gatewayProvider:e,settingsHref:e.management._links.settings.href,isInstallingPlugin:!1}):(0,m.jsx)(d.S,{installingPlugin:null,gatewayProvider:e,settingsHref:e.management._links.settings.href,onboardingHref:e.onboarding._links.onboard.href,isOffline:!0,gatewayHasRecommendedPaymentMethods:!1})})})]})},e.id),_=({gateways:e,setGateways:t})=>(0,m.jsx)(l.q6,{className:"woocommerce-list",items:e,setItems:t,children:e.map(((t,n)=>(0,m.jsx)(g,{gateway:t,className:"woocommerce-list__item"+(n===e.length-1?" is-last":"")},t.id)))}),w=()=>{const{offlinePaymentGateways:e,isFetching:t}=(0,i.useSelect)((e=>{const t=e(a.paymentSettingsStore);return{offlinePaymentGateways:t.getOfflinePaymentGateways(),isFetching:t.isFetching()}}),[]),{updateProviderOrdering:n}=(0,i.useDispatch)(a.paymentSettingsStore),[r,c]=(0,o.useState)(null);return(0,o.useEffect)((()=>{c(null)}),[e]),(0,m.jsx)("div",{className:"settings-payments-offline__container",children:t?(0,m.jsx)(s.i,{rows:3}):(0,m.jsx)(_,{gateways:r||e,setGateways:function(e){const t=e.map((e=>e._order)).sort(((e,t)=>e-t)),i={};e.forEach(((e,n)=>{i[e.id]=t[n]})),n(i),c(e)}})})},u=w}}]);
=======
"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[8534],{9845:(e,t,n)=>{n.d(t,{ZP:()=>o});var a=n(25209);const i=["a","b","em","i","strong","p","br"],s=["target","href","rel","name","download"],o=e=>({__html:(0,a.sanitize)(e,{ALLOWED_TAGS:i,ALLOWED_ATTR:s})})},5073:(e,t,n)=>{n.d(t,{l$:()=>_,My:()=>w,D2:()=>m,ls:()=>y}),n(97030);var a=n(65736),i=n(55609),s=n(69307),o=n(9818),r=n(67221),c=n(10431),l=n(14599),d=n(81514);const m=({gatewayId:e,gatewayState:t,settingsHref:n,onboardingHref:m,isOffline:g,acceptIncentive:_=()=>{},gatewayHasRecommendedPaymentMethods:w,installingPlugin:y,buttonText:p=(0,a.__)("Enable","woocommerce"),incentive:h=null})=>{const[u,f]=(0,s.useState)(!1),{createErrorNotice:v}=(0,o.dispatch)("core/notices"),{togglePaymentGateway:b,invalidateResolutionForStoreSelector:x}=(0,o.useDispatch)(r.paymentSettingsStore),j=()=>{v((0,a.__)("An error occurred. You will be redirected to the settings page, try enabling the payment gateway there.","woocommerce"),{type:"snackbar",explicitDismiss:!0})};return(0,d.jsx)(i.Button,{variant:"primary",isBusy:u,disabled:u||!!y,onClick:i=>{if(i.preventDefault(),t.enabled)return;(0,l.recordEvent)("settings_payments_provider_enable_click",{provider_id:e});const s=window.woocommerce_admin.nonces?.gateway_toggle||"";if(!s)return j(),void(window.location.href=n);f(!0),h&&_(h.promo_id),b(e,window.woocommerce_admin.ajax_url,s).then((i=>{if("needs_setup"===i.data)if(t.account_connected)v((0,a.__)("The provider could not be enabled. Check the Manage page for details.","woocommerce"),{type:"snackbar",explicitDismiss:!0,actions:[{label:(0,a.__)("Manage","woocommerce"),url:n}]});else{if((0,l.recordEvent)("settings_payments_provider_enable",{provider_id:e}),!w)return void(window.location.href=m);(0,c.getHistory)().push((0,c.getNewPath)({},"/payment-methods"))}x(g?"getOfflinePaymentGateways":"getPaymentProviders"),f(!1)})).catch((()=>{f(!1),j(),window.location.href=n}))},href:n,children:p})};var g=n(44443);const _=({acceptIncentive:e,installingPlugin:t,buttonText:n=(0,a.__)("Activate payments","woocommerce"),incentive:o=null})=>{const[r,c]=(0,s.useState)(!1);return(0,d.jsx)(i.Button,{variant:"primary",isBusy:r,disabled:r||!!t,onClick:()=>{c(!0),o&&e(o.promo_id),window.location.href=(0,g.vA)()},children:n})},w=({gatewayId:e,gatewayState:t,onboardingState:n,settingsHref:o,onboardingHref:r,gatewayHasRecommendedPaymentMethods:m,installingPlugin:g,buttonText:_=(0,a.__)("Complete setup","woocommerce")})=>{const[w,y]=(0,s.useState)(!1),p=t.account_connected,h=n.started,u=n.completed;return(0,d.jsx)(i.Button,{variant:"primary",isBusy:w,disabled:w||!!g,onClick:()=>{if((0,l.recordEvent)("settings_payments_provider_complete_setup_click",{provider_id:e,onboarding_started:n.started,onboarding_completed:n.completed,onboarding_test_mode:n.test_mode}),y(!0),p&&h)return p&&h&&!u?void(window.location.href=r):void(window.location.href=o);m?((0,c.getHistory)().push((0,c.getNewPath)({},"/payment-methods")),y(!1)):window.location.href=r},children:_},e)},y=({gatewayId:e,settingsHref:t,isInstallingPlugin:n,buttonText:s=(0,a.__)("Manage","woocommerce")})=>(0,d.jsx)(i.Button,{variant:"secondary",href:t,disabled:n,onClick:()=>{(0,l.recordEvent)("settings_payments_provider_manage_click",{provider_id:e})},children:s})},17743:(e,t,n)=>{n.r(t),n.d(t,{SettingsPaymentsOffline:()=>p,default:()=>h});var a=n(9818),i=n(69307),s=n(67221),o=n(65736),r=n(22629),c=n(9845),l=n(63021),d=n(5073),m=n(81514);const g=({gateway:e,...t})=>(0,m.jsx)(l.TR,{id:e.id,className:"woocommerce-list__item woocommerce-list__item-enter-done",...t,children:(0,m.jsxs)("div",{className:"woocommerce-list__item-inner",children:[(0,m.jsxs)("div",{className:"woocommerce-list__item-before",children:[(0,m.jsx)(l.mR,{}),e.icon&&(0,m.jsx)("img",{className:"woocommerce-list__item-image",src:e.icon,alt:e.title+" logo"})]}),(0,m.jsxs)("div",{className:"woocommerce-list__item-text",children:[(0,m.jsx)("span",{className:"woocommerce-list__item-title",children:e.title}),(0,m.jsx)("span",{className:"woocommerce-list__item-content",dangerouslySetInnerHTML:(0,c.ZP)((0,r.decodeEntities)(e.description))})]}),(0,m.jsx)("div",{className:"woocommerce-list__item-after",children:(0,m.jsx)("div",{className:"woocommerce-list__item-after__actions",children:e.state.enabled?(0,m.jsx)(d.ls,{gatewayId:e.id,settingsHref:e.management._links.settings.href,isInstallingPlugin:!1}):(0,m.jsx)(d.D2,{installingPlugin:null,gatewayId:e.id,gatewayState:e.state,settingsHref:e.management._links.settings.href,onboardingHref:e.onboarding._links.onboard.href,isOffline:!0,gatewayHasRecommendedPaymentMethods:!1})})})]})},e.id),_=({gateways:e,setGateways:t})=>(0,m.jsx)(l.JN,{className:"woocommerce-list",items:e,setItems:t,children:e.map((e=>(0,m.jsx)(g,{gateway:e},e.id)))});var w=n(4622);const y=({isFetching:e,offlinePaymentGateways:t,updateOrdering:n})=>(0,m.jsxs)("div",{className:"settings-payment-gateways",children:[(0,m.jsx)("div",{className:"settings-payment-gateways__header",children:(0,m.jsx)("div",{className:"settings-payment-gateways__header-title",children:(0,o.__)("Payment methods","woocommerce")})}),e?(0,m.jsx)(w.a,{rows:3}):(0,m.jsx)(_,{gateways:t,setGateways:n})]}),p=()=>{const{offlinePaymentGateways:e,isFetching:t}=(0,a.useSelect)((e=>{const t=e(s.paymentSettingsStore);return{isFetching:t.isFetching(),offlinePaymentGateways:t.getOfflinePaymentGateways()}}),[]),{updateProviderOrdering:n}=(0,a.useDispatch)(s.paymentSettingsStore),[o,r]=(0,i.useState)(null);return(0,i.useEffect)((()=>{r(null)}),[e]),(0,m.jsx)("div",{className:"settings-payments-offline__container",children:(0,m.jsx)(y,{isFetching:t,updateOrdering:function(e){const t=e.map((e=>e._order)).sort(((e,t)=>e-t)),a={};e.forEach(((e,n)=>{a[e.id]=t[n]})),n(a),r(e)},offlinePaymentGateways:o||e})})},h=p}}]);
>>>>>>> b1eea7a (Merged existing code from https://dev-vices.rafaeldeveloper.co)
