<<<<<<< HEAD
(()=>{var e,t,r,o={8809:(e,t,r)=>{"use strict";var o=r(5573),a=r(790);const s=(0,a.jsxs)(o.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,a.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10zm-6.92-3.96L12.39 17 15 15.47 17.61 17l-.69-2.96 2.3-1.99-3.03-.26L15 9l-1.19 2.79-3.03.26z"})]});var i=r(4530),n=(r(9926),r(1117),r(6087)),c=r(9491);const l=window.wp.url,d=window.wp.apiFetch;var m=r.n(d);const u=window.wc.wcSettings,g=(0,u.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),p=g.pluginUrl+"assets/images/",h=(g.pluginUrl,u.STORE_PAGES.shop,u.STORE_PAGES.checkout,u.STORE_PAGES.checkout,u.STORE_PAGES.privacy,u.STORE_PAGES.privacy,u.STORE_PAGES.terms,u.STORE_PAGES.terms,u.STORE_PAGES.cart,u.STORE_PAGES.cart,u.STORE_PAGES.myaccount?.permalink?u.STORE_PAGES.myaccount.permalink:(0,u.getSetting)("wpLoginUrl","/wp-login.php"),(0,u.getSetting)("localPickupEnabled",!1),(0,u.getSetting)("shippingMethodsExist",!1),(0,u.getSetting)("shippingEnabled",!0),(0,u.getSetting)("countries",{})),b=(0,u.getSetting)("countryData",{}),_={...Object.fromEntries(Object.keys(b).filter((e=>!0===b[e].allowBilling)).map((e=>[e,h[e]||""]))),...Object.fromEntries(Object.keys(b).filter((e=>!0===b[e].allowShipping)).map((e=>[e,h[e]||""])))},w=(Object.fromEntries(Object.keys(_).map((e=>[e,b[e].states||{}]))),Object.fromEntries(Object.keys(_).map((e=>[e,b[e].locale||{}]))),{address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]}),x=((0,u.getSetting)("addressFieldsLocations",w).address,(0,u.getSetting)("addressFieldsLocations",w).contact,(0,u.getSetting)("addressFieldsLocations",w).order,(0,u.getSetting)("additionalOrderFields",{}),(0,u.getSetting)("additionalContactFields",{}),(0,u.getSetting)("additionalAddressFields",{}),(e,t)=>{const r=new Map;return e.filter((e=>{const o=t(e);return!r.has(o)&&(r.set(o,e),!0)}))}),y=({selected:e=[],search:t="",queryArgs:r={}})=>{const o=(({selected:e=[],search:t="",queryArgs:r={}})=>{const o=g.productCount>100,a={per_page:o?100:0,catalog_visibility:"any",search:t,orderby:"title",order:"asc"},s=[(0,l.addQueryArgs)("/wc/store/v1/products",{...a,...r})];return o&&e.length&&s.push((0,l.addQueryArgs)("/wc/store/v1/products",{catalog_visibility:"any",include:e,per_page:0})),s})({selected:e,search:t,queryArgs:r});return Promise.all(o.map((e=>m()({path:e})))).then((e=>{const t=e.flat(),r=x(t,(e=>e.id));return r.map((e=>({...e,parent:0})))})).catch((e=>{throw e}))},f=async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}},v=(0,c.createHigherOrderComponent)((e=>class extends n.Component{constructor(){super(...arguments),this.state={error:null,loading:!1,category:"preview"===this.props.attributes.categoryId?this.props.attributes.previewCategory:null},this.loadCategory=this.loadCategory.bind(this)}componentDidMount(){this.loadCategory()}componentDidUpdate(e){e.attributes.categoryId!==this.props.attributes.categoryId&&this.loadCategory()}loadCategory(){const{categoryId:e}=this.props.attributes;"preview"!==e&&(e?(this.setState({loading:!0}),(e=>m()({path:`wc/store/v1/products/categories/${e}`}))(e).then((e=>{this.setState({category:e,loading:!1,error:null})})).catch((async e=>{const t=await f(e);this.setState({category:null,loading:!1,error:t})}))):this.setState({category:null,loading:!1,error:null}))}render(){const{error:t,loading:r,category:o}=this.state;return(0,a.jsx)(e,{...this.props,error:t,getCategory:this.loadCategory,isLoading:r,category:o})}}),"withCategory"),S=window.wp.components;var j=r(7723);const k=window.wp.blockEditor;var I=r(3462);const C=e=>{const{id:t,name:r,parent:o}=e;return{id:t,name:r,parent:o,breadcrumbs:[],children:[],details:e,value:e.slug}},E=e=>{const{id:t,name:r,parent:o,count:a}=e;return{id:t,name:r,parent:o,count:a,breadcrumbs:[],children:[],details:e,value:e.slug}},N="woocommerce/featured-category",P="woocommerce/featured-product",A=window.wc.wcTypes;function R(e){return!!e&&(0,A.isNumber)(e.id)&&"string"==typeof e.src}function T({blockName:e,item:t,mediaId:r,mediaSrc:o}){const[a,s]=(0,n.useState)(0),[i,c]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)({height:0,width:0}),g=(0,n.useRef)(null),p=(0,n.useRef)(null);return(0,n.useEffect)((()=>{var o,a;s(r||(e===P?(a=t)&&a.images&&a.images.length&&a.images[0].id||0:(o=t)&&R(o.image)?o.image.id:0))}),[e,t,r]),(0,n.useEffect)((()=>{var r,a;c(o||(e===P?(a=t)&&a.images&&a.images.length&&a.images[0].src||"":(r=t)&&R(r.image)?r.image.src:""))}),[e,t,o]),(0,n.useEffect)((()=>{if(i){g.current||(g.current=new Image),p.current||(p.current=document.createElement("canvas"));const e=g.current,t=p.current;e.src=i,e.onload=()=>{const r=e.naturalWidth,o=e.naturalHeight;null!==o&&null!==r&&u({height:o,width:r}),t.width=r,t.height=o;const a=t.getContext("2d",{willReadFrequently:!0});if(!a)return;a.drawImage(e,0,0,r,o);const s=a.getImageData(0,0,r,o).data,i=(()=>{for(let e=3;e<s.length;e+=4)if(s[e]<255)return!0;return!1})();l!==i&&d(i)}}else d(!0);return()=>{g.current&&(g.current.onload=null)}}),[i]),{backgroundImageId:a,backgroundImageSrc:i,isImageBgTransparent:l,originalImgDimension:m}}const L=({backgroundImageId:e,backgroundImageSrc:t,contentAlign:r,cropLabel:o,editLabel:s,editMode:i,isEditingImage:n,mediaSrc:c,setAttributes:l,setIsEditingImage:d})=>(0,a.jsxs)(k.BlockControls,{children:[(0,a.jsx)(k.AlignmentToolbar,{value:r,onChange:e=>{l({contentAlign:e})}}),(0,a.jsxs)(S.ToolbarGroup,{children:[t&&!n&&(0,a.jsx)(S.ToolbarButton,{onClick:()=>d(!0),icon:I.A,label:o}),(0,a.jsx)(k.MediaReplaceFlow,{mediaId:e,mediaURL:c,accept:"image/*",onSelect:e=>{l({mediaId:e.id,mediaSrc:e.url})},allowedTypes:["image"]}),e&&c?(0,a.jsx)(S.ToolbarButton,{onClick:()=>l({mediaId:0,mediaSrc:""}),children:(0,j.__)("Reset","woocommerce")}):null]}),(0,a.jsx)(S.ToolbarGroup,{controls:[{icon:"edit",title:s,onClick:()=>l({editMode:!i}),isActive:i}]})]}),O=({align:e,backgroundImageId:t,backgroundImageSize:r,backgroundImageSrc:o,containerRef:s,isEditingImage:i,setAttributes:c,setIsEditingImage:l})=>{const d=function(e,t){const[r,o]=(0,n.useState)(),a=(0,n.useCallback)((()=>{o(e.current?.clientWidth)}),[e]);return(0,n.useEffect)(a,[a,...t]),(0,n.useEffect)((()=>{if(!e.current)return;const{defaultView:t}=e.current.ownerDocument;return t?(t.addEventListener("resize",a),()=>{t.removeEventListener("resize",a)}):void 0}),[e,a]),r}(s,[e]);return"function"==typeof k.__experimentalImageEditingProvider?(0,a.jsx)(k.__experimentalImageEditingProvider,{id:t,url:o,naturalHeight:r.height||500,naturalWidth:r.width||500,onSaveImage:({id:e,url:t})=>{c({mediaId:e,mediaSrc:t})},isEditing:i,onFinishEditing:()=>l(!1),children:(0,a.jsx)(k.__experimentalImageEditor,{url:o,height:r.height||500,width:r.width||500})}):(0,a.jsx)(k.__experimentalImageEditor,{id:t,url:o,height:r.height||500,width:r.width||500,naturalHeight:r.height,naturalWidth:r.width,onSaveImage:({id:e,url:t})=>{c({mediaId:e,mediaSrc:t})},onFinishEditing:()=>l(!1),clientWidth:d})},F=({alt:e,backgroundImageSrc:t,contentPanel:r,dimRatio:o,focalPoint:s,hasParallax:i,imageFit:n,isRepeated:c,overlayColor:l,overlayGradient:d,setAttributes:m,setGradient:u,showDesc:g,backgroundColorVisibilityStatus:p,backgroundColor:h})=>{const b="function"==typeof S.FocalPointPicker,_=!c&&!i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k.InspectorControls,{children:[(0,a.jsxs)(S.PanelBody,{title:(0,j.__)("Content","woocommerce"),children:[(0,a.jsx)(S.ToggleControl,{label:(0,j.__)("Show description","woocommerce"),checked:g,onChange:()=>m({showDesc:!g})}),r]}),!!t&&(0,a.jsxs)(a.Fragment,{children:[b&&(0,a.jsxs)(S.PanelBody,{title:(0,j.__)("Media settings","woocommerce"),children:[(0,a.jsx)(S.ToggleControl,{label:(0,j.__)("Fixed background","woocommerce"),checked:i,onChange:()=>{m({hasParallax:!i})}}),(0,a.jsx)(S.ToggleControl,{label:(0,j.__)("Repeated background","woocommerce"),checked:c,onChange:()=>{m({isRepeated:!c})}}),!c&&(0,a.jsxs)(S.__experimentalToggleGroupControl,{help:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{style:{display:"block",marginBottom:"1em"},children:(0,j.__)("Select “Cover” to have the image automatically fit its container.","woocommerce")}),(0,a.jsx)("span",{children:(0,j.__)("This may affect your ability to freely move the focal point of the image.","woocommerce")})]}),label:(0,j.__)("Image fit","woocommerce"),isBlock:!0,value:n,onChange:e=>m({imageFit:e}),children:[(0,a.jsx)(S.__experimentalToggleGroupControlOption,{label:(0,j.__)("None","woocommerce"),value:"none"}),(0,a.jsx)(S.__experimentalToggleGroupControlOption
/* translators: "Cover" is a verb that indicates an image covering the entire container. */,{label:(0,j.__)("Cover","woocommerce"),value:"cover"})]}),(0,a.jsx)(S.FocalPointPicker,{label:(0,j.__)("Focal Point Picker","woocommerce"),url:t,value:s,onChange:e=>m({focalPoint:e})}),_&&(0,a.jsx)(S.TextareaControl,{label:(0,j.__)("Alt text (alternative text)","woocommerce"),value:e,onChange:e=>{m({alt:e})},help:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree",children:(0,j.__)("Describe the purpose of the image","woocommerce")})})})]}),(0,a.jsx)(k.__experimentalPanelColorGradientSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,j.__)("Overlay","woocommerce"),initialOpen:!0,settings:[{colorValue:l,gradientValue:d,onColorChange:e=>m({overlayColor:e}),onGradientChange:e=>{u(e),m({overlayGradient:e})},label:(0,j.__)("Color","woocommerce")}],children:(0,a.jsx)(S.RangeControl,{label:(0,j.__)("Opacity","woocommerce"),value:o,onChange:e=>m({dimRatio:e}),min:0,max:100,step:10,required:!0})})]})]},"inspector"),(0,a.jsx)(k.InspectorControls,{group:"color",children:p&&!1===p.isBackgroundVisible&&p.message&&h&&(0,a.jsx)("div",{className:"image-bg-color-warning",children:(0,a.jsx)(S.Notice,{status:"warning",isDismissible:!1,children:p.message})})})]})};var $=r(2098),B=r(4921);const M=window.wp.escapeHtml,G=({message:e,type:t})=>e?"general"===t?(0,a.jsxs)("span",{children:[(0,j.__)("The following error was returned","woocommerce"),(0,a.jsx)("br",{}),(0,a.jsx)("code",{children:(0,M.escapeHTML)(e)})]}):"api"===t?(0,a.jsxs)("span",{children:[(0,j.__)("The following error was returned from the API","woocommerce"),(0,a.jsx)("br",{}),(0,a.jsx)("code",{children:(0,M.escapeHTML)(e)})]}):e:(0,j.__)("An error has prevented the block from being updated.","woocommerce"),H=({error:e})=>(0,a.jsx)("div",{className:"wc-block-error-message",children:G(e)});r(3120);const D=({className:e="",error:t,isLoading:r=!1,onRetry:o})=>(0,a.jsxs)(S.Placeholder,{icon:(0,a.jsx)(i.A,{icon:$.A}),label:(0,j.__)("Sorry, an error occurred","woocommerce"),className:(0,B.A)("wc-block-api-error",e),children:[(0,a.jsx)(H,{error:t}),o&&(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(S.Spinner,{}):(0,a.jsx)(S.Button,{variant:"secondary",onClick:o,children:(0,j.__)("Retry","woocommerce")})})]});function V(e){return e?`${Math.round(100*e.x)}% ${Math.round(100*e.y)}%`:""}function z(e){return`wc-block-${e.split("/")[1]}`}function U(e,t,r){const o=new Set(t.map((e=>e[r])));return e.filter((e=>!o.has(e[r])))}const W=window.wp.htmlEntities,q={clear:(0,j.__)("Clear all selected items","woocommerce"),noItems:(0,j.__)("No items found.","woocommerce"),
/* Translators: %s search term */
noResults:(0,j.__)("No results for %s","woocommerce"),search:(0,j.__)("Search for items","woocommerce"),selected:e=>(0,j.sprintf)(/* translators: Number of items selected from list. */ /* translators: Number of items selected from list. */
(0,j._n)("%d item selected","%d items selected",e,"woocommerce"),e),updated:(0,j.__)("Search results updated.","woocommerce")},Y=(e,t=e)=>{const r=e.reduce(((e,t)=>{const r=t.parent||0;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),o=t.reduce(((e,t)=>(e[String(t.id)]=t,e)),{});const a=["0"],s=(e={})=>e.parent?[...s(o[e.parent]),e.name]:e.name?[e.name]:[],i=e=>e.map((e=>{const t=r[e.id];return a.push(""+e.id),{...e,breadcrumbs:s(o[e.parent]),children:t&&t.length?i(t):[]}})),n=i(r[0]||[]);return Object.entries(r).forEach((([e,t])=>{a.includes(e)||n.push(...i(t||[]))})),n},J=(e,t)=>{if(!t)return e;const r=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(r).map(((e,t)=>r.test(e)?(0,a.jsx)("strong",{children:e},t):(0,a.jsx)(n.Fragment,{children:e},t)))},Q=({label:e})=>(0,a.jsx)("span",{className:"woocommerce-search-list__item-count",children:e}),K=e=>{const{item:t,search:r}=e,o=t.breadcrumbs&&t.breadcrumbs.length;return(0,a.jsxs)("span",{className:"woocommerce-search-list__item-label",children:[o?(0,a.jsx)("span",{className:"woocommerce-search-list__item-prefix",children:(s=t.breadcrumbs,1===s.length?s.slice(0,1).toString():2===s.length?s.slice(0,1).toString()+" › "+s.slice(-1).toString():s.slice(0,1).toString()+" … "+s.slice(-1).toString())}):null,(0,a.jsx)("span",{className:"woocommerce-search-list__item-name",children:J((0,W.decodeEntities)(t.name),r)})]});var s},X=({countLabel:e,className:t,depth:r=0,controlId:o="",item:s,isSelected:i,isSingle:c,onSelect:l,search:d="",selected:m,useExpandedPanelId:u,...g})=>{const[p,h]=u,b=null!=e&&void 0!==s.count&&null!==s.count,_=!!s.breadcrumbs?.length,w=!!s.children?.length,x=p===s.id,y=(0,B.A)(["woocommerce-search-list__item",`depth-${r}`,t],{"has-breadcrumbs":_,"has-children":w,"has-count":b,"is-expanded":x,"is-radio-button":c});(0,n.useEffect)((()=>{w&&i&&h(s.id)}),[s,w,i,h]);const f=g.name||`search-list-item-${o}`,v=`${f}-${s.id}`,j=(0,n.useCallback)((()=>{h(x?-1:Number(s.id))}),[x,s.id,h]);return w?(0,a.jsx)("div",{className:y,onClick:j,onKeyDown:e=>"Enter"===e.key||" "===e.key?j():null,role:"treeitem",tabIndex:0,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"radio",id:v,name:f,value:s.value,onChange:l(s),onClick:e=>e.stopPropagation(),checked:i,className:"woocommerce-search-list__item-input",...g}),(0,a.jsx)(K,{item:s,search:d}),b?(0,a.jsx)(Q,{label:e||s.count}):null]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.CheckboxControl,{className:"woocommerce-search-list__item-input",checked:i,...!i&&s.children.some((e=>m.find((t=>t.id===e.id))))?{indeterminate:!0}:{},label:J((0,W.decodeEntities)(s.name),d),onChange:()=>{i?l(U(m,s.children,"id"))():l(function(e,t){const r=U(t,e,"id");return[...e,...r]}(m,s.children))()},onClick:e=>e.stopPropagation()}),b?(0,a.jsx)(Q,{label:e||s.count}):null]})}):(0,a.jsxs)("label",{htmlFor:v,className:y,children:[c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{...g,type:"radio",id:v,name:f,value:s.value,onChange:l(s),checked:i,className:"woocommerce-search-list__item-input"}),(0,a.jsx)(K,{item:s,search:d})]}):(0,a.jsx)(S.CheckboxControl,{...g,id:v,name:f,className:"woocommerce-search-list__item-input",value:(0,W.decodeEntities)(s.value),label:J((0,W.decodeEntities)(s.name),d),onChange:l(s),checked:i}),b?(0,a.jsx)(Q,{label:e||s.count}):null]})},Z=X;var ee=r(2624),te=r(3028);r(5022);const re=({id:e,label:t,popoverContents:r,remove:o,screenReaderLabel:s,className:l=""})=>{const[d,m]=(0,n.useState)(!1),u=(0,c.useInstanceId)(re);if(s=s||t,!t)return null;t=(0,W.decodeEntities)(t);const g=(0,B.A)("woocommerce-tag",l,{"has-remove":!!o}),p=`woocommerce-tag__label-${u}`,h=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"screen-reader-text",children:s}),(0,a.jsx)("span",{"aria-hidden":"true",children:t})]});return(0,a.jsxs)("span",{className:g,children:[r?(0,a.jsx)(S.Button,{className:"woocommerce-tag__text",id:p,onClick:()=>m(!0),children:h}):(0,a.jsx)("span",{className:"woocommerce-tag__text",id:p,children:h}),r&&d&&(0,a.jsx)(S.Popover,{onClose:()=>m(!1),children:r}),o&&(0,a.jsx)(S.Button,{className:"woocommerce-tag__remove",onClick:o(e),label:(0,j.sprintf)(
// Translators: %s label.
// Translators: %s label.
(0,j.__)("Remove %s","woocommerce"),t),"aria-describedby":p,children:(0,a.jsx)(i.A,{icon:te.A,size:20,className:"clear-icon",role:"img"})})]})},oe=re;r(1939);const ae=e=>(0,a.jsx)(Z,{...e}),se=e=>{const{list:t,selected:r,renderItem:o,depth:s=0,onSelect:i,instanceId:c,isSingle:l,search:d,useExpandedPanelId:m}=e,[u]=m;return t?(0,a.jsx)(a.Fragment,{children:t.map((t=>{const g=t.children?.length&&!l?t.children.every((({id:e})=>r.find((t=>t.id===e)))):!!r.find((({id:e})=>e===t.id)),p=t.children?.length&&u===t.id;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("li",{children:o({item:t,isSelected:g,onSelect:i,isSingle:l,selected:r,search:d,depth:s,useExpandedPanelId:m,controlId:c})}),p?(0,a.jsx)(se,{...e,list:t.children,depth:s+1}):null]},t.id)}))}):null},ie=({isLoading:e,isSingle:t,selected:r,messages:o,onChange:s,onRemove:i})=>{if(e||t||!r)return null;const n=r.length;return(0,a.jsxs)("div",{className:"woocommerce-search-list__selected",children:[(0,a.jsxs)("div",{className:"woocommerce-search-list__selected-header",children:[(0,a.jsx)("strong",{children:o.selected(n)}),n>0?(0,a.jsx)(S.Button,{variant:"link",isDestructive:!0,onClick:()=>s([]),"aria-label":o.clear,children:(0,j.__)("Clear all","woocommerce")}):null]}),n>0?(0,a.jsx)("ul",{children:r.map(((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)(oe,{label:e.name,id:e.id,remove:i})},t)))}):null]})},ne=({filteredList:e,search:t,onSelect:r,instanceId:o,useExpandedPanelId:s,...n})=>{const{messages:c,renderItem:l,selected:d,isSingle:m}=n,u=l||ae;return 0===e.length?(0,a.jsxs)("div",{className:"woocommerce-search-list__list is-not-found",children:[(0,a.jsx)("span",{className:"woocommerce-search-list__not-found-icon",children:(0,a.jsx)(i.A,{icon:ee.A,role:"img"})}),(0,a.jsx)("span",{className:"woocommerce-search-list__not-found-text",children:t?(0,j.sprintf)(c.noResults,t):c.noItems})]}):(0,a.jsx)("ul",{className:"woocommerce-search-list__list",children:(0,a.jsx)(se,{useExpandedPanelId:s,list:e,selected:d,renderItem:u,onSelect:r,instanceId:o,isSingle:m,search:t})})},ce=e=>{const{className:t="",isCompact:r,isHierarchical:o,isLoading:s,isSingle:i,list:l,messages:d=q,onChange:m,onSearch:u,selected:g,type:p="text",debouncedSpeak:h}=e,[b,_]=(0,n.useState)(""),w=(0,n.useState)(-1),x=(0,c.useInstanceId)(ce),y=(0,n.useMemo)((()=>({...q,...d})),[d]),f=(0,n.useMemo)((()=>((e,t,r)=>{if(!t)return r?Y(e):e;const o=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),a=e.map((e=>!!o.test(e.name)&&e)).filter(Boolean);return r?Y(a,e):a})(l,b,o)),[l,b,o]);(0,n.useEffect)((()=>{h&&h(y.updated)}),[h,y]),(0,n.useEffect)((()=>{"function"==typeof u&&u(b)}),[b,u]);const v=(0,n.useCallback)((e=>()=>{i&&m([]);const t=g.findIndex((({id:t})=>t===e));m([...g.slice(0,t),...g.slice(t+1)])}),[i,g,m]),k=(0,n.useCallback)((e=>()=>{Array.isArray(e)?m(e):-1===g.findIndex((({id:t})=>t===e.id))?m(i?[e]:[...g,e]):v(e.id)()}),[i,v,m,g]),I=(0,n.useCallback)((e=>{const[t]=g.filter((t=>!e.find((e=>t.id===e.id))));v(t.id)()}),[v,g]);return(0,a.jsxs)("div",{className:(0,B.A)("woocommerce-search-list",t,{"is-compact":r,"is-loading":s,"is-token":"token"===p}),children:["text"===p&&(0,a.jsx)(ie,{...e,onRemove:v,messages:y}),(0,a.jsx)("div",{className:"woocommerce-search-list__search",children:"text"===p?(0,a.jsx)(S.TextControl,{label:y.search,type:"search",value:b,onChange:e=>_(e)}):(0,a.jsx)(S.FormTokenField,{disabled:s,label:y.search,onChange:I,onInputChange:e=>_(e),suggestions:[],__experimentalValidateInput:()=>!1,value:s?[(0,j.__)("Loading…","woocommerce")]:g.map((e=>({...e,value:e.name}))),__experimentalShowHowTo:!1})}),s?(0,a.jsx)("div",{className:"woocommerce-search-list__list",children:(0,a.jsx)(S.Spinner,{})}):(0,a.jsx)(ne,{...e,search:b,filteredList:f,messages:y,onSelect:k,instanceId:x,useExpandedPanelId:w})]})},le=((0,S.withSpokenMessages)(ce),e=>({selected:t,...r})=>{const[o,s]=(0,n.useState)(!0),[i,c]=(0,n.useState)(null),[d,u]=(0,n.useState)([]),g=async e=>{const t=await f(e);c(t),s(!1)},p=(0,n.useRef)(t);return(0,n.useEffect)((()=>{var e;(e={selected:p.current},m()({path:(0,l.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})})).then((e=>{u(e),s(!1)})).catch(g)}),[p]),(0,a.jsx)(e,{...r,selected:t,error:i,categories:d,isLoading:o})});r(6982);const de=le((({categories:e=[],error:t=null,isLoading:r=!1,onChange:o,onOperatorChange:s,operator:i="any",selected:n,isCompact:c=!1,isSingle:l=!1,showReviewCount:d})=>{const m={clear:(0,j.__)("Clear all product categories","woocommerce"),list:(0,j.__)("Product Categories","woocommerce"),noItems:(0,j.__)("Your store doesn't have any product categories.","woocommerce"),search:(0,j.__)("Search for product categories","woocommerce"),selected:e=>(0,j.sprintf)(/* translators: %d is the count of selected categories. */ /* translators: %d is the count of selected categories. */
(0,j._n)("%d category selected","%d categories selected",e,"woocommerce"),e),updated:(0,j.__)("Category search results updated.","woocommerce")};if(t)return(0,a.jsx)(H,{error:t});const u=e.map(E);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ce,{className:"woocommerce-product-categories",list:u,isLoading:r,selected:u.filter((({id:e})=>n.includes(Number(e)))),onChange:o,renderItem:e=>{const{item:t,search:r,depth:o=0}=e,s=t.breadcrumbs.length?`${t.breadcrumbs.join(", ")}, ${t.name}`:t.name,i=d?(0,j.sprintf)(/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */ /* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,j._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",t.details?.review_count||0,"woocommerce"),s,t.details?.review_count||0):(0,j.sprintf)(/* translators: %1$s is the item name, %2$d is the count of products for the item. */ /* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,j._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.details?.count||0,"woocommerce"),s,t.details?.count||0),n=d?(0,j.sprintf)(/* translators: %d is the count of reviews. */ /* translators: %d is the count of reviews. */
(0,j._n)("%d review","%d reviews",t.details?.review_count||0,"woocommerce"),t.details?.review_count||0):(0,j.sprintf)(/* translators: %d is the count of products. */ /* translators: %d is the count of products. */
(0,j._n)("%d product","%d products",t.details?.count||0,"woocommerce"),t.details?.count||0);return(0,a.jsx)(X,{className:(0,B.A)("woocommerce-product-categories__item","has-count",{"is-searching":r.length>0,"is-skip-level":0===o&&0!==t.parent}),...e,countLabel:n,"aria-label":i})},messages:m,isCompact:c,isHierarchical:!0,isSingle:l}),!!s&&(0,a.jsx)("div",{hidden:n.length<2,children:(0,a.jsx)(S.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,j.__)("Display products matching","woocommerce"),help:(0,j.__)("Pick at least two categories to use this setting.","woocommerce"),value:i,onChange:s,options:[{label:(0,j.__)("Any selected categories","woocommerce"),value:"any"},{label:(0,j.__)("All selected categories","woocommerce"),value:"all"}]})})]})}));var me=r(4347);var ue=r(923),ge=r.n(ue);const pe=(0,c.createHigherOrderComponent)((e=>{class t extends n.Component{state={error:null,loading:!1,variations:{}};componentDidMount(){const{selected:e,showVariations:t}=this.props;e&&t&&this.loadVariations()}componentDidUpdate(e){const{isLoading:t,selected:r,showVariations:o}=this.props;o&&(!ge()(e.selected,r)||e.isLoading&&!t)&&this.loadVariations()}loadVariations=()=>{const{products:e}=this.props,{loading:t,variations:r}=this.state;if(t)return;const o=this.getExpandedProduct();if(!o||r[o])return;const a=e.find((e=>e.id===o));var s;a?.variations&&0!==a.variations.length?(this.setState({loading:!0}),(s=o,m()({path:(0,l.addQueryArgs)("wc/store/v1/products",{per_page:0,type:"variation",parent:s})})).then((e=>{const t=e.map((e=>({...e,parent:o})));this.setState({variations:{...this.state.variations,[o]:t},loading:!1,error:null})})).catch((async e=>{const t=await f(e);this.setState({variations:{...this.state.variations,[o]:null},loading:!1,error:t})}))):this.setState({variations:{...this.state.variations,[o]:null},loading:!1,error:null})};isProductId(e){const{products:t}=this.props;return t.some((t=>t.id===e))}findParentProduct(e){const{products:t}=this.props,r=t.filter((t=>t.variations&&t.variations.find((({id:t})=>t===e))));return r[0]?.id}getExpandedProduct(){const{isLoading:e,selected:t,showVariations:r}=this.props;if(!r)return null;let o=t&&t.length?t[0]:null;return o?this.prevSelectedItem=o:!this.prevSelectedItem||e||this.isProductId(this.prevSelectedItem)||(o=this.prevSelectedItem),!e&&o?this.isProductId(o)?o:this.findParentProduct(o):null}render(){const{error:t,isLoading:r}=this.props,{error:o,loading:s,variations:i}=this.state;return(0,a.jsx)(e,{...this.props,error:o||t,expandedProduct:this.getExpandedProduct(),isLoading:r,variations:i,variationsLoading:s})}}return t}),"withProductVariations");var he=r(1609);const be=({className:e,item:t,isSelected:r,isLoading:o,onSelect:s,disabled:i,...n})=>(0,a.jsxs)(a.Fragment,{children:[(0,he.createElement)(X,{...n,key:t.id,className:e,isSelected:r,item:t,onSelect:s,disabled:i}),r&&o&&(0,a.jsx)("div",{className:(0,B.A)("woocommerce-search-list__item","woocommerce-product-attributes__item","depth-1","is-loading","is-not-active"),children:(0,a.jsx)(S.Spinner,{})},"loading")]});r(5653);const _e={list:(0,j.__)("Products","woocommerce"),noItems:(0,j.__)("Your store doesn't have any products.","woocommerce"),search:(0,j.__)("Search for a product to display","woocommerce"),updated:(0,j.__)("Product search results updated.","woocommerce")},we=(e=>t=>{let{selected:r}=t;r=void 0===r?null:r;const o=null===r;return Array.isArray(r)?(0,a.jsx)(e,{...t}):(0,a.jsx)(e,{...t,selected:o?[]:[r]})})((xe=pe((0,c.withInstanceId)((e=>{const{expandedProduct:t=null,error:r,instanceId:o,isCompact:s=!1,isLoading:i,onChange:n,onSearch:c,products:l,renderItem:d,selected:m=[],showVariations:u=!1,variations:g,variationsLoading:p}=e;if(r)return(0,a.jsx)(H,{error:r});const h=[...l,...g&&t&&g[t]?g[t]:[]].map(C);return(0,a.jsx)(ce,{className:"woocommerce-products",list:h,isCompact:s,isLoading:i,isSingle:!0,selected:h.filter((({id:e})=>m.includes(Number(e)))),onChange:n,renderItem:d||(u?e=>{const{item:t,search:r,depth:s=0,isSelected:n,onSelect:c}=e,l=t.details?.variations&&Array.isArray(t.details.variations)?t.details.variations.length:0,d=(0,B.A)("woocommerce-search-product__item","woocommerce-search-list__item",`depth-${s}`,"has-count",{"is-searching":r.length>0,"is-skip-level":0===s&&0!==t.parent,"is-variable":l>0});if(!t.breadcrumbs.length){const r=t.details?.variations&&t.details.variations.length>0;return(0,a.jsx)(be,{...e,className:(0,B.A)(d,{"is-selected":n}),isSelected:n,item:t,onSelect:()=>()=>{c(t)()},isLoading:i||p,countLabel:r?(0,j.sprintf)(/* translators: %1$d is the number of variations of a product product. */ /* translators: %1$d is the number of variations of a product product. */
(0,j.__)("%1$d variations","woocommerce"),t.details?.variations.length):null,name:`products-${o}`,"aria-label":r?(0,j.sprintf)(/* translators: %1$s is the product name, %2$d is the number of variations of that product. */ /* translators: %1$s is the product name, %2$d is the number of variations of that product. */
(0,j._n)("%1$s, has %2$d variation","%1$s, has %2$d variations",t.details?.variations?.length,"woocommerce"),t.name,t.details?.variations.length):void 0})}const m=(0,A.isEmpty)(t.details?.variation)?e:{...e,item:{...e.item,name:t.details?.variation},"aria-label":`${t.breadcrumbs[0]}: ${t.details?.variation}`};return(0,a.jsx)(X,{...m,className:d,name:`variations-${o}`})}:void 0),onSearch:c,messages:{..._e,...e.messages},isHierarchical:!0})}))),({selected:e,...t})=>{const[r,o]=(0,n.useState)(!0),[s,i]=(0,n.useState)(null),[c,l]=(0,n.useState)([]),d=g.productCount>100,m=async e=>{const t=await f(e);i(t),o(!1)},u=(0,n.useRef)(e);(0,n.useEffect)((()=>{y({selected:u.current}).then((e=>{l(e),o(!1)})).catch(m)}),[u]);const p=(0,me.YQ)((t=>{y({selected:e,search:t}).then((e=>{l(e),o(!1)})).catch(m)}),400),h=(0,n.useCallback)((e=>{o(!0),p(e)}),[o,p]);return(0,a.jsx)(xe,{...t,selected:e,error:s,products:c,isLoading:r,onSearch:d?h:null})}));var xe,ye=r(7356);const fe=window.wp.styleEngine;function ve(e={}){const t={};return(0,fe.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function Se(e,t){return e&&t?`has-${(0,ye.c)(t)}-${e}`:""}const je=e=>{const t=(e=>{const t=(0,A.isObject)(e)?e:{style:{}};let r=t.style;return(0,A.isString)(r)&&(r=JSON.parse(r)||{}),(0,A.isObject)(r)||(r={}),{...t,style:r}})(e),r=function(e){const{backgroundColor:t,textColor:r,gradient:o,style:a}=e,s=Se("background-color",t),i=Se("color",r),n=function(e){if(e)return`has-${e}-gradient-background`}(o),c=n||a?.color?.gradient;return{className:(0,B.A)(i,n,{[s]:!c&&!!s,"has-text-color":r||a?.color?.text,"has-background":t||a?.color?.background||o||a?.color?.gradient,"has-link-color":(0,A.isObject)(a?.elements?.link)?a?.elements?.link?.color:void 0}),style:ve({color:a?.color||{}})}}(t),o=function(e){const t=e.style?.border||{};return{className:function(e){const{borderColor:t,style:r}=e,o=t?Se("border-color",t):"";return(0,B.A)({"has-border-color":!!t||!!r?.border?.color,[o]:!!o})}(e),style:ve({border:t})}}(t),a=function(e){return{className:void 0,style:ve({spacing:e.style?.spacing||{}})}}(t),s=(e=>{const t=(0,A.isObject)(e.style.typography)?e.style.typography:{},r=(0,A.isString)(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:r,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:(0,B.A)(s.className,r.className,o.className,a.className),style:{...s.style,...r.style,...o.style,...a.style}}},ke=window.wp.autop,Ie=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,Ce=(e,t,r=!0,o="&hellip;",a=!0)=>{const s=e.replace(/<\/?[a-z][^>]*?>/gi,""),i=s.slice(0,t);if(i===s)return a?(0,ke.autop)(s):s;if(r)return(0,ke.autop)(Ie(i,o));const n=i.match(/([\s]+)/g),c=n?n.length:0,l=s.slice(0,t+c);return a?(0,ke.autop)(Ie(l,o)):Ie(l,o)},Ee=({itemId:e,linkText:t,permalink:r})=>{const o=(0,B.A)("wp-block-button__link","is-style-fill");return"preview"===e?(0,a.jsx)("div",{className:"wp-block-button aligncenter",style:{width:"100%"},children:(0,a.jsx)(k.RichText.Content,{tagName:"a",className:o,href:r,title:t,style:{backgroundColor:"vivid-green-cyan",borderRadius:"5px"},value:t,target:r})}):(0,a.jsx)(k.InnerBlocks,{template:[["core/buttons",{layout:{type:"flex",justifyContent:"center"}},[["core/button",{text:(0,j.__)("Shop now","woocommerce"),url:r}]]]],templateLock:"all"})},Ne=({className:e="",onResize:t,...r})=>{const[o,s]=(0,n.useState)(!1),i=(0,B.A)(e,{"is-resizing":o}),c=(0,me.dh)(((e,r,a,i)=>{o||s(!0),t?.(e,r,a,i)}),50,{leading:!0});return(0,a.jsx)(S.ResizableBox,{className:i,enable:{bottom:!0},onResize:c,onResizeStop:(...e)=>{t?.(...e),s(!1)},...r})},Pe=window.wp.data,Ae={icon:s,label:(0,j.__)("Featured Category","woocommerce")},Re={...Ae,cropLabel:(0,j.__)("Edit category image","woocommerce"),editLabel:(0,j.__)("Edit selected category","woocommerce")},Te={...Ae,emptyMessage:(0,j.__)("No product category is selected.","woocommerce"),noSelectionButtonLabel:(0,j.__)("Select a category","woocommerce")},Le={...Ae,description:(0,j.__)("Visually highlight a product category and encourage prompt action.","woocommerce"),editLabel:(0,j.__)("Showing Featured Product block preview.","woocommerce")},Oe=(0,c.compose)([v,S.withSpokenMessages,e=>t=>{const[r,o]=(0,n.useState)(!1),{attributes:s,category:i,clientId:c,product:l}=t,d=i||l,{editMode:m}=s,u=d?.link||d?.permalink,g=(0,Pe.useSelect)((e=>e("core/block-editor").getBlock(c))),p=g?.innerBlocks[0]?.innerBlocks[0],h=p?.clientId||"",b=(0,n.useMemo)((()=>p?.attributes||{}),[p]),{url:_}=b,{updateBlockAttributes:w}=(0,Pe.useDispatch)("core/block-editor");return(0,n.useEffect)((()=>{r&&h&&!m&&u&&_&&u!==_&&(w(h,{url:u}),o(!1))}),[h,r,m,u,w,_]),(0,a.jsx)(e,{...t,triggerUrlUpdate:()=>o(!0)})},e=>t=>{const[r,o]=(0,n.useState)(!1),{isSelected:s}=t;return(0,n.useEffect)((()=>{o(!1)}),[s]),(0,a.jsx)(e,{...t,useEditingImage:[r,o]})},(({description:e,editLabel:t,icon:r,label:o})=>s=>i=>{const{attributes:n,debouncedSpeak:c,name:l,setAttributes:d,triggerUrlUpdate:m=()=>{}}=i,u=z(l);return n.editMode?(0,a.jsxs)(S.Placeholder,{icon:(0,a.jsx)(S.Icon,{icon:r}),label:o,className:u,children:[e,(0,a.jsxs)("div",{className:`${u}__selection`,children:[l===N&&(0,a.jsx)(de,{selected:n.categoryId?[n.categoryId]:[],onChange:(e=[])=>{const t=e[0]?e[0].id:0;d({categoryId:t,mediaId:0,mediaSrc:""}),m()},isSingle:!0}),l===P&&(0,a.jsx)(we,{selected:n.productId?[n.productId]:[],showVariations:!0,onChange:(e=[])=>{const t=e[0]?e[0].id:0;d({productId:t,mediaId:0,mediaSrc:""}),m()}}),(0,a.jsx)(S.Button,{variant:"primary",onClick:()=>{d({editMode:!1}),c(t)},children:(0,j.__)("Done","woocommerce")})]})]}):(0,a.jsx)(s,{...i})})(Le),(({emptyMessage:e,icon:t,label:r,noSelectionButtonLabel:o})=>s=>i=>{const[c]=i.useEditingImage,{attributes:l,category:d,isLoading:m,isSelected:u,name:g,product:p,setAttributes:h}=i,{mediaId:b,mediaSrc:_,isRepeated:w,imageFit:x}=l,y=d||p,[f,v]=(0,n.useState)({}),{backgroundImageSrc:k,isImageBgTransparent:I,originalImgDimension:C}=T({item:y,mediaId:b,mediaSrc:_,blockName:g}),E=(0,n.useRef)(null),[N,P]=(0,n.useState)({height:0,width:0});(0,n.useEffect)((()=>{const e=new ResizeObserver((e=>{P({height:e[0].contentRect.height,width:e[0].contentRect.width})}));if(!1===m){const t=E.current;if(!t)return;e.observe(t)}return()=>e.disconnect()}),[m]);const R=(0,n.useMemo)((()=>(({isImageBgTransparent:e,originalImgDimension:t,parentContainerDimension:r,isRepeated:o,imageFit:a})=>e?{isBackgroundVisible:!0,message:null}:e||!o&&"cover"!==a?!e&&t.height>=r.height&&t.width>=r.width?{isBackgroundVisible:!1,message:(0,j.__)("You've set background color to an opaque image, the background color cannot be seen.","woocommerce")}:(t.height<r.height||(t.width,r.width),{isBackgroundVisible:!0,message:null}):o?{isBackgroundVisible:!1,message:(0,j.__)("You’ve set a background color behind an image set to repeat, the background color cannot be seen.","woocommerce")}:{isBackgroundVisible:!1,message:(0,j.__)("You’ve set a background color behind an image set to cover, the background color cannot be seen.","woocommerce")})({isImageBgTransparent:I,originalImgDimension:C,parentContainerDimension:N,isRepeated:w,imageFit:x})),[N,C,w,x,I]),L=z(g),O=(0,n.useCallback)(((e,t,r)=>{h({minHeight:parseInt(r.style.height,10)})}),[h]),F=()=>{const{categoryId:e,linkText:t,productId:r}=l;return(0,a.jsx)(Ee,{itemId:e||r,linkText:t,permalink:(d||p).permalink})},$=je(l);return c?(0,a.jsx)(s,{...i,backgroundImageSize:f,backgroundColorVisibilityStatus:R}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s,{...i,backgroundImageSize:f,backgroundColorVisibilityStatus:R}),y?(()=>{const{contentAlign:e,dimRatio:t,focalPoint:r,hasParallax:o,minHeight:s,overlayColor:i,overlayGradient:n,showDesc:c,showPrice:g,style:h,textColor:b}=l,_=(0,B.A)(L,{"is-selected":u&&"preview"!==l.categoryId&&"preview"!==l.productId,"is-loading":!y&&m,"is-not-found":!y&&!m,"has-background-dim":0!==t,"is-repeated":w},0===(f=t)||50===f?null:"has-background-dim-"+10*Math.round(f/10),"center"!==e&&`has-${e}-content`,$.className);var f;const S={borderRadius:h?.border?.radius,color:b?`var(--wp--preset--color--${b})`:h?.color?.text,boxSizing:"border-box",minHeight:s,...$.style},j=!w&&!o,I=function({focalPoint:e,imageFit:t,isImgElement:r,isRepeated:o,url:a}){let s={};var i;return s=r?{...s,...(i=e,i?{objectPosition:V(i)}:{}),objectFit:t}:{...s,...a&&{backgroundImage:`url(${a})`},backgroundPosition:V(e),...!o&&{backgroundRepeat:"no-repeat",backgroundSize:"cover"===t?t:"auto"}},s}({focalPoint:r,imageFit:x,isImgElement:j,isRepeated:w,url:k}),C={background:n,backgroundColor:i};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ne,{enable:{bottom:!0},onResize:O,showHandle:u,style:{minHeight:s}}),(0,a.jsx)("div",{className:_,ref:E,style:S,children:(0,a.jsxs)("div",{className:`${L}__wrapper`,children:[(0,a.jsx)("div",{className:"background-dim__overlay",style:C}),k&&(j?(0,a.jsx)("img",{alt:y.name,className:`${L}__background-image`,src:k,style:I,onLoad:e=>{v({height:e.currentTarget?.naturalHeight,width:e.currentTarget?.naturalWidth})}}):(0,a.jsx)("div",{className:(0,B.A)(`${L}__background-image`,{"has-parallax":o}),style:I})),(0,a.jsx)("h2",{className:`${L}__title`,dangerouslySetInnerHTML:{__html:y.name}}),!(0,A.isEmpty)(p?.variation)&&(0,a.jsx)("h3",{className:`${L}__variation`,dangerouslySetInnerHTML:{__html:p.variation}}),c&&(0,a.jsx)("div",{className:`${L}__description`,dangerouslySetInnerHTML:{__html:d?.description||p?.short_description||(p?.description?.length>0?Ce(p.description,400):"")}}),g&&(0,a.jsx)("div",{className:`${L}__price`,dangerouslySetInnerHTML:{__html:p.price_html}}),(0,a.jsx)("div",{className:`${L}__link`,children:F()})]})})]})})():(0,a.jsx)(S.Placeholder,{className:L,icon:(0,a.jsx)(S.Icon,{icon:t}),label:r,children:m?(0,a.jsx)(S.Spinner,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("div",{style:{flexBasis:"100%",height:"0"}}),(0,a.jsx)("button",{type:"button",className:"components-button is-secondary",onClick:()=>h({editMode:!0}),children:o})]})})]})})(Te),e=>t=>{const{error:r,isLoading:o,name:s}=t,i=z(s),n=s===N?t.getCategory:t.getProduct;return r?(0,a.jsx)(D,{className:`${i}-error`,error:r,isLoading:o,onRetry:n}):(0,a.jsx)(e,{...t})},e=>t=>{const[r,o]=t.useEditingImage,s=(0,n.useRef)(null),{attributes:i,backgroundImageSize:c,name:l,setAttributes:d}=t,{mediaId:m,mediaSrc:u}=i,g=l===P?t.product:t.category,{backgroundImageId:p,backgroundImageSrc:h}=T({item:g,mediaId:m,mediaSrc:u,blockName:l});return r?(0,a.jsx)("div",{ref:s,children:(0,a.jsx)(O,{align:i.align,backgroundImageId:p,backgroundImageSize:c,backgroundImageSrc:h,containerRef:s,isEditingImage:r,setAttributes:d,setIsEditingImage:o})}):(0,a.jsx)(e,{...t})},e=>t=>{const{attributes:r,name:o,setAttributes:s,backgroundColorVisibilityStatus:i}=t,{alt:n,dimRatio:c,focalPoint:l,hasParallax:d,isRepeated:m,imageFit:u,mediaId:g,mediaSrc:p,overlayColor:h,overlayGradient:b,showDesc:_,showPrice:w,backgroundColor:x,style:y}=r,f=o===P?t.product:t.category,{setGradient:v}=(0,k.__experimentalUseGradient)({gradientAttribute:"overlayGradient",customGradientAttribute:"overlayGradient"}),I=o===P?(0,a.jsx)(S.ToggleControl,{label:(0,j.__)("Show price","woocommerce"),checked:w,onChange:()=>s({showPrice:!w})}):void 0,{backgroundImageSrc:C}=T({item:f,mediaId:g,mediaSrc:p,blockName:o});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F,{alt:n,backgroundImageSrc:C,contentPanel:I,dimRatio:c,focalPoint:l,hasParallax:d,isRepeated:m,imageFit:u,overlayColor:h,overlayGradient:b,setAttributes:s,setGradient:v,showDesc:_,backgroundColorVisibilityStatus:i,backgroundColor:x||y?.color?.background}),(0,a.jsx)(e,{...t})]})},(({cropLabel:e,editLabel:t})=>r=>o=>{const[s,i]=o.useEditingImage,{attributes:n,category:c,name:l,product:d,setAttributes:m}=o,{contentAlign:u,editMode:g,mediaId:p,mediaSrc:h}=n,b=c||d,{backgroundImageId:_,backgroundImageSrc:w}=T({item:b,mediaId:p,mediaSrc:h,blockName:l});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L,{backgroundImageId:_,backgroundImageSrc:w,contentAlign:u,cropLabel:e,editLabel:t,editMode:g,isEditingImage:s,mediaSrc:h,setAttributes:m,setIsEditingImage:i}),(0,a.jsx)(r,{...o})]})})(Re)])((()=>(0,a.jsx)(a.Fragment,{}))),Fe=JSON.parse('{"name":"woocommerce/featured-category","title":"Featured Category","category":"woocommerce","keywords":["WooCommerce"],"description":"Visually highlight a product category and encourage prompt action.","supports":{"interactivity":{"clientNavigation":true},"align":["wide","full"],"ariaLabel":true,"html":false,"color":{"background":true,"text":true},"spacing":{"padding":true,"__experimentalDefaultControls":{"padding":true},"__experimentalSkipSerialization":true},"__experimentalBorder":{"color":true,"radius":true,"width":true,"__experimentalSkipSerialization":true}},"attributes":{"alt":{"type":"string","default":""},"contentAlign":{"type":"string","default":"center"},"dimRatio":{"type":"number","default":50},"editMode":{"type":"boolean","default":true},"focalPoint":{"type":"object","default":{"x":0.5,"y":0.5}},"imageFit":{"type":"string","default":"none"},"hasParallax":{"type":"boolean","default":false},"isRepeated":{"type":"boolean","default":false},"mediaId":{"type":"number","default":0},"mediaSrc":{"type":"string","default":""},"minHeight":{"type":"number","default":500},"linkText":{"default":"Shop now","type":"string"},"categoryId":{"type":"number"},"overlayColor":{"type":"string","default":"#000000"},"overlayGradient":{"type":"string"},"previewCategory":{"type":"object","default":null},"showDesc":{"type":"boolean","default":true}},"textdomain":"woocommerce","apiVersion":3,"$schema":"https://schemas.wp.org/trunk/block.json"}'),$e=window.wp.blocks;function Be(e){return function(t){const r=(0,k.useBlockProps)(),{color:o,...s}=r.style;return(0,a.jsx)("div",{...r,style:s,children:(0,a.jsx)(e,{...t})})}}!function(e,t,r,o){const s={attributes:{...r.attributes,minHeight:{type:"number",default:(0,u.getSetting)("defaultHeight",500)}},supports:{...r.supports,color:{background:r.supports?.color?.background,text:r.supports?.color?.text},spacing:{padding:r.supports?.spacing?.padding,__experimentalDefaultControls:{padding:r.supports?.spacing?.__experimentalDefaultControls},__experimentalSkipSerialization:r.supports?.spacing?.__experimentalSkipSerialization},__experimentalBorder:r?.supports?.__experimentalBorder}},i={attributes:{alt:"",contentAlign:"center",dimRatio:50,editMode:!1,hasParallax:!1,isRepeated:!1,height:(0,u.getSetting)("defaultHeight",500),mediaSrc:"",overlayColor:"#000000",showDesc:!0}};(0,$e.registerBlockType)(r,{...s,example:{...i,...t},edit:Be(e),save:()=>(0,a.jsx)(k.InnerBlocks.Content,{}),...o})}(Oe,{attributes:{categoryId:"preview",previewCategory:{id:1,name:(0,j.__)("Clothing","woocommerce"),slug:"clothing",parent:0,count:10,description:`<p>${(0,j.__)("Branded t-shirts, jumpers, pants and more!","woocommerce")}</p>\n`,image:{id:1,date_created:"2019-07-15T17:05:04",date_created_gmt:"2019-07-15T17:05:04",date_modified:"2019-07-15T17:05:04",date_modified_gmt:"2019-07-15T17:05:04",src:p+"previews/collection.jpg",name:"",alt:""},permalink:"#"},editMode:!1}},Fe,{icon:{src:(0,a.jsx)(i.A,{icon:s,className:"wc-block-editor-components-block-icon"})}})},1117:()=>{},9926:()=>{},3120:()=>{},6982:()=>{},5653:()=>{},1939:()=>{},5022:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},9491:e=>{"use strict";e.exports=window.wp.compose},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},5573:e=>{"use strict";e.exports=window.wp.primitives}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e].call(r.exports,r,r.exports,s),r.exports}s.m=o,e=[],s.O=(t,r,o,a)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,o,a]=e[d],n=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(s.O).every((e=>s.O[e](r[c])))?r.splice(c--,1):(n=!1,a<i&&(i=a));if(n){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var i={};t=t||[null,r({}),r([]),r(r)];for(var n=2&o&&e;"object"==typeof n&&!~t.indexOf(n);n=r(n))Object.getOwnPropertyNames(n).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,s.d(a,i),a},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.j=9918,(()=>{var e={9918:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,n,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(c)var d=c(s)}for(t&&t(r);l<i.length;l++)a=i[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},r=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=s.O(void 0,[94],(()=>s(8809)));i=s.O(i),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["featured-category"]=i})();
=======
(()=>{var e,t,r,a={1405:(e,t,r)=>{"use strict";r.r(t);var a=r(1609),o=r(5573);const n=(0,a.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24"},(0,a.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,a.createElement)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10zm-6.92-3.96L12.39 17 15 15.47 17.61 17l-.69-2.96 2.3-1.99-3.03-.26L15 9l-1.19 2.79-3.03.26z"}));var i=r(7104),l=(r(2247),r(6467),r(6087)),c=r(9491);const s=window.wp.url,d=window.wp.apiFetch;var m=r.n(d);const u=window.wc.wcSettings;var g,p,h,v,b,_,w,E,y,f;const S=(0,u.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),k=S.pluginUrl+"assets/images/",I=(S.pluginUrl,null===(g=u.STORE_PAGES.shop)||void 0===g||g.permalink,null===(p=u.STORE_PAGES.checkout)||void 0===p||p.id,null===(h=u.STORE_PAGES.checkout)||void 0===h||h.permalink,null===(v=u.STORE_PAGES.privacy)||void 0===v||v.permalink,null===(b=u.STORE_PAGES.privacy)||void 0===b||b.title,null===(_=u.STORE_PAGES.terms)||void 0===_||_.permalink,null===(w=u.STORE_PAGES.terms)||void 0===w||w.title,null===(E=u.STORE_PAGES.cart)||void 0===E||E.id,null===(y=u.STORE_PAGES.cart)||void 0===y||y.permalink,null!==(f=u.STORE_PAGES.myaccount)&&void 0!==f&&f.permalink?u.STORE_PAGES.myaccount.permalink:(0,u.getSetting)("wpLoginUrl","/wp-login.php"),(0,u.getSetting)("localPickupEnabled",!1),(0,u.getSetting)("shippingMethodsExist",!1),(0,u.getSetting)("shippingEnabled",!0),(0,u.getSetting)("countries",{})),C=(0,u.getSetting)("countryData",{}),x=(Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowBilling)).map((e=>[e,I[e]||""]))),Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowBilling)).map((e=>[e,C[e].states||{}]))),Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowShipping)).map((e=>[e,I[e]||""]))),Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowShipping)).map((e=>[e,C[e].states||{}]))),Object.fromEntries(Object.keys(C).map((e=>[e,C[e].locale||{}]))),{address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]}),N=((0,u.getSetting)("addressFieldsLocations",x).address,(0,u.getSetting)("addressFieldsLocations",x).contact,(0,u.getSetting)("addressFieldsLocations",x).order,(0,u.getSetting)("additionalOrderFields",{}),(0,u.getSetting)("additionalContactFields",{}),(0,u.getSetting)("additionalAddressFields",{}),(e,t)=>{const r=new Map;return e.filter((e=>{const a=t(e);return!r.has(a)&&(r.set(a,e),!0)}))}),P=({selected:e=[],search:t="",queryArgs:r={}})=>{const a=(({selected:e=[],search:t="",queryArgs:r={}})=>{const a=S.productCount>100,o={per_page:a?100:0,catalog_visibility:"any",search:t,orderby:"title",order:"asc"},n=[(0,s.addQueryArgs)("/wc/store/v1/products",{...o,...r})];return a&&e.length&&n.push((0,s.addQueryArgs)("/wc/store/v1/products",{catalog_visibility:"any",include:e,per_page:0})),n})({selected:e,search:t,queryArgs:r});return Promise.all(a.map((e=>m()({path:e})))).then((e=>{const t=e.flat(),r=N(t,(e=>e.id));return r.map((e=>({...e,parent:0})))})).catch((e=>{throw e}))},A=async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}},R=(0,c.createHigherOrderComponent)((e=>class extends l.Component{constructor(){super(...arguments),this.state={error:null,loading:!1,category:"preview"===this.props.attributes.categoryId?this.props.attributes.previewCategory:null},this.loadCategory=this.loadCategory.bind(this)}componentDidMount(){this.loadCategory()}componentDidUpdate(e){e.attributes.categoryId!==this.props.attributes.categoryId&&this.loadCategory()}loadCategory(){const{categoryId:e}=this.props.attributes;"preview"!==e&&(e?(this.setState({loading:!0}),(e=>m()({path:`wc/store/v1/products/categories/${e}`}))(e).then((e=>{this.setState({category:e,loading:!1,error:null})})).catch((async e=>{const t=await A(e);this.setState({category:null,loading:!1,error:t})}))):this.setState({category:null,loading:!1,error:null}))}render(){const{error:t,loading:r,category:o}=this.state;return(0,a.createElement)(e,{...this.props,error:t,getCategory:this.loadCategory,isLoading:r,category:o})}}),"withCategory"),L=window.wp.components;var O=r(7723);const T=window.wp.blockEditor;var $=r(3884);const F=e=>{const{id:t,name:r,parent:a}=e;return{id:t,name:r,parent:a,breadcrumbs:[],children:[],details:e,value:e.slug}},M=e=>{const{id:t,name:r,parent:a,count:o}=e;return{id:t,name:r,parent:a,count:o,breadcrumbs:[],children:[],details:e,value:e.slug}},j="woocommerce/featured-category",B="woocommerce/featured-product",G=window.wc.wcTypes;function H(e){return!!e&&(0,G.isNumber)(e.id)&&"string"==typeof e.src}function z({blockName:e,item:t,mediaId:r,mediaSrc:a}){const[o,n]=(0,l.useState)(0),[i,c]=(0,l.useState)("");return(0,l.useEffect)((()=>{var a,o;n(r||(e===B?(o=t)&&o.images&&o.images.length&&o.images[0].id||0:(a=t)&&H(a.image)?a.image.id:0))}),[e,t,r]),(0,l.useEffect)((()=>{var r,o;c(a||(e===B?(o=t)&&o.images&&o.images.length&&o.images[0].src||"":(r=t)&&H(r.image)?r.image.src:""))}),[e,t,a]),{backgroundImageId:o,backgroundImageSrc:i}}const D=({backgroundImageId:e,backgroundImageSrc:t,contentAlign:r,cropLabel:o,editLabel:n,editMode:i,isEditingImage:l,mediaSrc:c,setAttributes:s,setIsEditingImage:d})=>(0,a.createElement)(T.BlockControls,null,(0,a.createElement)(T.AlignmentToolbar,{value:r,onChange:e=>{s({contentAlign:e})}}),(0,a.createElement)(L.ToolbarGroup,null,t&&!l&&(0,a.createElement)(L.ToolbarButton,{onClick:()=>d(!0),icon:$.A,label:o}),(0,a.createElement)(T.MediaReplaceFlow,{mediaId:e,mediaURL:c,accept:"image/*",onSelect:e=>{s({mediaId:e.id,mediaSrc:e.url})},allowedTypes:["image"]}),e&&c?(0,a.createElement)(L.ToolbarButton,{onClick:()=>s({mediaId:0,mediaSrc:""})},(0,O.__)("Reset","woocommerce")):null),(0,a.createElement)(L.ToolbarGroup,{controls:[{icon:"edit",title:n,onClick:()=>s({editMode:!i}),isActive:i}]})),V=({align:e,backgroundImageId:t,backgroundImageSize:r,backgroundImageSrc:o,containerRef:n,isEditingImage:i,setAttributes:c,setIsEditingImage:s})=>{const d=function(e,t){const[r,a]=(0,l.useState)(),o=(0,l.useCallback)((()=>{var t;a(null===(t=e.current)||void 0===t?void 0:t.clientWidth)}),[e]);return(0,l.useEffect)(o,[o,...t]),(0,l.useEffect)((()=>{if(!e.current)return;const{defaultView:t}=e.current.ownerDocument;return t?(t.addEventListener("resize",o),()=>{t.removeEventListener("resize",o)}):void 0}),[e,o]),r}(n,[e]);return"function"==typeof T.__experimentalImageEditingProvider?(0,a.createElement)(T.__experimentalImageEditingProvider,{id:t,url:o,naturalHeight:r.height||500,naturalWidth:r.width||500,onSaveImage:({id:e,url:t})=>{c({mediaId:e,mediaSrc:t})},isEditing:i,onFinishEditing:()=>s(!1)},(0,a.createElement)(T.__experimentalImageEditor,{url:o,height:r.height||500,width:r.width||500})):(0,a.createElement)(T.__experimentalImageEditor,{id:t,url:o,height:r.height||500,width:r.width||500,naturalHeight:r.height,naturalWidth:r.width,onSaveImage:({id:e,url:t})=>{c({mediaId:e,mediaSrc:t})},onFinishEditing:()=>s(!1),clientWidth:d})},U=({alt:e,backgroundImageSrc:t,contentPanel:r,dimRatio:o,focalPoint:n,hasParallax:i,imageFit:l,isRepeated:c,overlayColor:s,overlayGradient:d,setAttributes:m,setGradient:u,showDesc:g})=>{const p="function"==typeof L.FocalPointPicker,h=!c&&!i;return(0,a.createElement)(T.InspectorControls,{key:"inspector"},(0,a.createElement)(L.PanelBody,{title:(0,O.__)("Content","woocommerce")},(0,a.createElement)(L.ToggleControl,{label:(0,O.__)("Show description","woocommerce"),checked:g,onChange:()=>m({showDesc:!g})}),r),!!t&&(0,a.createElement)(a.Fragment,null,p&&(0,a.createElement)(L.PanelBody,{title:(0,O.__)("Media settings","woocommerce")},(0,a.createElement)(L.ToggleControl,{label:(0,O.__)("Fixed background","woocommerce"),checked:i,onChange:()=>{m({hasParallax:!i})}}),(0,a.createElement)(L.ToggleControl,{label:(0,O.__)("Repeated background","woocommerce"),checked:c,onChange:()=>{m({isRepeated:!c})}}),!c&&(0,a.createElement)(L.__experimentalToggleGroupControl,{help:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{style:{display:"block",marginBottom:"1em"}},(0,O.__)("Select “Cover” to have the image automatically fit its container.","woocommerce")),(0,a.createElement)("span",null,(0,O.__)("This may affect your ability to freely move the focal point of the image.","woocommerce"))),label:(0,O.__)("Image fit","woocommerce"),isBlock:!0,value:l,onChange:e=>m({imageFit:e})},(0,a.createElement)(L.__experimentalToggleGroupControlOption,{label:(0,O.__)("None","woocommerce"),value:"none"}),(0,a.createElement)(L.__experimentalToggleGroupControlOption
/* translators: "Cover" is a verb that indicates an image covering the entire container. */,{label:(0,O.__)("Cover","woocommerce"),value:"cover"})),(0,a.createElement)(L.FocalPointPicker,{label:(0,O.__)("Focal Point Picker","woocommerce"),url:t,value:n,onChange:e=>m({focalPoint:e})}),h&&(0,a.createElement)(L.TextareaControl,{label:(0,O.__)("Alt text (alternative text)","woocommerce"),value:e,onChange:e=>{m({alt:e})},help:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(L.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,O.__)("Describe the purpose of the image","woocommerce")))})),(0,a.createElement)(T.__experimentalPanelColorGradientSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,O.__)("Overlay","woocommerce"),initialOpen:!0,settings:[{colorValue:s,gradientValue:d,onColorChange:e=>m({overlayColor:e}),onGradientChange:e=>{u(e),m({overlayGradient:e})},label:(0,O.__)("Color","woocommerce")}]},(0,a.createElement)(L.RangeControl,{label:(0,O.__)("Opacity","woocommerce"),value:o,onChange:e=>m({dimRatio:e}),min:0,max:100,step:10,required:!0}))))};var W=r(3588),q=r(851);const Q=window.wp.escapeHtml,J=({error:e})=>(0,a.createElement)("div",{className:"wc-block-error-message"},(({message:e,type:t})=>e?"general"===t?(0,a.createElement)("span",null,(0,O.__)("The following error was returned","woocommerce"),(0,a.createElement)("br",null),(0,a.createElement)("code",null,(0,Q.escapeHTML)(e))):"api"===t?(0,a.createElement)("span",null,(0,O.__)("The following error was returned from the API","woocommerce"),(0,a.createElement)("br",null),(0,a.createElement)("code",null,(0,Q.escapeHTML)(e))):e:(0,O.__)("An error has prevented the block from being updated.","woocommerce"))(e));r(4974);const Y=({className:e="",error:t,isLoading:r=!1,onRetry:o})=>(0,a.createElement)(L.Placeholder,{icon:(0,a.createElement)(i.A,{icon:W.A}),label:(0,O.__)("Sorry, an error occurred","woocommerce"),className:(0,q.A)("wc-block-api-error",e)},(0,a.createElement)(J,{error:t}),o&&(0,a.createElement)(a.Fragment,null,r?(0,a.createElement)(L.Spinner,null):(0,a.createElement)(L.Button,{variant:"secondary",onClick:o},(0,O.__)("Retry","woocommerce"))));function K(e){return e?`${Math.round(100*e.x)}% ${Math.round(100*e.y)}%`:""}function X(e){return`wc-block-${e.split("/")[1]}`}function Z(e,t,r){const a=new Set(t.map((e=>e[r])));return e.filter((e=>!a.has(e[r])))}const ee=window.wp.htmlEntities,te={clear:(0,O.__)("Clear all selected items","woocommerce"),noItems:(0,O.__)("No items found.","woocommerce"),
/* Translators: %s search term */
noResults:(0,O.__)("No results for %s","woocommerce"),search:(0,O.__)("Search for items","woocommerce"),selected:e=>(0,O.sprintf)(/* translators: Number of items selected from list. */ /* translators: Number of items selected from list. */
(0,O._n)("%d item selected","%d items selected",e,"woocommerce"),e),updated:(0,O.__)("Search results updated.","woocommerce")},re=(e,t=e)=>{const r=e.reduce(((e,t)=>{const r=t.parent||0;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),a=t.reduce(((e,t)=>(e[String(t.id)]=t,e)),{});const o=["0"],n=(e={})=>e.parent?[...n(a[e.parent]),e.name]:e.name?[e.name]:[],i=e=>e.map((e=>{const t=r[e.id];return o.push(""+e.id),{...e,breadcrumbs:n(a[e.parent]),children:t&&t.length?i(t):[]}})),l=i(r[0]||[]);return Object.entries(r).forEach((([e,t])=>{o.includes(e)||l.push(...i(t||[]))})),l},ae=(e,t)=>{if(!t)return e;const r=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(r).map(((e,t)=>r.test(e)?(0,a.createElement)("strong",{key:t},e):(0,a.createElement)(l.Fragment,{key:t},e)))},oe=({label:e})=>(0,a.createElement)("span",{className:"woocommerce-search-list__item-count"},e),ne=e=>{const{item:t,search:r}=e,o=t.breadcrumbs&&t.breadcrumbs.length;return(0,a.createElement)("span",{className:"woocommerce-search-list__item-label"},o?(0,a.createElement)("span",{className:"woocommerce-search-list__item-prefix"},1===(n=t.breadcrumbs).length?n.slice(0,1).toString():2===n.length?n.slice(0,1).toString()+" › "+n.slice(-1).toString():n.slice(0,1).toString()+" … "+n.slice(-1).toString()):null,(0,a.createElement)("span",{className:"woocommerce-search-list__item-name"},ae((0,ee.decodeEntities)(t.name),r)));var n},ie=({countLabel:e,className:t,depth:r=0,controlId:o="",item:n,isSelected:i,isSingle:c,onSelect:s,search:d="",selected:m,useExpandedPanelId:u,...g})=>{var p,h;const[v,b]=u,_=null!=e&&void 0!==n.count&&null!==n.count,w=!(null===(p=n.breadcrumbs)||void 0===p||!p.length),E=!(null===(h=n.children)||void 0===h||!h.length),y=v===n.id,f=(0,q.A)(["woocommerce-search-list__item",`depth-${r}`,t],{"has-breadcrumbs":w,"has-children":E,"has-count":_,"is-expanded":y,"is-radio-button":c});(0,l.useEffect)((()=>{E&&i&&b(n.id)}),[n,E,i,b]);const S=g.name||`search-list-item-${o}`,k=`${S}-${n.id}`,I=(0,l.useCallback)((()=>{b(y?-1:Number(n.id))}),[y,n.id,b]);return E?(0,a.createElement)("div",{className:f,onClick:I,onKeyDown:e=>"Enter"===e.key||" "===e.key?I():null,role:"treeitem",tabIndex:0},c?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"radio",id:k,name:S,value:n.value,onChange:s(n),onClick:e=>e.stopPropagation(),checked:i,className:"woocommerce-search-list__item-input",...g}),(0,a.createElement)(ne,{item:n,search:d}),_?(0,a.createElement)(oe,{label:e||n.count}):null):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(L.CheckboxControl,{className:"woocommerce-search-list__item-input",checked:i,...!i&&n.children.some((e=>m.find((t=>t.id===e.id))))?{indeterminate:!0}:{},label:ae((0,ee.decodeEntities)(n.name),d),onChange:()=>{i?s(Z(m,n.children,"id"))():s(function(e,t){const r=Z(t,e,"id");return[...e,...r]}(m,n.children))()},onClick:e=>e.stopPropagation()}),_?(0,a.createElement)(oe,{label:e||n.count}):null)):(0,a.createElement)("label",{htmlFor:k,className:f},c?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{...g,type:"radio",id:k,name:S,value:n.value,onChange:s(n),checked:i,className:"woocommerce-search-list__item-input"}),(0,a.createElement)(ne,{item:n,search:d})):(0,a.createElement)(L.CheckboxControl,{...g,id:k,name:S,className:"woocommerce-search-list__item-input",value:(0,ee.decodeEntities)(n.value),label:ae((0,ee.decodeEntities)(n.name),d),onChange:s(n),checked:i}),_?(0,a.createElement)(oe,{label:e||n.count}):null)},le=ie;var ce=r(2478),se=r(2370);r(6636);const de=({id:e,label:t,popoverContents:r,remove:o,screenReaderLabel:n,className:s=""})=>{const[d,m]=(0,l.useState)(!1),u=(0,c.useInstanceId)(de);if(n=n||t,!t)return null;t=(0,ee.decodeEntities)(t);const g=(0,q.A)("woocommerce-tag",s,{"has-remove":!!o}),p=`woocommerce-tag__label-${u}`,h=(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:"screen-reader-text"},n),(0,a.createElement)("span",{"aria-hidden":"true"},t));return(0,a.createElement)("span",{className:g},r?(0,a.createElement)(L.Button,{className:"woocommerce-tag__text",id:p,onClick:()=>m(!0)},h):(0,a.createElement)("span",{className:"woocommerce-tag__text",id:p},h),r&&d&&(0,a.createElement)(L.Popover,{onClose:()=>m(!1)},r),o&&(0,a.createElement)(L.Button,{className:"woocommerce-tag__remove",onClick:o(e),label:(0,O.sprintf)(
// Translators: %s label.
// Translators: %s label.
(0,O.__)("Remove %s","woocommerce"),t),"aria-describedby":p},(0,a.createElement)(i.A,{icon:se.A,size:20,className:"clear-icon",role:"img"})))},me=de;r(8137);const ue=e=>(0,a.createElement)(le,{...e}),ge=e=>{const{list:t,selected:r,renderItem:o,depth:n=0,onSelect:i,instanceId:c,isSingle:s,search:d,useExpandedPanelId:m}=e,[u]=m;return t?(0,a.createElement)(l.Fragment,null,t.map((t=>{var g,p;const h=null!==(g=t.children)&&void 0!==g&&g.length&&!s?t.children.every((({id:e})=>r.find((t=>t.id===e)))):!!r.find((({id:e})=>e===t.id)),v=(null===(p=t.children)||void 0===p?void 0:p.length)&&u===t.id;return(0,a.createElement)(l.Fragment,{key:t.id},(0,a.createElement)("li",null,o({item:t,isSelected:h,onSelect:i,isSingle:s,selected:r,search:d,depth:n,useExpandedPanelId:m,controlId:c})),v?(0,a.createElement)(ge,{...e,list:t.children,depth:n+1}):null)}))):null},pe=({isLoading:e,isSingle:t,selected:r,messages:o,onChange:n,onRemove:i})=>{if(e||t||!r)return null;const l=r.length;return(0,a.createElement)("div",{className:"woocommerce-search-list__selected"},(0,a.createElement)("div",{className:"woocommerce-search-list__selected-header"},(0,a.createElement)("strong",null,o.selected(l)),l>0?(0,a.createElement)(L.Button,{variant:"link",isDestructive:!0,onClick:()=>n([]),"aria-label":o.clear},(0,O.__)("Clear all","woocommerce")):null),l>0?(0,a.createElement)("ul",null,r.map(((e,t)=>(0,a.createElement)("li",{key:t},(0,a.createElement)(me,{label:e.name,id:e.id,remove:i}))))):null)},he=({filteredList:e,search:t,onSelect:r,instanceId:o,useExpandedPanelId:n,...l})=>{const{messages:c,renderItem:s,selected:d,isSingle:m}=l,u=s||ue;return 0===e.length?(0,a.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},(0,a.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},(0,a.createElement)(i.A,{icon:ce.A,role:"img"})),(0,a.createElement)("span",{className:"woocommerce-search-list__not-found-text"},t?(0,O.sprintf)(c.noResults,t):c.noItems)):(0,a.createElement)("ul",{className:"woocommerce-search-list__list"},(0,a.createElement)(ge,{useExpandedPanelId:n,list:e,selected:d,renderItem:u,onSelect:r,instanceId:o,isSingle:m,search:t}))},ve=e=>{const{className:t="",isCompact:r,isHierarchical:o,isLoading:n,isSingle:i,list:s,messages:d=te,onChange:m,onSearch:u,selected:g,type:p="text",debouncedSpeak:h}=e,[v,b]=(0,l.useState)(""),_=(0,l.useState)(-1),w=(0,c.useInstanceId)(ve),E=(0,l.useMemo)((()=>({...te,...d})),[d]),y=(0,l.useMemo)((()=>((e,t,r)=>{if(!t)return r?re(e):e;const a=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),o=e.map((e=>!!a.test(e.name)&&e)).filter(Boolean);return r?re(o,e):o})(s,v,o)),[s,v,o]);(0,l.useEffect)((()=>{h&&h(E.updated)}),[h,E]),(0,l.useEffect)((()=>{"function"==typeof u&&u(v)}),[v,u]);const f=(0,l.useCallback)((e=>()=>{i&&m([]);const t=g.findIndex((({id:t})=>t===e));m([...g.slice(0,t),...g.slice(t+1)])}),[i,g,m]),S=(0,l.useCallback)((e=>()=>{Array.isArray(e)?m(e):-1===g.findIndex((({id:t})=>t===e.id))?m(i?[e]:[...g,e]):f(e.id)()}),[i,f,m,g]),k=(0,l.useCallback)((e=>{const[t]=g.filter((t=>!e.find((e=>t.id===e.id))));f(t.id)()}),[f,g]);return(0,a.createElement)("div",{className:(0,q.A)("woocommerce-search-list",t,{"is-compact":r,"is-loading":n,"is-token":"token"===p})},"text"===p&&(0,a.createElement)(pe,{...e,onRemove:f,messages:E}),(0,a.createElement)("div",{className:"woocommerce-search-list__search"},"text"===p?(0,a.createElement)(L.TextControl,{label:E.search,type:"search",value:v,onChange:e=>b(e)}):(0,a.createElement)(L.FormTokenField,{disabled:n,label:E.search,onChange:k,onInputChange:e=>b(e),suggestions:[],__experimentalValidateInput:()=>!1,value:n?[(0,O.__)("Loading…","woocommerce")]:g.map((e=>({...e,value:e.name}))),__experimentalShowHowTo:!1})),n?(0,a.createElement)("div",{className:"woocommerce-search-list__list"},(0,a.createElement)(L.Spinner,null)):(0,a.createElement)(he,{...e,search:v,filteredList:y,messages:E,onSelect:S,instanceId:w,useExpandedPanelId:_}))},be=((0,L.withSpokenMessages)(ve),e=>({selected:t,...r})=>{const[o,n]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null),[d,u]=(0,l.useState)([]),g=async e=>{const t=await A(e);c(t),n(!1)},p=(0,l.useRef)(t);return(0,l.useEffect)((()=>{var e;(e={selected:p.current},m()({path:(0,s.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})})).then((e=>{u(e),n(!1)})).catch(g)}),[p]),(0,a.createElement)(e,{...r,selected:t,error:i,categories:d,isLoading:o})});r(6876);const _e=be((({categories:e=[],error:t=null,isLoading:r=!1,onChange:o,onOperatorChange:n,operator:i="any",selected:l,isCompact:c=!1,isSingle:s=!1,showReviewCount:d})=>{const m={clear:(0,O.__)("Clear all product categories","woocommerce"),list:(0,O.__)("Product Categories","woocommerce"),noItems:(0,O.__)("Your store doesn't have any product categories.","woocommerce"),search:(0,O.__)("Search for product categories","woocommerce"),selected:e=>(0,O.sprintf)(/* translators: %d is the count of selected categories. */ /* translators: %d is the count of selected categories. */
(0,O._n)("%d category selected","%d categories selected",e,"woocommerce"),e),updated:(0,O.__)("Category search results updated.","woocommerce")};if(t)return(0,a.createElement)(J,{error:t});const u=e.map(M);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(ve,{className:"woocommerce-product-categories",list:u,isLoading:r,selected:u.filter((({id:e})=>l.includes(Number(e)))),onChange:o,renderItem:e=>{var t,r,o,n,i,l,c,s;const{item:m,search:u,depth:g=0}=e,p=m.breadcrumbs.length?`${m.breadcrumbs.join(", ")}, ${m.name}`:m.name,h=d?(0,O.sprintf)(/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */ /* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,O._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",(null===(t=m.details)||void 0===t?void 0:t.review_count)||0,"woocommerce"),p,(null===(r=m.details)||void 0===r?void 0:r.review_count)||0):(0,O.sprintf)(/* translators: %1$s is the item name, %2$d is the count of products for the item. */ /* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,O._n)("%1$s, has %2$d product","%1$s, has %2$d products",(null===(o=m.details)||void 0===o?void 0:o.count)||0,"woocommerce"),p,(null===(n=m.details)||void 0===n?void 0:n.count)||0),v=d?(0,O.sprintf)(/* translators: %d is the count of reviews. */ /* translators: %d is the count of reviews. */
(0,O._n)("%d review","%d reviews",(null===(i=m.details)||void 0===i?void 0:i.review_count)||0,"woocommerce"),(null===(l=m.details)||void 0===l?void 0:l.review_count)||0):(0,O.sprintf)(/* translators: %d is the count of products. */ /* translators: %d is the count of products. */
(0,O._n)("%d product","%d products",(null===(c=m.details)||void 0===c?void 0:c.count)||0,"woocommerce"),(null===(s=m.details)||void 0===s?void 0:s.count)||0);return(0,a.createElement)(ie,{className:(0,q.A)("woocommerce-product-categories__item","has-count",{"is-searching":u.length>0,"is-skip-level":0===g&&0!==m.parent}),...e,countLabel:v,"aria-label":h})},messages:m,isCompact:c,isHierarchical:!0,isSingle:s}),!!n&&(0,a.createElement)("div",{hidden:l.length<2},(0,a.createElement)(L.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,O.__)("Display products matching","woocommerce"),help:(0,O.__)("Pick at least two categories to use this setting.","woocommerce"),value:i,onChange:n,options:[{label:(0,O.__)("Any selected categories","woocommerce"),value:"any"},{label:(0,O.__)("All selected categories","woocommerce"),value:"all"}]})))}));var we=r(4717);var Ee=r(2294),ye=r(923),fe=r.n(ye);const Se=(0,c.createHigherOrderComponent)((e=>{class t extends l.Component{constructor(...e){super(...e),(0,Ee.A)(this,"state",{error:null,loading:!1,variations:{}}),(0,Ee.A)(this,"prevSelectedItem",void 0),(0,Ee.A)(this,"loadVariations",(()=>{const{products:e}=this.props,{loading:t,variations:r}=this.state;if(t)return;const a=this.getExpandedProduct();if(!a||r[a])return;const o=e.find((e=>e.id===a));var n;null!=o&&o.variations&&0!==o.variations.length?(this.setState({loading:!0}),(n=a,m()({path:(0,s.addQueryArgs)("wc/store/v1/products",{per_page:0,type:"variation",parent:n})})).then((e=>{const t=e.map((e=>({...e,parent:a})));this.setState({variations:{...this.state.variations,[a]:t},loading:!1,error:null})})).catch((async e=>{const t=await A(e);this.setState({variations:{...this.state.variations,[a]:null},loading:!1,error:t})}))):this.setState({variations:{...this.state.variations,[a]:null},loading:!1,error:null})}))}componentDidMount(){const{selected:e,showVariations:t}=this.props;e&&t&&this.loadVariations()}componentDidUpdate(e){const{isLoading:t,selected:r,showVariations:a}=this.props;a&&(!fe()(e.selected,r)||e.isLoading&&!t)&&this.loadVariations()}isProductId(e){const{products:t}=this.props;return t.some((t=>t.id===e))}findParentProduct(e){var t;const{products:r}=this.props;return null===(t=r.filter((t=>t.variations&&t.variations.find((({id:t})=>t===e))))[0])||void 0===t?void 0:t.id}getExpandedProduct(){const{isLoading:e,selected:t,showVariations:r}=this.props;if(!r)return null;let a=t&&t.length?t[0]:null;return a?this.prevSelectedItem=a:!this.prevSelectedItem||e||this.isProductId(this.prevSelectedItem)||(a=this.prevSelectedItem),!e&&a?this.isProductId(a)?a:this.findParentProduct(a):null}render(){const{error:t,isLoading:r}=this.props,{error:o,loading:n,variations:i}=this.state;return(0,a.createElement)(e,{...this.props,error:o||t,expandedProduct:this.getExpandedProduct(),isLoading:r,variations:i,variationsLoading:n})}}return t}),"withProductVariations"),ke=({className:e,item:t,isSelected:r,isLoading:o,onSelect:n,disabled:i,...l})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(ie,{...l,key:t.id,className:e,isSelected:r,item:t,onSelect:n,disabled:i}),r&&o&&(0,a.createElement)("div",{key:"loading",className:(0,q.A)("woocommerce-search-list__item","woocommerce-product-attributes__item","depth-1","is-loading","is-not-active")},(0,a.createElement)(L.Spinner,null)));r(7369);const Ie={list:(0,O.__)("Products","woocommerce"),noItems:(0,O.__)("Your store doesn't have any products.","woocommerce"),search:(0,O.__)("Search for a product to display","woocommerce"),updated:(0,O.__)("Product search results updated.","woocommerce")},Ce=(e=>t=>{let{selected:r}=t;r=void 0===r?null:r;const o=null===r;return Array.isArray(r)?(0,a.createElement)(e,{...t}):(0,a.createElement)(e,{...t,selected:o?[]:[r]})})((xe=Se((0,c.withInstanceId)((e=>{const{expandedProduct:t=null,error:r,instanceId:o,isCompact:n=!1,isLoading:i,onChange:l,onSearch:c,products:s,renderItem:d,selected:m=[],showVariations:u=!1,variations:g,variationsLoading:p}=e;if(r)return(0,a.createElement)(J,{error:r});const h=[...s,...g&&t&&g[t]?g[t]:[]].map(F);return(0,a.createElement)(ve,{className:"woocommerce-products",list:h,isCompact:n,isLoading:i,isSingle:!0,selected:h.filter((({id:e})=>m.includes(Number(e)))),onChange:l,renderItem:d||(u?e=>{var t,r,n,l;const{item:c,search:s,depth:d=0,isSelected:m,onSelect:u}=e,g=null!==(t=c.details)&&void 0!==t&&t.variations&&Array.isArray(c.details.variations)?c.details.variations.length:0,h=(0,q.A)("woocommerce-search-product__item","woocommerce-search-list__item",`depth-${d}`,"has-count",{"is-searching":s.length>0,"is-skip-level":0===d&&0!==c.parent,"is-variable":g>0});if(!c.breadcrumbs.length){var v,b,_,w;const t=(null===(v=c.details)||void 0===v?void 0:v.variations)&&c.details.variations.length>0;return(0,a.createElement)(ke,{...e,className:(0,q.A)(h,{"is-selected":m}),isSelected:m,item:c,onSelect:()=>()=>{u(c)()},isLoading:i||p,countLabel:t?(0,O.sprintf)(/* translators: %1$d is the number of variations of a product product. */ /* translators: %1$d is the number of variations of a product product. */
(0,O.__)("%1$d variations","woocommerce"),null===(b=c.details)||void 0===b?void 0:b.variations.length):null,name:`products-${o}`,"aria-label":t?(0,O.sprintf)(/* translators: %1$s is the product name, %2$d is the number of variations of that product. */ /* translators: %1$s is the product name, %2$d is the number of variations of that product. */
(0,O._n)("%1$s, has %2$d variation","%1$s, has %2$d variations",null===(_=c.details)||void 0===_||null===(_=_.variations)||void 0===_?void 0:_.length,"woocommerce"),c.name,null===(w=c.details)||void 0===w?void 0:w.variations.length):void 0})}const E=(0,G.isEmpty)(null===(r=c.details)||void 0===r?void 0:r.variation)?e:{...e,item:{...e.item,name:null===(n=c.details)||void 0===n?void 0:n.variation},"aria-label":`${c.breadcrumbs[0]}: ${null===(l=c.details)||void 0===l?void 0:l.variation}`};return(0,a.createElement)(ie,{...E,className:h,name:`variations-${o}`})}:void 0),onSearch:c,messages:{...Ie,...e.messages},isHierarchical:!0})}))),({selected:e,...t})=>{const[r,o]=(0,l.useState)(!0),[n,i]=(0,l.useState)(null),[c,s]=(0,l.useState)([]),d=S.productCount>100,m=async e=>{const t=await A(e);i(t),o(!1)},u=(0,l.useRef)(e);(0,l.useEffect)((()=>{P({selected:u.current}).then((e=>{s(e),o(!1)})).catch(m)}),[u]);const g=(0,we.YQ)((t=>{P({selected:e,search:t}).then((e=>{s(e),o(!1)})).catch(m)}),400),p=(0,l.useCallback)((e=>{o(!0),g(e)}),[o,g]);return(0,a.createElement)(xe,{...t,selected:e,error:n,products:c,isLoading:r,onSearch:d?p:null})}));var xe,Ne=r(1194);const Pe=window.wp.styleEngine;function Ae(e={}){const t={};return(0,Pe.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function Re(e,t){return e&&t?`has-${(0,Ne.c)(t)}-${e}`:""}const Le=e=>{const t=(e=>{const t=(0,G.isObject)(e)?e:{style:{}};let r=t.style;return(0,G.isString)(r)&&(r=JSON.parse(r)||{}),(0,G.isObject)(r)||(r={}),{...t,style:r}})(e),r=function(e){var t,r,a,o,n,i;const{backgroundColor:l,textColor:c,gradient:s,style:d}=e,m=Re("background-color",l),u=Re("color",c),g=function(e){if(e)return`has-${e}-gradient-background`}(s),p=g||(null==d||null===(t=d.color)||void 0===t?void 0:t.gradient);return{className:(0,q.A)(u,g,{[m]:!p&&!!m,"has-text-color":c||(null==d||null===(r=d.color)||void 0===r?void 0:r.text),"has-background":l||(null==d||null===(a=d.color)||void 0===a?void 0:a.background)||s||(null==d||null===(o=d.color)||void 0===o?void 0:o.gradient),"has-link-color":(0,G.isObject)(null==d||null===(n=d.elements)||void 0===n?void 0:n.link)?null==d||null===(i=d.elements)||void 0===i||null===(i=i.link)||void 0===i?void 0:i.color:void 0}),style:Ae({color:(null==d?void 0:d.color)||{}})}}(t),a=function(e){var t;const r=(null===(t=e.style)||void 0===t?void 0:t.border)||{};return{className:function(e){var t;const{borderColor:r,style:a}=e,o=r?Re("border-color",r):"";return(0,q.A)({"has-border-color":!!r||!(null==a||null===(t=a.border)||void 0===t||!t.color),[o]:!!o})}(e),style:Ae({border:r})}}(t),o=function(e){var t;return{className:void 0,style:Ae({spacing:(null===(t=e.style)||void 0===t?void 0:t.spacing)||{}})}}(t),n=(e=>{const t=(0,G.isObject)(e.style.typography)?e.style.typography:{},r=(0,G.isString)(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:r,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:(0,q.A)(n.className,r.className,a.className,o.className),style:{...n.style,...r.style,...a.style,...o.style}}},Oe=({itemId:e,linkText:t,permalink:r})=>{const o=(0,q.A)("wp-block-button__link","is-style-fill");return"preview"===e?(0,a.createElement)("div",{className:"wp-block-button aligncenter",style:{width:"100%"}},(0,a.createElement)(T.RichText.Content,{tagName:"a",className:o,href:r,title:t,style:{backgroundColor:"vivid-green-cyan",borderRadius:"5px"},value:t,target:r})):(0,a.createElement)(T.InnerBlocks,{template:[["core/buttons",{layout:{type:"flex",justifyContent:"center"}},[["core/button",{text:(0,O.__)("Shop now","woocommerce"),url:r}]]]],templateLock:"all"})},Te=({className:e="",onResize:t,...r})=>{const[o,n]=(0,l.useState)(!1),i=(0,q.A)(e,{"is-resizing":o}),c=(0,we.dh)(((e,r,a,i)=>{o||n(!0),null==t||t(e,r,a,i)}),50,{leading:!0});return(0,a.createElement)(L.ResizableBox,{className:i,enable:{bottom:!0},onResize:c,onResizeStop:(...e)=>{null==t||t(...e),n(!1)},...r})},$e=window.wp.data,Fe={icon:n,label:(0,O.__)("Featured Category","woocommerce")},Me={...Fe,cropLabel:(0,O.__)("Edit category image","woocommerce"),editLabel:(0,O.__)("Edit selected category","woocommerce")},je={...Fe,emptyMessage:(0,O.__)("No product category is selected.","woocommerce"),noSelectionButtonLabel:(0,O.__)("Select a category","woocommerce")},Be={...Fe,description:(0,O.__)("Visually highlight a product category and encourage prompt action.","woocommerce"),editLabel:(0,O.__)("Showing Featured Product block preview.","woocommerce")},Ge=(0,c.compose)([R,L.withSpokenMessages,e=>t=>{var r;const[o,n]=(0,l.useState)(!1),{attributes:i,category:c,clientId:s,product:d}=t,m=c||d,{editMode:u}=i,g=(null==m?void 0:m.link)||(null==m?void 0:m.permalink),p=(0,$e.useSelect)((e=>e("core/block-editor").getBlock(s))),h=null==p||null===(r=p.innerBlocks[0])||void 0===r?void 0:r.innerBlocks[0],v=(null==h?void 0:h.clientId)||"",b=(0,l.useMemo)((()=>(null==h?void 0:h.attributes)||{}),[h]),{url:_}=b,{updateBlockAttributes:w}=(0,$e.useDispatch)("core/block-editor");return(0,l.useEffect)((()=>{o&&v&&!u&&g&&_&&g!==_&&(w(v,{url:g}),n(!1))}),[v,o,u,g,w,_]),(0,a.createElement)(e,{...t,triggerUrlUpdate:()=>n(!0)})},e=>t=>{const[r,o]=(0,l.useState)(!1),{isSelected:n}=t;return(0,l.useEffect)((()=>{o(!1)}),[n]),(0,a.createElement)(e,{...t,useEditingImage:[r,o]})},(({description:e,editLabel:t,icon:r,label:o})=>n=>i=>{const{attributes:l,debouncedSpeak:c,name:s,setAttributes:d,triggerUrlUpdate:m=()=>{}}=i,u=X(s);return l.editMode?(0,a.createElement)(L.Placeholder,{icon:(0,a.createElement)(L.Icon,{icon:r}),label:o,className:u},e,(0,a.createElement)("div",{className:`${u}__selection`},s===j&&(0,a.createElement)(_e,{selected:l.categoryId?[l.categoryId]:[],onChange:(e=[])=>{const t=e[0]?e[0].id:0;d({categoryId:t,mediaId:0,mediaSrc:""}),m()},isSingle:!0}),s===B&&(0,a.createElement)(Ce,{selected:l.productId?[l.productId]:[],showVariations:!0,onChange:(e=[])=>{const t=e[0]?e[0].id:0;d({productId:t,mediaId:0,mediaSrc:""}),m()}}),(0,a.createElement)(L.Button,{variant:"primary",onClick:()=>{d({editMode:!1}),c(t)}},(0,O.__)("Done","woocommerce")))):(0,a.createElement)(n,{...i})})(Be),(({emptyMessage:e,icon:t,label:r,noSelectionButtonLabel:o})=>n=>i=>{const[c]=i.useEditingImage,{attributes:s,category:d,isLoading:m,isSelected:u,name:g,product:p,setAttributes:h}=i,{mediaId:v,mediaSrc:b}=s,_=d||p,[w,E]=(0,l.useState)({}),{backgroundImageSrc:y}=z({item:_,mediaId:v,mediaSrc:b,blockName:g}),f=X(g),S=(0,l.useCallback)(((e,t,r)=>{h({minHeight:parseInt(r.style.height,10)})}),[h]),k=Le(s);return c?(0,a.createElement)(n,{...i,backgroundImageSize:w}):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n,{...i,backgroundImageSize:w}),_?(()=>{var e,t;const{contentAlign:r,dimRatio:o,focalPoint:n,hasParallax:i,isRepeated:l,imageFit:c,minHeight:g,overlayColor:h,overlayGradient:v,showDesc:b,showPrice:w,style:I,textColor:C}=s,x=(0,q.A)(f,{"is-selected":u&&"preview"!==s.categoryId&&"preview"!==s.productId,"is-loading":!_&&m,"is-not-found":!_&&!m,"has-background-dim":0!==o,"is-repeated":l},0===(N=o)||50===N?null:"has-background-dim-"+10*Math.round(N/10),"center"!==r&&`has-${r}-content`,k.className);var N;const P={borderRadius:null==I||null===(e=I.border)||void 0===e?void 0:e.radius,color:C?`var(--wp--preset--color--${C})`:null==I||null===(t=I.color)||void 0===t?void 0:t.text,boxSizing:"border-box",minHeight:g,...k.style},A=!l&&!i,R=function({focalPoint:e,imageFit:t,isImgElement:r,isRepeated:a,url:o}){let n={};var i;return n=r?{...n,...(i=e,i?{objectPosition:K(i)}:{}),objectFit:t}:{...n,...o&&{backgroundImage:`url(${o})`},backgroundPosition:K(e),...!a&&{backgroundRepeat:"no-repeat",backgroundSize:"cover"===t?t:"auto"}},n}({focalPoint:n,imageFit:c,isImgElement:A,isRepeated:l,url:y}),L={background:v,backgroundColor:h};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Te,{enable:{bottom:!0},onResize:S,showHandle:u,style:{minHeight:g}}),(0,a.createElement)("div",{className:x,style:P},(0,a.createElement)("div",{className:`${f}__wrapper`},(0,a.createElement)("div",{className:"background-dim__overlay",style:L}),y&&(A?(0,a.createElement)("img",{alt:_.name,className:`${f}__background-image`,src:y,style:R,onLoad:e=>{var t,r;E({height:null===(t=e.currentTarget)||void 0===t?void 0:t.naturalHeight,width:null===(r=e.currentTarget)||void 0===r?void 0:r.naturalWidth})}}):(0,a.createElement)("div",{className:(0,q.A)(`${f}__background-image`,{"has-parallax":i}),style:R})),(0,a.createElement)("h2",{className:`${f}__title`,dangerouslySetInnerHTML:{__html:_.name}}),!(0,G.isEmpty)(null==p?void 0:p.variation)&&(0,a.createElement)("h3",{className:`${f}__variation`,dangerouslySetInnerHTML:{__html:p.variation}}),b&&(0,a.createElement)("div",{className:`${f}__description`,dangerouslySetInnerHTML:{__html:(null==d?void 0:d.description)||(null==p?void 0:p.short_description)}}),w&&(0,a.createElement)("div",{className:`${f}__price`,dangerouslySetInnerHTML:{__html:p.price_html}}),(0,a.createElement)("div",{className:`${f}__link`},(()=>{const{categoryId:e,linkText:t,productId:r}=s;return(0,a.createElement)(Oe,{itemId:e||r,linkText:t,permalink:(d||p).permalink})})()))))})():(0,a.createElement)(L.Placeholder,{className:f,icon:(0,a.createElement)(L.Icon,{icon:t}),label:r},m?(0,a.createElement)(L.Spinner,null):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,e),(0,a.createElement)("div",{style:{flexBasis:"100%",height:"0"}}),(0,a.createElement)("button",{type:"button",className:"components-button is-secondary",onClick:()=>h({editMode:!0})},o))))})(je),e=>t=>{const{error:r,isLoading:o,name:n}=t,i=X(n),l=n===j?t.getCategory:t.getProduct;return r?(0,a.createElement)(Y,{className:`${i}-error`,error:r,isLoading:o,onRetry:l}):(0,a.createElement)(e,{...t})},e=>t=>{const[r,o]=t.useEditingImage,n=(0,l.useRef)(null),{attributes:i,backgroundImageSize:c,name:s,setAttributes:d}=t,{mediaId:m,mediaSrc:u}=i,g=s===B?t.product:t.category,{backgroundImageId:p,backgroundImageSrc:h}=z({item:g,mediaId:m,mediaSrc:u,blockName:s});return r?(0,a.createElement)("div",{ref:n},(0,a.createElement)(V,{align:i.align,backgroundImageId:p,backgroundImageSize:c,backgroundImageSrc:h,containerRef:n,isEditingImage:r,setAttributes:d,setIsEditingImage:o})):(0,a.createElement)(e,{...t})},e=>t=>{const{attributes:r,name:o,setAttributes:n}=t,{alt:i,dimRatio:l,focalPoint:c,hasParallax:s,isRepeated:d,imageFit:m,mediaId:u,mediaSrc:g,overlayColor:p,overlayGradient:h,showDesc:v,showPrice:b}=r,_=o===B?t.product:t.category,{setGradient:w}=(0,T.__experimentalUseGradient)({gradientAttribute:"overlayGradient",customGradientAttribute:"overlayGradient"}),{backgroundImageSrc:E}=z({item:_,mediaId:u,mediaSrc:g,blockName:o}),y=o===B?(0,a.createElement)(L.ToggleControl,{label:(0,O.__)("Show price","woocommerce"),checked:b,onChange:()=>n({showPrice:!b})}):void 0;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(U,{alt:i,backgroundImageSrc:E,contentPanel:y,dimRatio:l,focalPoint:c,hasParallax:s,isRepeated:d,imageFit:m,overlayColor:p,overlayGradient:h,setAttributes:n,setGradient:w,showDesc:v}),(0,a.createElement)(e,{...t}))},(({cropLabel:e,editLabel:t})=>r=>o=>{const[n,i]=o.useEditingImage,{attributes:l,category:c,name:s,product:d,setAttributes:m}=o,{contentAlign:u,editMode:g,mediaId:p,mediaSrc:h}=l,v=c||d,{backgroundImageId:b,backgroundImageSrc:_}=z({item:v,mediaId:p,mediaSrc:h,blockName:s});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(D,{backgroundImageId:b,backgroundImageSrc:_,contentAlign:u,cropLabel:e,editLabel:t,editMode:g,isEditingImage:n,mediaSrc:h,setAttributes:m,setIsEditingImage:i}),(0,a.createElement)(r,{...o}))})(Me)])((()=>(0,a.createElement)(a.Fragment,null))),He=JSON.parse('{"name":"woocommerce/featured-category","version":"1.0.0","title":"Featured Category","category":"woocommerce","keywords":["WooCommerce"],"description":"Visually highlight a product category and encourage prompt action.","supports":{"align":["wide","full"],"html":false,"color":{"background":true,"text":true},"spacing":{"padding":true,"__experimentalDefaultControls":{"padding":true},"__experimentalSkipSerialization":true},"__experimentalBorder":{"color":true,"radius":true,"width":true,"__experimentalSkipSerialization":true}},"attributes":{"alt":{"type":"string","default":""},"contentAlign":{"type":"string","default":"center"},"dimRatio":{"type":"number","default":50},"editMode":{"type":"boolean","default":true},"focalPoint":{"type":"object","default":{"x":0.5,"y":0.5}},"imageFit":{"type":"string","default":"none"},"hasParallax":{"type":"boolean","default":false},"isRepeated":{"type":"boolean","default":false},"mediaId":{"type":"number","default":0},"mediaSrc":{"type":"string","default":""},"minHeight":{"type":"number","default":500},"linkText":{"default":"Shop now","type":"string"},"categoryId":{"type":"number"},"overlayColor":{"type":"string","default":"#000000"},"overlayGradient":{"type":"string"},"previewCategory":{"type":"object","default":null},"showDesc":{"type":"boolean","default":true}},"textdomain":"woocommerce","apiVersion":3,"$schema":"https://schemas.wp.org/trunk/block.json"}'),ze=window.wp.blocks;function De(e){return function(t){const r=(0,T.useBlockProps)(),{color:o,...n}=r.style;return(0,a.createElement)("div",{...r,style:n},(0,a.createElement)(e,{...t}))}}!function(e,t,r,o){var n,i,l,c,s,d;const m={attributes:{...r.attributes,minHeight:{type:"number",default:(0,u.getSetting)("defaultHeight",500)}},supports:{...r.supports,color:{background:null===(n=r.supports)||void 0===n||null===(n=n.color)||void 0===n?void 0:n.background,text:null===(i=r.supports)||void 0===i||null===(i=i.color)||void 0===i?void 0:i.text},spacing:{padding:null===(l=r.supports)||void 0===l||null===(l=l.spacing)||void 0===l?void 0:l.padding,__experimentalDefaultControls:{padding:null===(c=r.supports)||void 0===c||null===(c=c.spacing)||void 0===c?void 0:c.__experimentalDefaultControls},__experimentalSkipSerialization:null===(s=r.supports)||void 0===s||null===(s=s.spacing)||void 0===s?void 0:s.__experimentalSkipSerialization},__experimentalBorder:null==r||null===(d=r.supports)||void 0===d?void 0:d.__experimentalBorder}},g={attributes:{alt:"",contentAlign:"center",dimRatio:50,editMode:!1,hasParallax:!1,isRepeated:!1,height:(0,u.getSetting)("defaultHeight",500),mediaSrc:"",overlayColor:"#000000",showDesc:!0}};(0,ze.registerBlockType)(r,{...m,example:{...g,...t},edit:De(e),save:()=>(0,a.createElement)(T.InnerBlocks.Content,null),...o})}(Ge,{attributes:{categoryId:"preview",previewCategory:{id:1,name:(0,O.__)("Clothing","woocommerce"),slug:"clothing",parent:0,count:10,description:`<p>${(0,O.__)("Branded t-shirts, jumpers, pants and more!","woocommerce")}</p>\n`,image:{id:1,date_created:"2019-07-15T17:05:04",date_created_gmt:"2019-07-15T17:05:04",date_modified:"2019-07-15T17:05:04",date_modified_gmt:"2019-07-15T17:05:04",src:k+"previews/collection.jpg",name:"",alt:""},permalink:"#"},editMode:!1}},He,{icon:{src:(0,a.createElement)(i.A,{icon:n,className:"wc-block-editor-components-block-icon"})}})},6467:()=>{},2247:()=>{},4974:()=>{},6876:()=>{},7369:()=>{},8137:()=>{},6636:()=>{},1609:e=>{"use strict";e.exports=window.React},9491:e=>{"use strict";e.exports=window.wp.compose},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},5573:e=>{"use strict";e.exports=window.wp.primitives}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return a[e].call(r.exports,r,r.exports,n),r.exports}n.m=a,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,a,o]=e[d],l=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var o=Object.create(null);n.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var l=2&a&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,n.d(o,i),o},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=9918,(()=>{var e={9918:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,c]=r,s=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(c)var d=c(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self.webpackChunkwebpackWcBlocksMainJsonp=self.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=n.O(void 0,[94],(()=>n(1405)));i=n.O(i),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["featured-category"]=i})();
>>>>>>> b1eea7a (Merged existing code from https://dev-vices.rafaeldeveloper.co)
