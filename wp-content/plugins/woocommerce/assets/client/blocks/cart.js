<<<<<<< HEAD
(()=>{var e,t,o,s={1895:(e,t,o)=>{"use strict";var s=o(7723),r=o(4921);const c=window.wp.blockEditor;var n=o(5573),a=o(790);const i=(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,a.jsx)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})]});var l=o(4530);const d=window.wp.blocks;var m=o(6087);const u=window.wc.wcSettings,p=(0,u.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),h=p.pluginUrl+"assets/images/",g=(p.pluginUrl,u.STORE_PAGES.shop?.permalink),_=u.STORE_PAGES.checkout?.id,w=(u.STORE_PAGES.checkout,u.STORE_PAGES.privacy,u.STORE_PAGES.privacy,u.STORE_PAGES.terms,u.STORE_PAGES.terms,u.STORE_PAGES.cart?.id),k=u.STORE_PAGES.cart?.permalink,b=(u.STORE_PAGES.myaccount?.permalink?u.STORE_PAGES.myaccount.permalink:(0,u.getSetting)("wpLoginUrl","/wp-login.php"),(0,u.getSetting)("localPickupEnabled",!1)),y=((0,u.getSetting)("shippingMethodsExist",!1),(0,u.getSetting)("shippingEnabled",!0)),x=(0,u.getSetting)("countries",{}),v=(0,u.getSetting)("countryData",{}),f={...Object.fromEntries(Object.keys(v).filter((e=>!0===v[e].allowBilling)).map((e=>[e,x[e]||""]))),...Object.fromEntries(Object.keys(v).filter((e=>!0===v[e].allowShipping)).map((e=>[e,x[e]||""])))},S=(Object.fromEntries(Object.keys(f).map((e=>[e,v[e].states||{}]))),Object.fromEntries(Object.keys(f).map((e=>[e,v[e].locale||{}])))),j={address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]},C=(0,u.getSetting)("addressFieldsLocations",j).address,P=((0,u.getSetting)("addressFieldsLocations",j).contact,(0,u.getSetting)("addressFieldsLocations",j).order,(0,u.getSetting)("additionalOrderFields",{}),(0,u.getSetting)("additionalContactFields",{}),(0,u.getSetting)("additionalAddressFields",{}),({imageUrl:e=`${h}/block-error.svg`,header:t=(0,s.__)("Oops!","woocommerce"),text:o=(0,s.__)("There was an error loading the content.","woocommerce"),errorMessage:r,errorMessagePrefix:c=(0,s.__)("Error:","woocommerce"),button:n,showErrorBlock:i=!0})=>i?(0,a.jsxs)("div",{className:"wc-block-error wc-block-components-error",children:[e&&(0,a.jsx)("img",{className:"wc-block-error__image wc-block-components-error__image",src:e,alt:""}),(0,a.jsxs)("div",{className:"wc-block-error__content wc-block-components-error__content",children:[t&&(0,a.jsx)("p",{className:"wc-block-error__header wc-block-components-error__header",children:t}),o&&(0,a.jsx)("p",{className:"wc-block-error__text wc-block-components-error__text",children:o}),r&&(0,a.jsxs)("p",{className:"wc-block-error__message wc-block-components-error__message",children:[c?c+" ":"",r]}),n&&(0,a.jsx)("p",{className:"wc-block-error__button wc-block-components-error__button",children:n})]})]}):null);o(5893);class N extends m.Component{state={errorMessage:"",hasError:!1};static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("strong",{children:e.status}),":Â ",e.statusText]}),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:o=!0,showErrorBlock:s=!0,text:r,errorMessagePrefix:c,renderError:n,button:i}=this.props,{errorMessage:l,hasError:d}=this.state;return d?"function"==typeof n?n({errorMessage:l}):(0,a.jsx)(P,{showErrorBlock:s,errorMessage:o?l:null,header:e,imageUrl:t,text:r,errorMessagePrefix:c,button:i}):this.props.children}}const E=N,A=window.wp.data,I=(0,m.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),R=()=>(0,m.useContext)(I),B=({children:e,currentPostId:t=0,previewData:o={},currentView:s="",isPreview:r=!1})=>{const c=(0,A.useSelect)((e=>t||e("core/editor").getCurrentPostId()),[t]),n=(0,m.useCallback)(((e,t={})=>o&&e in o?o[e]:t),[o]),i={isEditor:!0,currentPostId:c,currentView:s,previewData:o,getPreviewData:n,isPreview:r};return(0,a.jsx)(I.Provider,{value:i,children:e})},T=window.wp.plugins,D=window.wc.wcBlocksData;var M=o(4040),O=o.n(M);let L=function(e){return e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback",e}({});const F={},V=(e=F,{type:t,eventType:o,id:s,callback:r,priority:c})=>{const n=e.hasOwnProperty(o)?new Map(e[o]):new Map;switch(t){case L.ADD_EVENT_CALLBACK:return n.set(s,{priority:c,callback:r}),{...e,[o]:n};case L.REMOVE_EVENT_CALLBACK:return n.delete(s),{...e,[o]:n}}},H=(e,t)=>(o,s=10)=>{const r=((e,t,o=10)=>({id:Math.floor(Math.random()*Date.now()).toString(),type:L.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:o}))(e,o,s);return t(r),()=>{var o;t((o=e,{id:r.id,type:L.REMOVE_EVENT_CALLBACK,eventType:o}))}},z=(0,m.createContext)({onPaymentProcessing:()=>()=>()=>{},onPaymentSetup:()=>()=>()=>{}}),U=({children:e})=>{const{isProcessing:t,isIdle:o,isCalculating:s,hasError:r}=(0,A.useSelect)((e=>{const t=e(D.checkoutStore);return{isProcessing:t.isProcessing(),isIdle:t.isIdle(),hasError:t.hasError(),isCalculating:t.isCalculating()}})),{isPaymentReady:c}=(0,A.useSelect)((e=>{const t=e(D.paymentStore);return{isPaymentProcessing:t.isPaymentProcessing(),isPaymentReady:t.isPaymentReady()}})),{setValidationErrors:n}=(0,A.useDispatch)(D.validationStore),[i,l]=(0,m.useReducer)(V,{}),{onPaymentSetup:d}=(e=>(0,m.useMemo)((()=>({onPaymentSetup:H("payment_setup",e)})),[e]))(l),u=(0,m.useRef)(i);(0,m.useEffect)((()=>{u.current=i}),[i]);const{__internalSetPaymentProcessing:p,__internalSetPaymentIdle:h,__internalEmitPaymentProcessingEvent:g}=(0,A.useDispatch)(D.paymentStore);(0,m.useEffect)((()=>{!t||r||s||(p(),g(u.current,n))}),[t,r,s,p,g,n]),(0,m.useEffect)((()=>{o&&!c&&h()}),[o,c,h]),(0,m.useEffect)((()=>{r&&c&&h()}),[r,c,h]);const _={onPaymentProcessing:(0,m.useMemo)((()=>function(...e){return O()("onPaymentProcessing",{alternative:"onPaymentSetup",plugin:"WooCommerce Blocks"}),d(...e)}),[d]),onPaymentSetup:d};return(0,a.jsx)(z.Provider,{value:_,children:e})},$={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},W={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},q={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:e=>e,shippingErrorTypes:$,onShippingRateSuccess:()=>()=>{},onShippingRateFail:()=>()=>{},onShippingRateSelectSuccess:()=>()=>{},onShippingRateSelectFail:()=>()=>{}},Y=(e,{type:t})=>Object.values($).includes(t)?t:e,X="shipping_rates_success",G="shipping_rates_fail",J="shipping_rate_select_success",Q="shipping_rate_select_fail",K=e=>({onSuccess:H(X,e),onFail:H(G,e),onSelectSuccess:H(J,e),onSelectFail:H(Q,e)}),Z=window.wc.wcTypes;let ee=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e.ORDER_INFORMATION="wc/checkout/order-information",e}({});const te=async(e,t,o)=>{const s=((e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[])(e,t),r=[];for(const e of s)try{const t=await Promise.resolve(e.callback(o));"object"==typeof t&&r.push(t)}catch(e){console.error(e)}return!r.length||r};var oe=o(1824),se=o.n(oe);const re=window.wp.htmlEntities,ce=Object.entries(S).reduce(((e,[t,o])=>(e[t]=Object.entries(o).reduce(((e,[t,o])=>(e[t]=(e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,s.sprintf)(/* translators: %s Field label. */ /* translators: %s Field label. */
(0,s.__)("%s (optional)","woocommerce"),e.label)),e.index&&((0,Z.isNumber)(e.index)&&(t.index=e.index),(0,Z.isString)(e.index)&&(t.index=parseInt(e.index,10))),e.hidden&&(t.required=!1),t})(o),e)),{}),e)),{}),ne=e=>{const t=((e,t,o="")=>{const s=o&&void 0!==ce[o]?ce[o]:{};return e.map((e=>({key:e,...t&&e in t?t[e]:{},...s&&e in s?s[e]:{}}))).sort(((e,t)=>e.index-t.index))})(C,u.defaultFields,e.country),o=Object.assign({},e);return t.forEach((({key:t,hidden:s})=>{!0===s&&((e,t)=>e in t)(t,e)&&(o[t]="")})),o},ae=window.CustomEvent||null,ie=(e,t,o=!1,s=!1)=>{if("function"!=typeof jQuery)return()=>{};const r=()=>{((e,{bubbles:t=!1,cancelable:o=!1,element:s,detail:r={}})=>{if(!ae)return;s||(s=document.body);const c=new ae(e,{bubbles:t,cancelable:o,detail:r});s.dispatchEvent(c)})(t,{bubbles:o,cancelable:s})};return jQuery(document).on(e,r),()=>jQuery(document).off(e,r)},le=e=>{const t=e?.detail;t&&t.preserveCartData||(0,A.dispatch)(D.cartStore).invalidateResolutionForStore()},de=e=>{(e?.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&(0,A.dispatch)(D.cartStore).invalidateResolutionForStore()},me=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},ue={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},pe={...ue,email:""},he={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:D.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},ge=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(0,re.decodeEntities)(t)]))),_e={cartCoupons:D.EMPTY_CART_COUPONS,cartItems:D.EMPTY_CART_ITEMS,cartFees:D.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:D.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:D.EMPTY_CART_ITEM_ERRORS,cartTotals:he,cartIsLoading:!0,cartErrors:D.EMPTY_CART_ERRORS,billingData:pe,billingAddress:pe,shippingAddress:ue,shippingRates:D.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:D.EMPTY_PAYMENT_METHODS,paymentRequirements:D.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:D.EMPTY_EXTENSIONS},we=(e={shouldSelect:!0})=>{const{shouldSelect:t}=e,o=(0,m.useRef)(),s=(0,m.useRef)(pe),r=(0,m.useRef)(ue);(0,m.useEffect)((()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),window.wcBlocksStoreCartListeners?.count>0)return void window.wcBlocksStoreCartListeners.count++;document.body.addEventListener("wc-blocks_added_to_cart",le),document.body.addEventListener("wc-blocks_removed_from_cart",le),window.addEventListener("pageshow",de);const e=ie("added_to_cart","wc-blocks_added_to_cart"),t=ie("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",le),document.body.removeEventListener("wc-blocks_removed_from_cart",le),window.removeEventListener("pageshow",de),e(),t()}})(),me)),[]);const{receiveCart:c,receiveCartContents:n}=(0,A.useDispatch)(D.cartStore),{cartData:a,cartErrors:i,cartTotals:l,cartIsLoading:d,isLoadingRates:u}=(0,A.useSelect)((e=>{const t=e(D.cartStore);return{cartData:t.getCartData(),cartErrors:t.getCartErrors(),cartTotals:t.getCartTotals(),cartIsLoading:!t.hasFinishedResolution("getCartData"),isLoadingRates:t.isAddressFieldsForShippingRatesUpdating()}}),[]);if(!t)return _e;const p=ne(ge(a.billingAddress));se()(s.current,p)||(s.current=p);const h=s.current,g=a.needsShipping?ne(ge(a.shippingAddress)):h;se()(r.current,g)||(r.current=g);const _=r.current,w={cartCoupons:a.coupons.length>0?a.coupons.map((e=>({...e,label:(0,re.decodeEntities)(e.code)}))):D.EMPTY_CART_COUPONS,cartItems:a.items,crossSellsProducts:a.crossSells,cartFees:a.fees.length>0?a.fees.map((e=>ge(e))):D.EMPTY_CART_FEES,cartItemsCount:a.itemsCount,cartItemsWeight:a.itemsWeight,cartNeedsPayment:a.needsPayment,cartNeedsShipping:a.needsShipping,cartItemErrors:a.errors,cartTotals:l,cartIsLoading:d,cartErrors:i,billingData:h,billingAddress:h,shippingAddress:_,extensions:a.extensions,shippingRates:a.shippingRates,isLoadingRates:u,cartHasCalculatedShipping:a.hasCalculatedShipping,paymentRequirements:a.paymentRequirements,paymentMethods:a.paymentMethods,receiveCart:c,receiveCartContents:n};return o.current&&se()(o.current,w)||(o.current=w),o.current},ke=(0,u.getSetting)("collectableMethodIds",[]),be=e=>!!b&&(Array.isArray(e)?!!e.find((e=>ke.includes(e))):ke.includes(e)),ye=e=>!!(e=>e.some((e=>!!e.shipping_rates.length)))(e)&&e.some((e=>e.shipping_rates.some((e=>e.selected)))),xe=e=>Array.from(new Set(e.flatMap((e=>e.shipping_rates.filter((e=>e.selected)).map((e=>e.name))))));var ve=o(923),fe=o.n(ve);const Se=window.wp.hooks,je=()=>({dispatchStoreEvent:(0,m.useCallback)(((e,t={})=>{try{(0,Se.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,m.useCallback)(((e,t={})=>{try{(0,Se.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,A.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])}),Ce=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:s,isCollectable:r,isSelectingRate:c}=(0,A.useSelect)((e=>{const t=e(D.cartStore),o=t.getShippingRates();return{shippingRates:o,needsShipping:t.getNeedsShipping(),hasCalculatedShipping:t.getHasCalculatedShipping(),isLoadingRates:t.isAddressFieldsForShippingRatesUpdating(),isCollectable:o.every((({shipping_rates:e})=>e.find((({method_id:e})=>be(e))))),isSelectingRate:t.isShippingRateBeingSelected()}}),[]),n=(0,m.useRef)({});(0,m.useEffect)((()=>{const t=(e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>[e,t.find((e=>e.selected))?.rate_id||""]))))(e);(0,Z.isObject)(t)&&!fe()(n.current,t)&&(n.current=t)}),[e]);const{selectShippingRate:a}=(0,A.useDispatch)(D.cartStore),i=be(Object.values(n.current).map((e=>e.split(":")[0]))),{dispatchCheckoutEvent:l}=je(),d=(0,m.useCallback)(((e,t)=>{let o;void 0!==e&&(o=be(e.split(":")[0])?a(e,null):a(e,t),o.then((()=>{l("set-selected-shipping-rate",{shippingRateId:e})})).catch((e=>{(0,D.processErrorResponse)(e)})))}),[a,l]);return{isSelectingRate:c,selectedRates:n.current,selectShippingRate:d,shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:s,isCollectable:r,hasSelectedLocalPickup:i}},{NONE:Pe,INVALID_ADDRESS:Ne,UNKNOWN:Ee}=$,Ae=(0,m.createContext)(q),Ie=()=>(0,m.useContext)(Ae),Re=({children:e})=>{const{__internalStartCalculation:t,__internalFinishCalculation:o}=(0,A.useDispatch)(D.checkoutStore),{shippingRates:s,isLoadingRates:r,cartErrors:c}=we(),{selectedRates:n,isSelectingRate:i}=Ce(),[l,d]=(0,m.useReducer)(Y,Pe),[u,p]=(0,m.useReducer)(V,{}),h=(0,m.useRef)(u),g=(0,m.useMemo)((()=>({onShippingRateSuccess:K(p).onSuccess,onShippingRateFail:K(p).onFail,onShippingRateSelectSuccess:K(p).onSelectSuccess,onShippingRateSelectFail:K(p).onSelectFail})),[p]);(0,m.useEffect)((()=>{h.current=u}),[u]),(0,m.useEffect)((()=>{r?t():o()}),[r,t,o]),(0,m.useEffect)((()=>{i?t():o()}),[t,o,i]),(0,m.useEffect)((()=>{c.length>0&&c.some((e=>!(!e.code||!Object.values(W).includes(e.code))))?d({type:Ne}):d({type:Pe})}),[c]);const _=(0,m.useMemo)((()=>({isPristine:l===Pe,isValid:l===Pe,hasInvalidAddress:l===Ne,hasError:l===Ee||l===Ne})),[l]);(0,m.useEffect)((()=>{r||0!==s.length&&!_.hasError||te(h.current,G,{hasInvalidAddress:_.hasInvalidAddress,hasError:_.hasError})}),[s,r,_.hasError,_.hasInvalidAddress]),(0,m.useEffect)((()=>{!r&&s.length>0&&!_.hasError&&te(h.current,X,s)}),[s,r,_.hasError]),(0,m.useEffect)((()=>{i||(_.hasError?te(h.current,Q,{hasError:_.hasError,hasInvalidAddress:_.hasInvalidAddress}):te(h.current,J,n.current))}),[n,i,_.hasError,_.hasInvalidAddress]);const w={shippingErrorStatus:_,dispatchErrorStatus:d,shippingErrorTypes:$,...g};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Ae.Provider,{value:w,children:e})})};function Be(e,t){const o=(0,m.useRef)();return(0,m.useEffect)((()=>{o.current===e||t&&!t(e,o.current)||(o.current=e)}),[e,t]),o.current}const Te=window.wp.notices,De=window.wc.blocksCheckoutEvents,Me={},Oe={},Le=()=>Me,Fe=()=>Oe,Ve=(0,m.createContext)({onSubmit:()=>{},onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},onCheckoutSuccess:()=>()=>{},onCheckoutFail:()=>()=>{},onCheckoutValidation:()=>()=>{}}),He=({children:e,redirectUrl:t})=>{const o=Le(),s=Fe(),{isEditor:r}=R(),{__internalUpdateAvailablePaymentMethods:c}=(0,A.useDispatch)(D.paymentStore);(0,m.useEffect)((()=>{(r||0!==Object.keys(o).length||0!==Object.keys(s).length)&&c()}),[r,o,s,c]);const{__internalSetRedirectUrl:n,__internalEmitValidateEvent:i,__internalEmitAfterProcessingEvents:l,__internalSetBeforeProcessing:d}=(0,A.useDispatch)(D.checkoutStore),{checkoutRedirectUrl:u,checkoutStatus:p,isCheckoutBeforeProcessing:h,isCheckoutAfterProcessing:g,checkoutHasError:_,checkoutOrderId:w,checkoutOrderNotes:k,checkoutCustomerId:b}=(0,A.useSelect)((e=>{const t=e(D.checkoutStore);return{checkoutRedirectUrl:t.getRedirectUrl(),checkoutStatus:t.getCheckoutStatus(),isCheckoutBeforeProcessing:t.isBeforeProcessing(),isCheckoutAfterProcessing:t.isAfterProcessing(),checkoutHasError:t.hasError(),checkoutOrderId:t.getOrderId(),checkoutOrderNotes:t.getOrderNotes(),checkoutCustomerId:t.getCustomerId()}}));t&&t!==u&&n(t);const{setValidationErrors:y}=(0,A.useDispatch)(D.validationStore),{dispatchCheckoutEvent:x}=je(),v=Object.values(ee).filter((e=>e!==ee.PAYMENTS&&e!==ee.EXPRESS_PAYMENTS)),f=(0,A.useSelect)((e=>{const{getNotices:t}=e(Te.store);return v.reduce(((e,o)=>[...e,...t(o)]),[])}),[v]),{paymentNotices:S,expressPaymentNotices:j}=(0,A.useSelect)((e=>{const{getNotices:t}=e(Te.store);return{paymentNotices:t(ee.PAYMENTS),expressPaymentNotices:t(ee.EXPRESS_PAYMENTS)}}),[]),[C]=(0,m.useReducer)(V,{}),P=(0,m.useRef)(C),{onCheckoutValidation:N,onCheckoutSuccess:E,onCheckoutFail:I}=De.checkoutEvents;(0,m.useEffect)((()=>{P.current=C}),[C]);const B=(0,m.useMemo)((()=>function(...e){return O()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks"}),N(...e)}),[N]),T=(0,m.useMemo)((()=>function(...e){return O()("onCheckoutValidationBeforeProcessing",{since:"9.7.0",alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),N(...e)}),[N]),M=(0,m.useMemo)((()=>function(...e){return O()("onCheckoutAfterProcessingWithSuccess",{since:"9.7.0",alternative:"onCheckoutSuccess",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),E(...e)}),[E]),L=(0,m.useMemo)((()=>function(...e){return O()("onCheckoutAfterProcessingWithError",{since:"9.7.0",alternative:"onCheckoutFail",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),I(...e)}),[I]);(0,m.useEffect)((()=>{h&&i({setValidationErrors:y})}),[h,y,i]);const F=Be(p),H=Be(_);(0,m.useEffect)((()=>{p===F&&_===H||g&&l({notices:{checkoutNotices:f,paymentNotices:S,expressPaymentNotices:j}})}),[p,_,u,w,b,k,g,h,F,H,f,j,S,i,l]);const z={onSubmit:(0,m.useCallback)((()=>{x("submit"),d()}),[x,d]),onCheckoutBeforeProcessing:B,onCheckoutValidationBeforeProcessing:T,onCheckoutAfterProcessingWithSuccess:M,onCheckoutAfterProcessingWithError:L,onCheckoutSuccess:E,onCheckoutFail:I,onCheckoutValidation:N};return(0,a.jsx)(Ve.Provider,{value:z,children:e})},ze=window.wp.apiFetch;var Ue=o.n(ze);(0,s.__)("Something went wrong. Please contact us to get assistance.","woocommerce");const $e=window.wc.wcBlocksRegistry,We=(e,t,o)=>{const s=Object.keys(e).map((t=>({key:t,value:e[t]})),[]),r=`wc-${o}-new-payment-method`;return s.push({key:r,value:t}),s},qe=e=>{if(!e)return;const{__internalSetCustomerId:t}=(0,A.dispatch)(D.checkoutStore);Ue().setNonce&&"function"==typeof Ue().setNonce&&Ue().setNonce(e),Ue().setCartHash&&"function"==typeof Ue().setCartHash&&Ue().setCartHash(e),e?.get("User-ID")&&t(parseInt(e.get("User-ID")||"0",10))},Ye=()=>{const{onCheckoutValidation:e}=De.checkoutEvents,{additionalFields:t,customerId:o,customerPassword:r,extensionData:c,hasError:n,isBeforeProcessing:a,isComplete:i,isProcessing:l,orderNotes:d,redirectUrl:p,shouldCreateAccount:h}=(0,A.useSelect)((e=>{const t=e(D.checkoutStore);return{additionalFields:t.getAdditionalFields(),customerId:t.getCustomerId(),customerPassword:t.getCustomerPassword(),extensionData:t.getExtensionData(),hasError:t.hasError(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),isProcessing:t.isProcessing(),orderNotes:t.getOrderNotes(),redirectUrl:t.getRedirectUrl(),shouldCreateAccount:t.getShouldCreateAccount()}}),[]),{__internalSetHasError:g,__internalProcessCheckoutResponse:_}=(0,A.useDispatch)(D.checkoutStore),w=(0,A.useSelect)((e=>e(D.validationStore).hasValidationErrors),[]),{shippingErrorStatus:k}=Ie(),{shippingAddress:b,billingAddress:y,useBillingAsShipping:x}=(()=>{const{isEditor:e,getPreviewData:t}=R(),{needsShipping:o}=Ce(),{useShippingAsBilling:s,prefersCollection:r,editingBillingAddress:c,editingShippingAddress:n}=(0,A.useSelect)((e=>({useShippingAsBilling:e(D.checkoutStore).getUseShippingAsBilling(),prefersCollection:e(D.checkoutStore).prefersCollection(),editingBillingAddress:e(D.checkoutStore).getEditingBillingAddress(),editingShippingAddress:e(D.checkoutStore).getEditingShippingAddress()}))),{__internalSetUseShippingAsBilling:a,setEditingBillingAddress:i,setEditingShippingAddress:l}=(0,A.useDispatch)(D.checkoutStore),{billingAddress:d,setBillingAddress:p,shippingAddress:h,setShippingAddress:g}=(()=>{const{customerData:e,isInitialized:t}=(0,A.useSelect)((e=>{const t=e(D.cartStore);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:s}=(0,A.useDispatch)(D.cartStore);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:s,setShippingAddress:o}})(),_=(0,m.useCallback)((e=>{p({email:e})}),[p]),w=(0,u.getSetting)("forcedBillingAddress",!1);return{shippingAddress:h,billingAddress:d,setShippingAddress:g,setBillingAddress:p,setEmail:_,defaultFields:e?t("defaultFields",u.defaultFields):u.defaultFields,useShippingAsBilling:s,setUseShippingAsBilling:a,editingBillingAddress:c,editingShippingAddress:n,setEditingBillingAddress:i,setEditingShippingAddress:l,needsShipping:o,showShippingFields:!w&&o&&!r,showShippingMethods:o&&!r,showBillingFields:!o||!s||!!r,forcedBillingAddress:w,useBillingAsShipping:w||!!r}})(),{cartNeedsPayment:v,cartNeedsShipping:f,receiveCartContents:S}=we(),{activePaymentMethod:j,paymentMethodData:C,isExpressPaymentMethodActive:P,hasPaymentError:N,isPaymentReady:E,shouldSavePayment:I}=(0,A.useSelect)((e=>{const t=e(D.paymentStore);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),hasPaymentError:t.hasPaymentError(),isPaymentReady:t.isPaymentReady(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),B=(0,$e.getPaymentMethods)(),T=(0,$e.getExpressPaymentMethods)(),M=(0,m.useRef)(y),O=(0,m.useRef)(b),L=(0,m.useRef)(p),[F,V]=(0,m.useState)(!1),H=(0,m.useMemo)((()=>{const e={...T,...B};return e?.[j]?.paymentMethodId}),[j,T,B]),z=w()&&!P||N||k.hasError,U=!n&&!z&&(E||!v)&&l;(0,m.useEffect)((()=>{z===n||!l&&!a||P||g(z)}),[z,n,l,a,P,g]),(0,m.useEffect)((()=>{M.current=y,O.current=b,L.current=p}),[y,b,p]);const $=(0,m.useCallback)((()=>w()?void 0!==(0,A.select)(D.validationStore).getValidationError("shipping-rates-error")&&{type:Z.responseTypes.ERROR,errorMessage:(0,s.__)("Sorry, this order requires a shipping option.","woocommerce")}:N?{type:Z.responseTypes.ERROR,errorMessage:(0,s.__)("There was a problem with your payment option.","woocommerce"),context:"wc/checkout/payments"}:!k.hasError||{type:Z.responseTypes.ERROR,errorMessage:(0,s.__)("There was a problem with your shipping option.","woocommerce"),context:"wc/checkout/shipping-methods"}),[w,N,k.hasError]);(0,m.useEffect)((()=>{let t;return P||(t=e($,0)),()=>{P||"function"!=typeof t||t()}}),[e,$,P]),(0,m.useEffect)((()=>{window.localStorage.removeItem("WOOCOMMERCE_CHECKOUT_IS_CUSTOMER_DATA_DIRTY"),L.current&&(window.location.href=L.current)}),[i]);const W=(0,m.useCallback)((async()=>{if(F)return;V(!0),(()=>{const e=(0,A.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,A.dispatch)(Te.store),{getNotices:o}=(0,A.select)(Te.store);e.forEach((e=>{o(e).forEach((o=>{t(o.id,e)}))}))})();const e=v?{payment_method:H,payment_data:We(C,I,j)}:{},n=ne(M.current),a=x?n:ne(O.current),i={additional_fields:t,billing_address:n,create_account:h,customer_note:d,customer_password:r,extensions:{...c},shipping_address:f?a:void 0,...e};(0,D.clearCheckoutPutRequests)(),Ue()({path:"/wc/store/v1/checkout",method:"POST",data:i,cache:"no-store",parse:!1}).then((e=>{if((0,Z.assertResponseIsValid)(e),qe(e.headers),!e.ok)throw e;return e.json()})).then((e=>{_(e),V(!1)})).catch((e=>{qe(e?.headers);try{e.json().then((e=>e)).then((e=>{e.data?.cart&&S(e.data.cart),(0,D.processErrorResponse)(e),_(e)}))}catch{let e=(0,s.__)("Something went wrong when placing the order. Check your email for order updates before retrying.","woocommerce");0!==o&&(e=(0,s.__)("Something went wrong when placing the order. Check your account's order history or your email for order updates before retrying.","woocommerce")),(0,D.processErrorResponse)({code:"unknown_error",message:e,data:null})}g(!0),V(!1)}))}),[F,v,H,C,I,j,d,h,o,r,c,t,f,S,g,_,x]);return(0,m.useEffect)((()=>{U&&!F&&W()}),[W,U,F]),null},Xe=({children:e,redirectUrl:t})=>(0,a.jsx)(He,{redirectUrl:t,children:(0,a.jsx)(Re,{children:(0,a.jsxs)(U,{children:[e,(0,a.jsx)(E,{renderError:u.CURRENT_USER_IS_ADMIN?null:()=>null,children:(0,a.jsx)(T.PluginArea,{scope:"woocommerce-checkout"})}),(0,a.jsx)(Ye,{})]})})}),Ge=({children:e,redirectUrl:t})=>(0,a.jsx)(Xe,{redirectUrl:t,children:e}),Je={currency_code:u.SITE_CURRENCY.code,currency_symbol:u.SITE_CURRENCY.symbol,currency_minor_unit:u.SITE_CURRENCY.minorUnit,currency_decimal_separator:u.SITE_CURRENCY.decimalSeparator,currency_thousand_separator:u.SITE_CURRENCY.thousandSeparator,currency_prefix:u.SITE_CURRENCY.prefix,currency_suffix:u.SITE_CURRENCY.suffix},Qe=(e,t=2)=>{const o=u.SITE_CURRENCY.minorUnit;if(o===t||!e)return e;const s=Math.pow(10,o);return(Math.round(parseInt(e,10)/Math.pow(10,t))*s).toString()},Ke=(0,u.getSetting)("localPickupEnabled",!1),Ze=(0,u.getSetting)("localPickupText",(0,s.__)("Local pickup","woocommerce")),et=(0,u.getSetting)("localPickupCost",""),tt=Ke?(0,u.getSetting)("localPickupLocations",[]):[],ot=tt?Object.values(tt).map(((e,t)=>({...Je,name:`${Ze} (${e.name})`,description:"",delivery_time:"",price:Qe(et,0)||"0",taxes:"0",rate_id:`pickup_location:${t+1}`,instance_id:t+1,meta_data:[{key:"pickup_location",value:e.name},{key:"pickup_address",value:e.formatted_address},{key:"pickup_details",value:e.details}],method_id:"pickup_location",selected:!1}))):[],st=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,s.__)("Shipping","woocommerce"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,s._x)("Beanie with Logo","example product in Cart Block","woocommerce"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,s._x)("Beanie","example product in Cart Block","woocommerce"),quantity:1}],shipping_rates:[{...Je,name:(0,s.__)("Flat rate shipping","woocommerce"),description:"",delivery_time:"",price:Qe("500"),taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{...Je,name:(0,s.__)("Free shipping","woocommerce"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},...ot]}],rt=(0,u.getSetting)("displayCartPricesIncludingTax",!1),ct={coupons:[],shipping_rates:(0,u.getSetting)("shippingMethodsExist",!1)||(0,u.getSetting)("localPickupEnabled",!1)?st:[],items:[{key:"1",id:1,type:"simple",quantity:2,catalog_visibility:"visible",name:(0,s.__)("Beanie","woocommerce"),summary:(0,s.__)("Beanie","woocommerce"),short_description:(0,s.__)("Warm hat for winter","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:h+"previews/beanie.jpg",thumbnail:h+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,s.__)("Color","woocommerce"),value:(0,s.__)("Yellow","woocommerce")},{attribute:(0,s.__)("Size","woocommerce"),value:(0,s.__)("Small","woocommerce")}],prices:{...Je,price:Qe(rt?"12000":"10000"),regular_price:Qe(rt?"120":"100"),sale_price:Qe(rt?"12000":"10000"),price_range:null,raw_prices:{precision:6,price:rt?"12000000":"10000000",regular_price:rt?"12000000":"10000000",sale_price:rt?"12000000":"10000000"}},totals:{...Je,line_subtotal:Qe("2000"),line_subtotal_tax:Qe("400"),line_total:Qe("2000"),line_total_tax:Qe("400")},extensions:{},item_data:[]},{key:"2",id:2,type:"simple",quantity:1,catalog_visibility:"visible",name:(0,s.__)("Cap","woocommerce"),summary:(0,s.__)("Cap","woocommerce"),short_description:(0,s.__)("Lightweight baseball cap","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:h+"previews/cap.jpg",thumbnail:h+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,s.__)("Color","woocommerce"),value:(0,s.__)("Orange","woocommerce")}],prices:{...Je,price:Qe(rt?"2400":"2000"),regular_price:Qe(rt?"2400":"2000"),sale_price:Qe(rt?"2400":"2000"),price_range:null,raw_prices:{precision:6,price:rt?"24000000":"20000000",regular_price:rt?"24000000":"20000000",sale_price:rt?"24000000":"20000000"}},totals:{...Je,line_subtotal:Qe("2000"),line_subtotal_tax:Qe("400"),line_total:Qe("2000"),line_total_tax:Qe("400")},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,s.__)("Polo","woocommerce"),slug:"polo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,s.__)("Polo","woocommerce"),description:(0,s.__)("Polo","woocommerce"),on_sale:!1,prices:{...Je,price:Qe(rt?"24000":"20000"),regular_price:Qe(rt?"24000":"20000"),sale_price:Qe(rt?"12000":"10000"),price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:h+"previews/polo.jpg",thumbnail:h+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,s.__)("Long Sleeve Tee","woocommerce"),slug:"long-sleeve-tee",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,s.__)("Long Sleeve Tee","woocommerce"),description:(0,s.__)("Long Sleeve Tee","woocommerce"),on_sale:!1,prices:{...Je,price:Qe(rt?"30000":"25000"),regular_price:Qe(rt?"30000":"25000"),sale_price:Qe(rt?"30000":"25000"),price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:h+"previews/long-sleeve-tee.jpg",thumbnail:h+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,s.__)("Hoodie with Zipper","woocommerce"),slug:"hoodie-with-zipper",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,s.__)("Hoodie with Zipper","woocommerce"),description:(0,s.__)("Hoodie with Zipper","woocommerce"),on_sale:!0,prices:{...Je,price:Qe(rt?"15000":"12500"),regular_price:Qe(rt?"30000":"25000"),sale_price:Qe(rt?"15000":"12500"),price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:h+"previews/hoodie-with-zipper.jpg",thumbnail:h+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,s.__)("Hoodie with Logo","woocommerce"),slug:"hoodie-with-logo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,s.__)("Polo","woocommerce"),description:(0,s.__)("Polo","woocommerce"),on_sale:!1,prices:{...Je,price:Qe(rt?"4500":"4250"),regular_price:Qe(rt?"4500":"4250"),sale_price:Qe(rt?"4500":"4250"),price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:h+"previews/hoodie-with-logo.jpg",thumbnail:h+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,s.__)("Hoodie with Pocket","woocommerce"),slug:"hoodie-with-pocket",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,s.__)("Hoodie with Pocket","woocommerce"),description:(0,s.__)("Hoodie with Pocket","woocommerce"),on_sale:!0,prices:{...Je,price:Qe(rt?"3500":"3250"),regular_price:Qe(rt?"4500":"4250"),sale_price:Qe(rt?"3500":"3250"),price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:h+"previews/hoodie-with-pocket.jpg",thumbnail:h+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,s.__)("T-Shirt","woocommerce"),slug:"t-shirt",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,s.__)("T-Shirt","woocommerce"),description:(0,s.__)("T-Shirt","woocommerce"),on_sale:!1,prices:{...Je,price:Qe(rt?"1800":"1500"),regular_price:Qe(rt?"1800":"1500"),sale_price:Qe(rt?"1800":"1500"),price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:h+"previews/tshirt.jpg",thumbnail:h+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,s.__)("Fee","woocommerce"),totals:{...Je,total:Qe("100"),total_tax:Qe("20")}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:y,has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{...Je,total_items:Qe("4000"),total_items_tax:Qe("800"),total_fees:Qe("100"),total_fees_tax:Qe("20"),total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:Qe("820"),total_price:Qe("4920"),tax_lines:[{name:(0,s.__)("Sales tax","woocommerce"),rate:"20%",price:Qe("820")}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},nt=window.wc.blocksCheckout,at=window.wp.url,it=(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45ZM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2Zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2Z"})]})," "]});var lt=o(9491);const dt=(0,m.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),mt=({children:e,className:t=""})=>{const[o,s]=(()=>{const[e,{width:t}]=(0,lt.useResizeObserver)();let o="";return t>700?o="is-large":t>520?o="is-medium":t>400?o="is-small":t&&(o="is-mobile"),[e,o]})(),c={hasContainerWidth:""!==s,containerClassName:s,isMobile:"is-mobile"===s,isSmall:"is-small"===s,isMedium:"is-medium"===s,isLarge:"is-large"===s};return(0,a.jsx)(dt.Provider,{value:c,children:(0,a.jsxs)("div",{className:(0,r.A)(t,s),children:[o,e]})})};o(9163);const ut=({children:e,className:t})=>(0,a.jsx)(mt,{className:(0,r.A)("wc-block-components-sidebar-layout",t),children:e}),pt=["core/paragraph","core/image","core/separator"],ht=e=>{const t=(0,nt.applyCheckoutFilter)({filterName:"additionalCartCheckoutInnerBlockTypes",defaultValue:[],extensions:(0,A.select)(D.cartStore).getCartData().extensions,arg:{block:e},validation:e=>{if(Array.isArray(e)&&e.every((e=>"string"==typeof e)))return!0;throw new Error("allowedBlockTypes filters must return an array of strings.")}});return Array.from(new Set([...(0,d.getBlockTypes)().filter((t=>(t?.parent||[]).includes(e))).map((({name:e})=>e)),...pt,...t]))},gt=({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const s=(0,m.useRef)(t),r=(0,m.useRef)(o),c=(0,A.useRegistry)(),{isPreview:n}=R();(0,m.useEffect)((()=>{let t=!1;if(n)return;const{replaceInnerBlocks:o}=(0,A.dispatch)("core/block-editor");return c.subscribe((()=>{if(!c.select("core/block-editor").getBlock(e))return;const n=c.select("core/block-editor").getBlocks(e);if(0===n.length&&r.current.length>0&&!t){const s=(0,d.createBlocksFromInnerBlocksTemplate)(r.current);if(0!==s.length)return t=!0,void o(e,s)}const a=s.current.map((e=>(0,d.getBlockType)(e))),i=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>Boolean(e.lock?.remove||e.lock?.default?.remove))(e))),s=[];return o.forEach((t=>{if(void 0===t)return;const o=e.find((e=>e.name===t.name));o||s.push(t)})),s})(n,a);if(0===i.length)return;let l=-1;const m=i.map((e=>{const t=r.current.findIndex((([t])=>t===e.name)),o=(0,d.createBlock)(e.name);return-1===l&&(l=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const s=o.current[e-1],r=t.findIndex((({name:e})=>e===s[0]));return-1===r?e:r+1}})({defaultTemplatePosition:t,innerBlocks:n,currentDefaultTemplate:r})),o}));c.batch((()=>{c.dispatch("core/block-editor").insertBlocks(m,l,e)}))}),"core/block-editor")}),[e,n,c])};o(398);const _t=(0,m.createContext)({hasDarkControls:!1}),wt=JSON.parse('{"DD":"Filled Cart","XV":3}');(0,d.registerBlockType)("woocommerce/filled-cart-block",{apiVersion:wt.XV,title:wt.DD,icon:{src:(0,a.jsx)(l.A,{icon:it,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)(),{currentView:o}=R(),{hasDarkControls:s}=(0,m.useContext)(_t),n=ht(nt.innerBlockAreas.FILLED_CART),i=[["woocommerce/cart-items-block",{},[]],["woocommerce/cart-totals-block",{},[]]];return gt({clientId:e,registeredBlocks:n,defaultTemplate:i}),(0,a.jsx)("div",{...t,hidden:"woocommerce/filled-cart-block"!==o,children:(0,a.jsx)(ut,{className:(0,r.A)("wc-block-cart",{"has-dark-controls":s}),children:(0,a.jsx)(c.InnerBlocks,{allowedBlocks:n,template:i,templateLock:"insert"})})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});var kt=o(4782);const bt=(0,m.forwardRef)((({children:e,className:t=""},o)=>(0,a.jsx)("div",{ref:o,className:(0,r.A)("wc-block-components-main",t),children:e}))),yt=JSON.parse('{"DD":"Cart Items","XV":3}');(0,d.registerBlockType)("woocommerce/cart-items-block",{apiVersion:yt.XV,title:yt.DD,icon:{src:(0,a.jsx)(l.A,{icon:kt.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)({className:"wc-block-cart__main"}),o=ht(nt.innerBlockAreas.CART_ITEMS),s=[["woocommerce/cart-line-items-block",{},[]],["woocommerce/cart-cross-sells-block",{},[]]];return gt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,a.jsx)(bt,{...t,children:(0,a.jsx)(c.InnerBlocks,{allowedBlocks:o,template:s,templateLock:!1,renderAppender:c.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});var xt=o(8107),vt=o(4347);const ft=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"],St=({children:e,style:t={},...o})=>{const s=(0,m.useRef)(null),r=()=>{s.current&&xt.focus.focusable.find(s.current).forEach((e=>{ft.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")}))},c=(0,vt.YQ)(r,0,{leading:!0});return(0,m.useLayoutEffect)((()=>{let e;return r(),s.current&&(e=new window.MutationObserver(c),e.observe(s.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),c.cancel()}}),[c]),(0,a.jsx)("div",{ref:s,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...t},...o,children:e})};var jt=o(195),Ct=o(8558);o(9959);const Pt=({className:e,quantity:t=1,minimum:o=1,maximum:c,onChange:n=()=>{},step:i=1,itemName:l="",disabled:d,editable:u=!0})=>{const p=(0,r.A)("wc-block-components-quantity-selector",e),h=(0,m.useRef)(null),g=(0,m.useRef)(null),_=(0,m.useRef)(null),w=void 0!==c,k=!d&&t-i>=o,b=!d&&(!w||t+i<=c),y=(0,m.useCallback)((e=>{let t=e;w&&(t=Math.min(t,Math.floor(c/i)*i)),t=Math.max(t,Math.ceil(o/i)*i),t=Math.floor(t/i)*i,t!==e&&n(t)}),[w,c,o,n,i]),x=(0,vt.YQ)(y,300);(0,m.useLayoutEffect)((()=>{y(t)}),[t,y]);const v=(0,m.useCallback)((e=>{const o=void 0!==typeof e.key?"ArrowDown"===e.key:e.keyCode===Ct.DOWN,s=void 0!==typeof e.key?"ArrowUp"===e.key:e.keyCode===Ct.UP;o&&k&&(e.preventDefault(),n(t-i)),s&&b&&(e.preventDefault(),n(t+i))}),[t,n,b,k,i]);return(0,a.jsxs)("div",{className:p,children:[(0,a.jsx)("input",{ref:h,className:"wc-block-components-quantity-selector__input",disabled:d,readOnly:!u,type:"number",step:i,min:o,max:c,value:t,onKeyDown:v,onChange:e=>{let o=parseInt(e.target.value,10);o=isNaN(o)?t:o,o!==t&&(n(o),x(o))},"aria-label":(0,s.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,s.__)("Quantity of %s in your cart.","woocommerce"),l)}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{ref:g,"aria-label":(0,s.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,s.__)("Reduce quantity of %s","woocommerce"),l),className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--minus",disabled:!k,onClick:()=>{const e=t-i;n(e),(0,jt.speak)((0,s.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,s.__)("Quantity reduced to %s.","woocommerce"),e)),y(e)},children:"ï¼"}),(0,a.jsx)("button",{ref:_,"aria-label":(0,s.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,s.__)("Increase quantity of %s","woocommerce"),l),disabled:!b,className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--plus",onClick:()=>{const e=t+i;n(e),(0,jt.speak)((0,s.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,s.__)("Quantity increased to %s.","woocommerce"),e)),y(e)},children:"ï¼"})]})]})},Nt=window.wc.blocksComponents,Et=window.wc.priceFormat;o(8501);const At=({currency:e,maxPrice:t,minPrice:o,priceClassName:c,priceStyle:n={}})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"screen-reader-text",children:(0,s.sprintf)(/* translators: %1$s min price, %2$s max price */ /* translators: %1$s min price, %2$s max price */
(0,s.__)("Price between %1$s and %2$s","woocommerce"),(0,Et.formatPrice)(o),(0,Et.formatPrice)(t))}),(0,a.jsxs)("span",{"aria-hidden":!0,children:[(0,a.jsx)(Nt.FormattedMonetaryAmount,{className:(0,r.A)("wc-block-components-product-price__value",c),currency:e,value:o,style:n}),"Â âÂ ",(0,a.jsx)(Nt.FormattedMonetaryAmount,{className:(0,r.A)("wc-block-components-product-price__value",c),currency:e,value:t,style:n})]})]}),It=({currency:e,regularPriceClassName:t,regularPriceStyle:o,regularPrice:c,priceClassName:n,priceStyle:i,price:l})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"screen-reader-text",children:(0,s.__)("Previous price:","woocommerce")}),(0,a.jsx)(Nt.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,a.jsx)("del",{className:(0,r.A)("wc-block-components-product-price__regular",t),style:o,children:e}),value:c}),(0,a.jsx)("span",{className:"screen-reader-text",children:(0,s.__)("Discounted price:","woocommerce")}),(0,a.jsx)(Nt.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,a.jsx)("ins",{className:(0,r.A)("wc-block-components-product-price__value","is-discounted",n),style:i,children:e}),value:l})]}),Rt=({align:e,className:t,currency:o,format:s="<price/>",maxPrice:c,minPrice:n,price:i,priceClassName:l,priceStyle:d,regularPrice:u,regularPriceClassName:p,regularPriceStyle:h,style:g})=>{const _=(0,r.A)(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});s.includes("<price/>")||(s="<price/>",console.error("Price formats need to include the `<price/>` tag."));const w=u&&i&&i<u;let k=(0,a.jsx)("span",{className:(0,r.A)("wc-block-components-product-price__value",l)});return w?k=(0,a.jsx)(It,{currency:o,price:i,priceClassName:l,priceStyle:d,regularPrice:u,regularPriceClassName:p,regularPriceStyle:h}):void 0!==n&&void 0!==c?k=(0,a.jsx)(At,{currency:o,maxPrice:c,minPrice:n,priceClassName:l,priceStyle:d}):i&&(k=(0,a.jsx)(Nt.FormattedMonetaryAmount,{className:(0,r.A)("wc-block-components-product-price__value",l),currency:o,value:i,style:d})),(0,a.jsx)("span",{className:_,style:g,children:(0,m.createInterpolateElement)(s,{price:k})})};o(959);const Bt=({className:e="",disabled:t=!1,name:o,permalink:s="",target:c,rel:n,style:i,onClick:l,disabledTagName:d="span",...m})=>{const u=(0,r.A)("wc-block-components-product-name",e),p=d;if(t){const e=m;return(0,a.jsx)(p,{className:u,...e,dangerouslySetInnerHTML:{__html:o}})}return(0,a.jsx)("a",{className:u,href:s,target:c,...m,dangerouslySetInnerHTML:{__html:o},style:i})};var Tt=o(6513);o(7605);const Dt=({children:e,className:t})=>(0,a.jsx)("div",{className:(0,r.A)("wc-block-components-product-badge",t),children:e}),Mt=()=>(0,a.jsx)(Dt,{className:"wc-block-components-product-backorder-badge",children:(0,s.__)("Available on backorder","woocommerce")}),Ot=({image:e={},fallbackAlt:t=""})=>{const o=e.thumbnail?{src:e.thumbnail,alt:(0,re.decodeEntities)(e.alt)||t||"Product Image"}:{src:u.PLACEHOLDER_IMG_SRC,alt:""};return(0,a.jsx)("img",{...o,alt:o.alt})},Lt=({lowStockRemaining:e})=>e?(0,a.jsx)(Dt,{className:"wc-block-components-product-low-stock-badge",children:(0,s.sprintf)(/* translators: %d stock amount (number of items in stock for product) */ /* translators: %d stock amount (number of items in stock for product) */
(0,s.__)("%d left in stock","woocommerce"),e)}):null;var Ft=o(7356);o(3692);const Vt=({details:e=[]})=>{if(!Array.isArray(e))return null;if(0===(e=e.filter((e=>!e.hidden))).length)return null;let t="ul",o="li";return 1===e.length&&(t="div",o="div"),(0,a.jsx)(t,{className:"wc-block-components-product-details",children:e.map((e=>{const t=e?.key||e.name||"",s=e?.className||(t?`wc-block-components-product-details__${(0,Ft.c)(t)}`:"");return(0,a.jsxs)(o,{className:s,children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"wc-block-components-product-details__name",children:[(0,re.decodeEntities)(t),":"]})," "]}),(0,a.jsx)("span",{className:"wc-block-components-product-details__value",children:(0,re.decodeEntities)(e.display||e.value)})]},t+(e.display||e.value))}))})};var Ht=o(3240),zt=o.n(Ht);const Ut=["a","b","em","i","strong","p","br"],$t=["target","href","rel","name","download"],Wt=(e,t)=>{const o=t?.tags||Ut,s=t?.attr||$t;return zt().sanitize(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:s})},qt=window.wp.autop,Yt=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),Xt=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,Gt=window.wp.wordcount,Jt=["a","b","em","i","strong","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","pre","blockquote","img"],Qt=["target","href","rel","name","download","src","class","alt","style"],Kt=({source:e,maxLength:t=15,countType:o="words",className:s="",style:r={}})=>{const c=(0,m.useMemo)((()=>((e,t=15,o="words")=>{const s=(0,qt.autop)(e);if((0,Gt.count)(s,o)<=t)return s;const r=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(s);return(0,Gt.count)(r,o)<=t?r:"words"===o?((e,t,o="&hellip;",s=!0)=>{const r=Yt(e),c=r.split(" ").splice(0,t).join(" ");return c===r?s?(0,qt.autop)(r):r:s?(0,qt.autop)(Xt(c,o)):Xt(c,o)})(r,t):((e,t,o=!0,s="&hellip;",r=!0)=>{const c=Yt(e),n=c.slice(0,t);if(n===c)return r?(0,qt.autop)(c):c;if(o)return(0,qt.autop)(Xt(n,s));const a=n.match(/([\s]+)/g),i=a?a.length:0,l=c.slice(0,t+i);return r?(0,qt.autop)(Xt(l,s)):Xt(l,s)})(r,t,"characters_including_spaces"===o)})(e,t,o)),[e,t,o]);return(0,a.jsx)(m.RawHTML,{style:r,className:s,children:Wt(c,{tags:Jt,attr:Qt})})},Zt=({className:e,shortDescription:t="",fullDescription:o=""})=>{const s=t||o;return s?(0,a.jsx)(Kt,{className:e,source:s,maxLength:15,countType:p.wordCountType||"words"}):null};o(8879);const eo=({shortDescription:e="",fullDescription:t="",itemData:o=[],variation:s=[]})=>(0,a.jsxs)("div",{className:"wc-block-components-product-metadata",children:[(0,a.jsx)(Zt,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,a.jsx)(Vt,{details:o}),(0,a.jsx)(Vt,{details:s.map((({attribute:e="",value:t})=>({key:e,value:t})))})]}),to=({currency:e,saleAmount:t,format:o="<price/>"})=>{if(!t||t<=0)return null;o.includes("<price/>")||(o="<price/>",console.error("Price formats need to include the `<price/>` tag."));const r=(0,s.sprintf)(/* translators: %s will be replaced by the discount amount */ /* translators: %s will be replaced by the discount amount */
(0,s.__)("Save %s","woocommerce"),o);return(0,a.jsx)(Dt,{className:"wc-block-components-sale-badge",children:(0,m.createInterpolateElement)(r,{price:(0,a.jsx)(Nt.FormattedMonetaryAmount,{currency:e,value:t})})})},oo=(e,t)=>e.convertPrecision(t.minorUnit).getAmount(),so=(0,m.forwardRef)((({lineItem:e,onRemove:t=()=>{},tabIndex:o},c)=>{const{name:n="",catalog_visibility:i="visible",short_description:l="",description:d="",low_stock_remaining:p=null,show_backorder_badge:h=!1,quantity_limits:g={minimum:1,maximum:99,multiple_of:1,editable:!0},sold_individually:_=!1,permalink:w="",images:k=[],variation:b=[],item_data:y=[],prices:x={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",price:"0",regular_price:"0",sale_price:"0",price_range:null,raw_prices:{precision:6,price:"0",regular_price:"0",sale_price:"0"}},totals:v={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",line_subtotal:"0",line_subtotal_tax:"0"},extensions:f}=e,{quantity:S,setItemQuantity:j,removeItem:C,isPendingDelete:P}=(e=>{const t={key:"",quantity:1};(e=>(0,Z.isObject)(e)&&(0,Z.objectHasProp)(e,"key")&&(0,Z.objectHasProp)(e,"quantity")&&(0,Z.isString)(e.key)&&(0,Z.isNumber)(e.quantity))(e)&&(t.key=e.key,t.quantity=e.quantity);const{key:o="",quantity:s=1}=t,{cartErrors:r}=we(),{__internalStartCalculation:c,__internalFinishCalculation:n}=(0,A.useDispatch)(D.checkoutStore),[a,i]=(0,m.useState)(s),[l]=(0,vt.d7)(a,400),d=Be(l),{removeItemFromCart:u,changeCartItemQuantity:p}=(0,A.useDispatch)(D.cartStore);(0,m.useEffect)((()=>i(s)),[s]);const h=(0,A.useSelect)((e=>{if(!o)return{quantity:!1,delete:!1};const t=e(D.cartStore);return{quantity:t.isItemPendingQuantity(o),delete:t.isItemPendingDelete(o)}}),[o]),g=(0,m.useCallback)((()=>o?u(o).catch((e=>{(0,D.processErrorResponse)(e)})):Promise.resolve(!1)),[o,u]);return(0,m.useEffect)((()=>{o&&(0,Z.isNumber)(d)&&Number.isFinite(d)&&d!==l&&p(o,l).catch((e=>{(0,D.processErrorResponse)(e)}))}),[o,p,l,d]),(0,m.useEffect)((()=>(h.delete?c():n(),()=>{h.delete&&n()})),[n,c,h.delete]),(0,m.useEffect)((()=>(h.quantity||l!==a?c():n(),()=>{(h.quantity||l!==a)&&n()})),[c,n,h.quantity,l,a]),{isPendingDelete:h.delete,quantity:a,setItemQuantity:i,removeItem:g,cartItemQuantityErrors:r}})(e),{dispatchStoreEvent:N}=je(),{receiveCart:E,...I}=we(),R=(0,m.useMemo)((()=>({context:"cart",cartItem:e,cart:I})),[e,I]),B=(0,Et.getCurrencyFromPriceResponse)(x),T=(0,nt.applyCheckoutFilter)({filterName:"itemName",defaultValue:n,extensions:f,arg:R}),M=(0,Tt.A)({amount:parseInt(x.raw_prices.regular_price,10),precision:x.raw_prices.precision}),O=(0,Tt.A)({amount:parseInt(x.raw_prices.price,10),precision:x.raw_prices.precision}),L=M.subtract(O),F=L.multiply(S),V=(0,Et.getCurrencyFromPriceResponse)(v);let H=parseInt(v.line_subtotal,10);(0,u.getSetting)("displayCartPricesIncludingTax",!1)&&(H+=parseInt(v.line_subtotal_tax,10));const z=(0,Tt.A)({amount:H,precision:V.minorUnit}),U=k.length?k[0]:{},$="hidden"===i||"search"===i,W=(0,nt.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:f,arg:R}),q=(0,nt.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:f,arg:R,validation:nt.productPriceValidation}),Y=(0,nt.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:f,arg:R,validation:nt.productPriceValidation}),X=(0,nt.applyCheckoutFilter)({filterName:"saleBadgePriceFormat",defaultValue:"<price/>",extensions:f,arg:R,validation:nt.productPriceValidation}),G=(0,nt.applyCheckoutFilter)({filterName:"showRemoveItemLink",defaultValue:!0,extensions:f,arg:R});return(0,a.jsxs)("tr",{className:(0,r.A)("wc-block-cart-items__row",W,{"is-disabled":P}),ref:c,tabIndex:o,children:[(0,a.jsx)("td",{className:"wc-block-cart-item__image","aria-hidden":!(0,Z.objectHasProp)(U,"alt")||!U.alt,children:$?(0,a.jsx)(Ot,{image:U,fallbackAlt:T}):(0,a.jsx)("a",{href:w,tabIndex:-1,children:(0,a.jsx)(Ot,{image:U,fallbackAlt:T})})}),(0,a.jsx)("td",{className:"wc-block-cart-item__product",children:(0,a.jsxs)("div",{className:"wc-block-cart-item__wrap",children:[(0,a.jsx)(Bt,{disabled:P||$,name:T,permalink:w}),h?(0,a.jsx)(Mt,{}):!!p&&(0,a.jsx)(Lt,{lowStockRemaining:p}),(0,a.jsx)("div",{className:"wc-block-cart-item__prices",children:(0,a.jsx)(Rt,{currency:B,regularPrice:oo(M,B),price:oo(O,B),format:Y})}),(0,a.jsx)(to,{currency:B,saleAmount:oo(L,B),format:X}),(0,a.jsx)(eo,{shortDescription:l,fullDescription:d,itemData:y,variation:b}),(0,a.jsxs)("div",{className:"wc-block-cart-item__quantity",children:[!_&&(0,a.jsx)(Pt,{disabled:P,editable:g.editable,quantity:S,minimum:g.minimum,maximum:g.maximum,step:g.multiple_of,onChange:t=>{j(t),N("cart-set-item-quantity",{product:e,quantity:t})},itemName:T}),G&&(0,a.jsx)("button",{className:"wc-block-cart-item__remove-link","aria-label":(0,s.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,s.__)("Remove %s from cart","woocommerce"),T),onClick:()=>{t(),C(),N("cart-remove-item",{product:e,quantity:S}),(0,jt.speak)((0,s.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,s.__)("%s has been removed from your cart.","woocommerce"),T))},disabled:P,children:(0,s.__)("Remove item","woocommerce")})]})]})}),(0,a.jsx)("td",{className:"wc-block-cart-item__total",children:(0,a.jsxs)("div",{className:"wc-block-cart-item__total-price-and-sale-badge-wrapper",children:[(0,a.jsx)(Rt,{currency:V,format:q,price:z.getAmount()}),S>1&&(0,a.jsx)(to,{currency:B,saleAmount:oo(F,B),format:X})]})})]})})),ro=so;o(359);const co=[...Array(3)].map(((_x,e)=>(0,a.jsx)(ro,{lineItem:{}},e))),no=e=>{const t={};return e.forEach((({key:e})=>{t[e]=(0,m.createRef)()})),t},ao=({lineItems:e=[],isLoading:t=!1,className:o})=>{const c=(0,m.useRef)(null),n=(0,m.useRef)(no(e));(0,m.useEffect)((()=>{n.current=no(e)}),[e]);const i=e=>()=>{n?.current&&e&&n.current[e].current instanceof HTMLElement?n.current[e].current.focus():c.current instanceof HTMLElement&&c.current.focus()},l=t?co:e.map(((t,o)=>{const s=e.length>o+1?e[o+1].key:null;return(0,a.jsx)(ro,{lineItem:t,onRemove:i(s),ref:n.current[t.key],tabIndex:-1},t.key)}));return(0,a.jsxs)("table",{className:(0,r.A)("wc-block-cart-items",o),ref:c,tabIndex:-1,children:[(0,a.jsx)("caption",{className:"screen-reader-text",children:(0,a.jsx)("h2",{children:(0,s.__)("Products in cart","woocommerce")})}),(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"wc-block-cart-items__header",children:[(0,a.jsx)("th",{className:"wc-block-cart-items__header-image",children:(0,a.jsx)("span",{children:(0,s.__)("Product","woocommerce")})}),(0,a.jsx)("th",{className:"wc-block-cart-items__header-product",children:(0,a.jsx)("span",{children:(0,s.__)("Details","woocommerce")})}),(0,a.jsx)("th",{className:"wc-block-cart-items__header-total",children:(0,a.jsx)("span",{children:(0,s.__)("Total","woocommerce")})})]})}),(0,a.jsx)("tbody",{children:l})]})},io=({className:e})=>{const{cartItems:t,cartIsLoading:o}=we();return(0,a.jsx)(ao,{className:e,lineItems:t,isLoading:o})},lo=JSON.parse('{"DD":"Cart Line Items","XV":3}');(0,d.registerBlockType)("woocommerce/cart-line-items-block",{apiVersion:lo.XV,title:lo.DD,icon:{src:(0,a.jsx)(l.A,{icon:kt.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(St,{children:(0,a.jsx)(io,{className:t})})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const mo=JSON.parse('{"DD":"Cart Cross-Sells","XV":3}');(0,d.registerBlockType)("woocommerce/cart-cross-sells-block",{apiVersion:mo.XV,title:mo.DD,icon:{src:(0,a.jsx)(l.A,{icon:kt.A,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=(0,c.useBlockProps)({className:"wc-block-cart__cross-sells"}),t=[["core/heading",{content:(0,s.__)("You may be interested inâ¦","woocommerce"),level:2,fontSize:"large"},[]],["woocommerce/cart-cross-sells-products-block",{},[]]];return(0,a.jsx)("div",{...e,children:(0,a.jsx)(c.InnerBlocks,{template:t,templateLock:!1})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});const uo=window.wp.components,po=window.wc.wcBlocksSharedContext,ho=window.wp.styleEngine;function go(e={}){const t={};return(0,ho.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function _o(e,t){return e&&t?`has-${(0,Ft.c)(t)}-${e}`:""}const wo=e=>{const t=(e=>{const t=(0,Z.isObject)(e)?e:{style:{}};let o=t.style;return(0,Z.isString)(o)&&(o=JSON.parse(o)||{}),(0,Z.isObject)(o)||(o={}),{...t,style:o}})(e),o=function(e){const{backgroundColor:t,textColor:o,gradient:s,style:c}=e,n=_o("background-color",t),a=_o("color",o),i=function(e){if(e)return`has-${e}-gradient-background`}(s),l=i||c?.color?.gradient;return{className:(0,r.A)(a,i,{[n]:!l&&!!n,"has-text-color":o||c?.color?.text,"has-background":t||c?.color?.background||s||c?.color?.gradient,"has-link-color":(0,Z.isObject)(c?.elements?.link)?c?.elements?.link?.color:void 0}),style:go({color:c?.color||{}})}}(t),s=function(e){const t=e.style?.border||{},o=function(e){const{borderColor:t,style:o}=e,s=t?_o("border-color",t):"";return(0,r.A)({"has-border-color":!!t||!!o?.border?.color,[s]:!!s})}(e);return{className:o,style:go({border:t})}}(t),c=function(e){return{className:void 0,style:go({spacing:e.style?.spacing||{}})}}(t),n=(e=>{const t=(0,Z.isObject)(e.style.typography)?e.style.typography:{},o=(0,Z.isString)(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:o,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:(0,r.A)(n.className,o.className,s.className,c.className),style:{...n.style,...o.style,...s.style,...c.style}}},ko=window.wc.wcBlocksSharedHocs;o(4313);const bo=(0,ko.withProductDataContext)((e=>{const{className:t,align:o,isDescendentOfSingleProductTemplate:c}=e,n=wo(e),{parentClassName:i}=(0,po.useInnerBlockLayoutContext)(),{product:l}=(0,po.useProductDataContext)();if(!(l.id&&l.on_sale||c))return null;const d="string"==typeof o?`wc-block-components-product-sale-badge--align-${o}`:"";return(0,a.jsx)("div",{className:(0,r.A)("wc-block-components-product-sale-badge",t,d,{[`${i}__product-onsale`]:i},n.className),style:n.style,children:(0,a.jsx)(Nt.Label,{label:(0,s.__)("Sale","woocommerce"),screenReaderLabel:(0,s.__)("Product on sale","woocommerce")})})}));o(1189);let yo=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});const xo=e=>(0,a.jsx)("img",{...e,src:u.PLACEHOLDER_IMG_SRC,alt:"",width:void 0,height:void 0}),vo=({image:e,loaded:t,showFullSize:o,fallbackAlt:s,width:r,scale:c,height:n,aspectRatio:i})=>{const{thumbnail:l,src:d,srcset:m,sizes:u,alt:p}=e||{},h={alt:p||s,hidden:!t,src:l,...o&&{src:d,srcSet:m,sizes:u}},g={height:n,width:r,objectFit:c,aspectRatio:i};return(0,a.jsxs)(a.Fragment,{children:[h.src&&(0,a.jsx)("img",{style:g,"data-testid":"product-image",...h}),!e&&(0,a.jsx)(xo,{style:g})]})},fo=e=>{const{product:t}=e;return!(0,Z.isEmpty)(t)&&(void 0===(o=e.showSaleBadge)||o);var o},So=e=>{const{aspectRatio:t,children:o,className:c,height:n,imageId:i,imageSizing:l=yo.SINGLE,scale:d,showProductLink:u=!0,style:p,width:h,...g}=e,_=wo(e),{parentClassName:w}=(0,po.useInnerBlockLayoutContext)(),{product:k,isLoading:b}=(0,po.useProductDataContext)(),{dispatchStoreEvent:y}=je();if(!k?.id)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,r.A)(c,"wc-block-components-product-image",{[`${w}__product-image`]:w},_.className),style:_.style,children:(0,a.jsx)(xo,{})}),o]});const x=((e,t)=>e.images.length?t&&e.images.find((e=>e.id===t))||e.images[0]:null)(k,i);x&&(x.alt=x.alt||(0,re.decodeEntities)(k.name));const v=u?"a":m.Fragment,f=k?.name?
// translators: %s is the product name.
// translators: %s is the product name.
(0,s.sprintf)((0,s.__)("Link to %s","woocommerce"),k.name):"",S={href:u?k?.permalink:void 0,...u&&{"aria-label":f,onClick:()=>{y("product-view-link",{product:k})}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,r.A)(c,"wc-block-components-product-image",{[`${w}__product-image`]:w},_.className),style:_.style,children:[fo(e)&&(0,a.jsx)(bo,{align:e.saleBadgeAlign||"right",...g}),(0,a.jsx)(v,{...u&&S,children:(0,a.jsx)(vo,{fallbackAlt:(0,re.decodeEntities)(k.name),image:x,loaded:!b,showFullSize:l!==yo.THUMBNAIL,width:h,height:n,scale:d,aspectRatio:(0,Z.objectHasProp)(p,"dimensions")&&(0,Z.objectHasProp)(p.dimensions,"aspectRatio")&&(0,Z.isString)(p.dimensions.aspectRatio)?p.dimensions.aspectRatio:t})})]}),o]})};(0,ko.withProductDataContext)(So),o(7578);const jo=({children:e,headingLevel:t,elementType:o=`h${t}`,...s})=>(0,a.jsx)(o,{...s,children:e}),Co=e=>{const{className:t,headingLevel:o=2,showProductLink:s=!0,linkTarget:c,align:n}=e,i=wo(e),{parentClassName:l}=(0,po.useInnerBlockLayoutContext)(),{product:d}=(0,po.useProductDataContext)(),{dispatchStoreEvent:m}=je();return d.id?(0,a.jsx)(jo,{headingLevel:o,className:(0,r.A)(t,i.className,"wc-block-components-product-title",{[`${l}__product-title`]:l,[`wc-block-components-product-title--align-${n}`]:n}),style:i.style,children:(0,a.jsx)(Bt,{disabled:!s,name:d.name,permalink:d.permalink,target:c,onClick:()=>{m("product-view-link",{product:d})}})}):(0,a.jsx)(jo,{headingLevel:o,className:(0,r.A)(t,i.className,"wc-block-components-product-title",{[`${l}__product-title`]:l,[`wc-block-components-product-title--align-${n}`]:n}),style:i.style})},Po=((0,ko.withProductDataContext)(Co),e=>({width:e/5*100+"%"})),No=({className:e,parentClassName:t})=>{const o=Po(0);return(0,a.jsxs)("div",{className:(0,r.A)(`${e}__norating-container`,`${t}-product-rating__norating-container`),children:[(0,a.jsx)("div",{className:`${e}__norating`,role:"img",children:(0,a.jsx)("span",{style:o})}),(0,a.jsx)("span",{children:(0,s.__)("No Reviews","woocommerce")})]})},Eo=e=>{const{className:t,rating:o,reviews:c,parentClassName:n}=e,i=Po(o),l=(0,s.sprintf)(/* translators: %f is referring to the average rating value */ /* translators: %f is referring to the average rating value */
(0,s.__)("Rated %f out of 5","woocommerce"),o),d={__html:(0,s.sprintf)(/* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */ /* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */
(0,s._n)("Rated %1$s out of 5 based on %2$s customer rating","Rated %1$s out of 5 based on %2$s customer ratings",c,"woocommerce"),(0,s.sprintf)('<strong class="rating">%f</strong>',o),(0,s.sprintf)('<span class="rating">%d</span>',c))};return(0,a.jsx)("div",{className:(0,r.A)(`${t}__stars`,`${n}__product-rating__stars`),role:"img","aria-label":l,children:(0,a.jsx)("span",{style:i,dangerouslySetInnerHTML:d})})},Ao=e=>{const{className:t,reviews:o}=e,r=(0,s.sprintf)(/* translators: %s is referring to the total of reviews for a product */ /* translators: %s is referring to the total of reviews for a product */
(0,s._n)("(%s customer review)","(%s customer reviews)",o,"woocommerce"),o);return(0,a.jsx)("span",{className:`${t}__reviews_count`,children:r})},Io=e=>{const{className:t="wc-block-components-product-rating",showReviewCount:o,showMockedReviews:s,parentClassName:c="",rating:n,reviews:i,styleProps:l,textAlign:d}=e,m=(0,r.A)(l.className,t,{[`${c}__product-rating`]:c,[`has-text-align-${d}`]:d}),u=s&&(0,a.jsx)(No,{className:t,parentClassName:c}),p=i?(0,a.jsx)(Eo,{className:t,rating:n,reviews:i,parentClassName:c}):u,h=i&&o;return(0,a.jsx)("div",{className:m,style:l.style,children:(0,a.jsxs)("div",{className:`${t}__container`,children:[p,h?(0,a.jsx)(Ao,{className:t,reviews:i}):null]})})};o(7545);const Ro=e=>{const{textAlign:t="",shouldDisplayMockedReviewsWhenProductHasNoReviews:o}=e,s=wo(e),{parentClassName:r}=(0,po.useInnerBlockLayoutContext)(),{product:c}=(0,po.useProductDataContext)(),n=(e=>{const t=parseFloat(e.average_rating);return Number.isFinite(t)&&t>0?t:0})(c),i=(e=>{const t=(0,Z.isNumber)(e.review_count)?e.review_count:parseInt(e.review_count,10);return Number.isFinite(t)&&t>0?t:0})(c);return(0,a.jsx)(Io,{className:"wc-block-components-product-rating-stars",showMockedReviews:o,styleProps:s,parentClassName:r,reviews:i,rating:n,textAlign:t})},Bo=((0,ko.withProductDataContext)(Ro),e=>{const{className:t,textAlign:o,isDescendentOfSingleProductTemplate:s}=e,c=wo(e),{parentName:n,parentClassName:i}=(0,po.useInnerBlockLayoutContext)(),{product:l}=(0,po.useProductDataContext)(),d="woocommerce/all-products"===n,m=s&&!("woocommerce/add-to-cart-with-options-grouped-product-item"===n),u=(0,r.A)("wc-block-components-product-price",t,c.className,{[`${i}__product-price`]:i});if(!l.id&&!s){const e=(0,a.jsx)(Rt,{align:o,className:u});return d?(0,a.jsx)("div",{className:"wp-block-woocommerce-product-price",children:e}):e}const p=l.prices,h=m?(0,Et.getCurrencyFromPriceResponse)():(0,Et.getCurrencyFromPriceResponse)(p),g="5000",_=p.price!==p.regular_price,w=(0,r.A)({[`${i}__product-price__value`]:i,[`${i}__product-price__value--on-sale`]:_}),k=(0,a.jsx)(Rt,{align:o,className:u,style:c.style,regularPriceStyle:c.style,priceStyle:c.style,priceClassName:w,currency:h,price:m?g:p.price,minPrice:p?.price_range?.min_amount,maxPrice:p?.price_range?.max_amount,regularPrice:m?g:p.regular_price,regularPriceClassName:(0,r.A)({[`${i}__product-price__regular`]:i})});return d?(0,a.jsx)("div",{className:"wp-block-woocommerce-product-price",children:k}):k}),To=(e,t)=>{const o=e.find((({id:e})=>e===t));return o?o.quantity:0};o(7316);const Do="woocommerce/product-type-template-state",Mo="SWITCH_PRODUCT_TYPE",Oo="SET_PRODUCT_TYPES",Lo="REGISTER_LISTENER",Fo="UNREGISTER_LISTENER",Vo=(0,u.getSetting)("productTypes",{}),Ho=Object.keys(Vo).map((e=>({slug:e,label:Vo[e]}))),zo={productTypes:{list:Ho,current:Ho[0]?.slug},listeners:[]},Uo={switchProductType:e=>({type:Mo,current:e}),setProductTypes:e=>({type:Oo,productTypes:e}),registerListener:e=>({type:Lo,listener:e}),unregisterListener:e=>({type:Fo,listener:e})},$o=(0,A.createReduxStore)(Do,{reducer:(e=zo,t)=>{switch(t.type){case Oo:return{...e,productTypes:{...e.productTypes,list:t.productTypes||[]}};case Mo:return{...e,productTypes:{...e.productTypes,current:t.current}};case Lo:return{...e,listeners:[...e.listeners,t.listener||""]};case Fo:return{...e,listeners:e.listeners.filter((e=>e!==t.listener))};default:return e}},actions:Uo,selectors:{getProductTypes:e=>e.productTypes.list,getCurrentProductType:e=>e.productTypes.list.find((t=>t.slug===e.productTypes.current)),getRegisteredListeners:e=>e.listeners}});(0,A.select)(Do)||(0,A.register)($o);const Wo=({product:e,isDescendantOfAddToCartWithOptions:t,className:o,style:c})=>{const{id:n,permalink:i,add_to_cart:l,has_options:d,is_purchasable:p,is_in_stock:h}=e,{dispatchStoreEvent:g}=je(),{cartQuantity:_,addingToCart:w,addToCart:b}=(e=>{const{addItemToCart:t}=(0,A.useDispatch)(D.cartStore),{cartItems:o,cartIsLoading:s}=we(),{createErrorNotice:r,removeNotice:c}=(0,A.useDispatch)("core/notices"),[n,a]=(0,m.useState)(!1),i=(0,m.useRef)(To(o,e));return(0,m.useEffect)((()=>{const t=To(o,e);t!==i.current&&(i.current=t)}),[o,e]),{cartQuantity:Number.isFinite(i.current)?i.current:0,addingToCart:n,cartIsLoading:s,addToCart:(o=1)=>(a(!0),t(e,o).then((()=>{c("add-to-cart")})).catch((e=>{r((0,re.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})})).finally((()=>{a(!1)})))}})(n),y=Number.isFinite(_)&&_>0,x=!d&&p&&h,v=(0,re.decodeEntities)(l?.description||""),f=(({cartQuantity:e,productCartDetails:t,isDescendantOfAddToCartWithOptions:o})=>Number.isFinite(e)&&e>0?(0,s.sprintf)(/* translators: %s number of products in cart. */ /* translators: %s number of products in cart. */
(0,s._n)("%d in cart","%d in cart",e,"woocommerce"),e):o&&t?.single_text?t?.single_text:t?.text||(0,s.__)("Add to cart","woocommerce"))({cartQuantity:_,productCartDetails:l,isDescendantOfAddToCartWithOptions:t}),S=x?"button":"a",j={};return x?j.onClick=async()=>{await b(),g("cart-add-item",{product:e});const{cartRedirectAfterAdd:t}=(0,u.getSetting)("productsSettings");t&&(window.location.href=k)}:(j.href=i,j.rel="nofollow",j.onClick=()=>{g("product-view-link",{product:e})}),(0,a.jsx)(S,{...j,"aria-label":v,disabled:w,className:(0,r.A)(o,"wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",{loading:w,added:y}),style:c,children:f})},qo=({className:e,style:t})=>(0,a.jsx)("button",{className:(0,r.A)("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button","wc-block-components-product-button__button--placeholder",e),style:t,disabled:!0,children:(0,s.__)("Add to cart","woocommerce")}),Yo=({className:e,style:t,blockClientId:o})=>{const{current:c,registerListener:n,unregisterListener:i}=function(){const{productTypes:e,current:t,registeredListeners:o}=(0,A.useSelect)((e=>{const{getProductTypes:t,getCurrentProductType:o,getRegisteredListeners:s}=e($o);return{productTypes:t(),current:o(),registeredListeners:s()}}),[]),{switchProductType:s,registerListener:r,unregisterListener:c}=(0,A.useDispatch)($o);return{productTypes:e,current:t,set:s,registeredListeners:o,registerListener:r,unregisterListener:c}}();(0,m.useEffect)((()=>{if(o)return n(o),()=>{i(o)}}),[o,n,i]);const l="external"===c?.slug?(0,s.__)("Buy product","woocommerce"):(0,s.__)("Add to cart","woocommerce");return(0,a.jsx)("button",{className:(0,r.A)("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",e),style:t,disabled:!0,children:l})},Xo=e=>{const{className:t,textAlign:o,blockClientId:s}=e,c=wo(e),{parentClassName:n}=(0,po.useInnerBlockLayoutContext)(),{isLoading:i,product:l}=(0,po.useProductDataContext)();return(0,a.jsx)("div",{className:(0,r.A)(t,"wp-block-button","wc-block-components-product-button",{[`${n}__product-add-to-cart`]:n,[`align-${o}`]:o}),children:i?(0,a.jsx)(qo,{className:c.className,style:c.style}):(0,a.jsx)(a.Fragment,{children:l.id?(0,a.jsx)(Wo,{product:l,style:c.style,className:c.className,isDescendantOfAddToCartWithOptions:e["woocommerce/isDescendantOfAddToCartWithOptions"]}):(0,a.jsx)(Yo,{style:c.style,className:c.className,isLoading:i,blockClientId:s})})})},Go=((0,ko.withProductDataContext)(Xo),({product:e})=>(0,a.jsx)("div",{className:"cross-sells-product",children:(0,a.jsx)(po.InnerBlockLayoutContextProvider,{parentName:"woocommerce/cart-cross-sells-block",parentClassName:"wp-block-cart-cross-sells-product",children:(0,a.jsxs)(po.ProductDataContextProvider,{isLoading:!1,product:e,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(So,{className:"",showSaleBadge:!0,productId:e.id,showProductLink:!0,saleBadgeAlign:"left",imageSizing:yo.SINGLE,isDescendentOfQueryLoop:!1,scale:"cover",aspectRatio:"1:1"}),(0,a.jsx)(Co,{align:"",headingLevel:3,showProductLink:!0}),(0,a.jsx)(Ro,{isDescendentOfQueryLoop:!1,isDescendentOfSingleProductBlock:!1,productId:e.id,postId:0,shouldDisplayMockedReviewsWhenProductHasNoReviews:!1}),(0,a.jsx)(Bo,{})]}),(0,a.jsx)(Xo,{})]})})})),Jo=({products:e,columns:t})=>{const o=e.map(((e,o)=>o>=t?null:(0,a.jsx)(Go,{isLoading:!1,product:e},e.id)));return(0,a.jsx)("div",{children:o})},Qo=JSON.parse('{"DD":"Cart Cross-Sells Products","uK":{"Y":{"A":3}},"XV":3}'),Ko=({className:e,columns:t})=>{const{crossSellsProducts:o}=we();return void 0===t&&(t=Qo.uK.Y.A),(0,a.jsx)(Jo,{className:e,columns:t,products:o})};o(535),o(7128),(0,d.registerBlockType)("woocommerce/cart-cross-sells-products-block",{apiVersion:Qo.XV,title:Qo.DD,icon:{src:(0,a.jsx)(l.A,{icon:kt.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{className:o,columns:r}=e,n=(0,c.useBlockProps)();return(0,a.jsxs)("div",{...n,children:[(0,a.jsx)(c.InspectorControls,{children:(0,a.jsx)(uo.PanelBody,{title:(0,s.__)("Settings","woocommerce"),children:(0,a.jsx)(uo.RangeControl,{label:(0,s.__)("Cross-Sells products to show","woocommerce"),value:r,onChange:e=>t({columns:e}),min:(0,u.getSetting)("minColumns",1),max:(0,u.getSetting)("maxColumns",6)})})}),(0,a.jsx)(St,{children:(0,a.jsx)(Ko,{columns:r,className:o})})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const Zo=(0,m.forwardRef)((({children:e,className:t=""},o)=>(0,a.jsx)("div",{ref:o,className:(0,r.A)("wc-block-components-sidebar",t),children:e})));o(5675);const es=JSON.parse('{"DD":"Cart Totals","XV":3}');function ts(e){const t=(0,m.useRef)(e);return fe()(e,t.current)||(t.current=e),t.current}(0,d.registerBlockType)("woocommerce/cart-totals-block",{apiVersion:es.XV,title:es.DD,icon:{src:(0,a.jsx)(l.A,{icon:kt.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)({className:"wc-block-cart__sidebar"}),o=ht(nt.innerBlockAreas.CART_TOTALS),s=[["woocommerce/cart-order-summary-block",{},[]],["woocommerce/cart-express-payment-block",{},[]],["woocommerce/proceed-to-checkout-block",{},[]],["woocommerce/cart-accepted-payment-methods-block",{},[]]];return gt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,a.jsx)(Zo,{...t,children:(0,a.jsx)(c.InnerBlocks,{allowedBlocks:o,template:s,templateLock:!1,renderAppender:c.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});const os=(e=!1)=>{const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:o,availablePaymentMethods:s,availableExpressPaymentMethods:r}=(0,A.useSelect)((e=>{const t=e(D.paymentStore);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),c=Object.values(s).map((({name:e})=>e)),n=Object.values(r).map((({name:e})=>e)),a=(0,$e.getPaymentMethods)(),i=(0,$e.getExpressPaymentMethods)(),l=Object.keys(a).reduce(((e,t)=>(c.includes(t)&&(e[t]=a[t]),e)),{}),d=Object.keys(i).reduce(((e,t)=>(n.includes(t)&&(e[t]=i[t]),e)),{}),m=ts(l),u=ts(d);return{paymentMethods:e?u:m,isInitialized:e?o:t}},ss=()=>os(!0);var rs=o(7035);const cs={warning:"#F0B849",error:"#CC1818",success:"#46B450",info:"#0073AA"},ns=({status:e="warning",...t})=>(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("path",{d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z",stroke:cs[e],strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M13 7H11V13H13V7Z",fill:cs[e]}),(0,a.jsx)("path",{d:"M13 15H11V17H13V15Z",fill:cs[e]})]});o(4459);const as=({href:e,title:t,description:o,warning:r})=>(0,a.jsxs)("a",{href:e,className:"wc-block-editor-components-external-link-card",target:"_blank",rel:"noreferrer",children:[(0,a.jsxs)("span",{className:"wc-block-editor-components-external-link-card__content",children:[(0,a.jsx)("strong",{className:"wc-block-editor-components-external-link-card__title",children:t}),o&&(0,a.jsx)("span",{className:"wc-block-editor-components-external-link-card__description",dangerouslySetInnerHTML:{__html:Wt(o)}}),r?(0,a.jsxs)("span",{className:"wc-block-editor-components-external-link-card__warning",children:[(0,a.jsx)(l.A,{icon:(0,a.jsx)(ns,{status:"error"})}),(0,a.jsx)("span",{children:r})]}):null]}),(0,a.jsx)(uo.VisuallyHidden,{as:"span",children:/* translators: accessibility text */ /* translators: accessibility text */
(0,s.__)("(opens in a new tab)","woocommerce")}),(0,a.jsx)(l.A,{icon:rs.A,className:"wc-block-editor-components-external-link-card__icon"})]}),is=["height","borderRadius"],ls=e=>{const t=(0,A.select)(D.paymentStore).getAvailableExpressPaymentMethods();return Object.values(t).reduce(((t,o)=>t||o?.supportsStyle.some((t=>e.includes(t)))),!1)},ds=({attributes:e,setAttributes:t})=>{const{buttonHeight:o,buttonBorderRadius:r}=e;return(0,a.jsxs)(a.Fragment,{children:[ls(["height"])&&(0,a.jsx)(uo.RadioControl,{label:(0,s.__)("Button height","woocommerce"),selected:o,options:[{label:(0,s.__)("Small (40px)","woocommerce"),value:"40"},{label:(0,s.__)("Medium (48px)","woocommerce"),value:"48"},{label:(0,s.__)("Large (55px)","woocommerce"),value:"55"}],onChange:e=>t({buttonHeight:e})}),ls(["borderRadius"])&&(0,a.jsx)("div",{className:"border-radius-control-container",children:(0,a.jsx)(c.HeightControl,{label:(0,s.__)("Button border radius","woocommerce"),value:r,onChange:e=>{const o=e.replace("px","");t({buttonBorderRadius:o})}})})]})},ms=({attributes:e,setAttributes:t})=>e.showButtonStyles?(0,a.jsx)(ds,{attributes:e,setAttributes:t}):null,us=()=>{const e=(0,A.select)(D.paymentStore).getAvailableExpressPaymentMethods();return Object.entries(e).length<1?(0,a.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,s.__)("You currently have no express payment integrations active.","woocommerce")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,s.__)("You currently have the following express payment integrations active.","woocommerce")}),Object.values(e).map((e=>(0,a.jsx)(as,{href:`${u.ADMIN_URL}admin.php?page=wc-settings&tab=checkout&section=${encodeURIComponent(e.gatewayId)}`,title:e.title,description:e.description},e.name)))]})},ps=(0,a.jsxs)(a.Fragment,{children:[(0,s.__)("Apply uniform styles","woocommerce")," ",(0,a.jsx)("span",{className:"express-payment-styles-beta-badge",children:"Beta"})]}),hs=({attributes:e,setAttributes:t})=>(0,a.jsxs)(c.InspectorControls,{children:[ls(is)&&(0,a.jsxs)(uo.PanelBody,{title:(0,s.__)("Button Settings","woocommerce"),className:"express-payment-button-settings",children:[(0,a.jsx)(uo.ToggleControl,{label:ps,checked:e.showButtonStyles,onChange:()=>t({showButtonStyles:!e.showButtonStyles}),help:(0,s.__)("Sets a consistent style for express payment buttons.","woocommerce")}),(0,a.jsxs)(uo.Notice,{status:"warning",isDismissible:!1,className:"wc-block-checkout__notice express-payment-styles-notice",children:[(0,a.jsxs)("strong",{children:[(0,s.__)("Note","woocommerce"),":"]})," ",(0,s.__)("Some payment methods might not yet support all style controls","woocommerce")]}),(0,a.jsx)(ms,{attributes:e,setAttributes:t})]}),(0,a.jsx)(uo.PanelBody,{title:(0,s.__)("Express Payment Methods","woocommerce"),children:(0,a.jsx)(us,{})})]});o(9961);const gs=({children:e,className:t,screenReaderLabel:o,showSpinner:c=!1,isLoading:n=!0})=>(0,a.jsxs)("div",{className:(0,r.A)(t,{"wc-block-components-loading-mask":n}),children:[n&&c&&(0,a.jsx)(Nt.Spinner,{}),(0,a.jsx)("div",{className:(0,r.A)({"wc-block-components-loading-mask__children":n}),"aria-hidden":n,children:e}),n&&(0,a.jsx)("span",{className:"screen-reader-text",children:o||(0,s.__)("Loadingâ¦","woocommerce")})]}),_s=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z"}),(0,a.jsx)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),(0,a.jsx)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"})]})});var ws=o(6600),ks=o(8486),bs=o(6208);o(9287);const ys={bank:ws.A,bill:ks.A,card:bs.A,checkPayment:_s},xs=({icon:e="",text:t=""})=>{const o=!!e,s=(0,m.useCallback)((e=>o&&(0,Z.isString)(e)&&(0,Z.objectHasProp)(ys,e)),[o]),c=(0,r.A)("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return(0,a.jsxs)("span",{className:c,children:[s(e)?(0,a.jsx)(l.A,{icon:ys[e]}):e,t]})},vs=e=>`wc-block-components-payment-method-icon wc-block-components-payment-method-icon--${e}`,fs=({id:e,src:t=null,alt:o=""})=>t?(0,a.jsx)("img",{className:vs(e),src:t,alt:o}):null,Ss=[{id:"alipay",alt:"Alipay",src:h+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:h+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:h+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:h+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:h+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:h+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:h+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:h+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:h+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:h+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:h+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:h+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:h+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:h+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:h+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:h+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:h+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:h+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:h+"payment-methods/wechat.svg"}];o(6983);const js=({icons:e=[],align:t="center",className:o})=>{const s=(e=>{const t={};return e.forEach((e=>{let o={};"string"==typeof e&&(o={id:e,alt:e,src:null}),"object"==typeof e&&(o={id:e.id||"",alt:e.alt||"",src:e.src||null}),o.id&&(0,Z.isString)(o.id)&&!t[o.id]&&(t[o.id]=o)})),Object.values(t)})(e);if(0===s.length)return null;const c=(0,r.A)("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===t,"wc-block-components-payment-method-icons--align-right":"right"===t},o);return(0,a.jsx)("div",{className:c,children:s.map((e=>{const t={...e,...(o=e.id,Ss.find((e=>e.id===o))||{})};var o;return(0,a.jsx)(fs,{...t},"payment-method-icon-"+e.id)}))})},Cs=(e="")=>{const{cartCoupons:t,cartIsLoading:o}=we(),{applyCoupon:r,removeCoupon:c}=(0,A.useDispatch)(D.cartStore),{isApplyingCoupon:n,isRemovingCoupon:a,orderId:i}=(0,A.useSelect)((e=>({isApplyingCoupon:e(D.cartStore).isApplyingCoupon(),isRemovingCoupon:e(D.cartStore).isRemovingCoupon(),orderId:e(D.checkoutStore).getOrderId()})),[]),l=(0,m.useCallback)((e=>i&&i>0&&e?.data?.details?.checkout?e.data.details.checkout:e?.data?.details?.cart?e.data.details.cart:e.message),[i]);return{appliedCoupons:t,isLoading:o,applyCoupon:(0,m.useCallback)((t=>r(t).then((()=>((0,nt.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&(0,A.dispatch)("core/notices").createNotice("info",(0,s.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,s.__)('Coupon code "%s" has been applied to your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>{const t=l(e);return(0,A.dispatch)(D.validationStore).setValidationErrors({coupon:{message:(0,re.decodeEntities)(t),hidden:!1}}),Promise.resolve(!1)}))),[r,l,e]),removeCoupon:(0,m.useCallback)((t=>c(t).then((()=>((0,nt.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&(0,A.dispatch)("core/notices").createNotice("info",(0,s.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,s.__)('Coupon code "%s" has been removed from your cart.',"woocommerce"),(0,re.decodeEntities)(t)),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>((0,A.dispatch)("core/notices").createErrorNotice(t.message,{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!1))))),[c,e]),isApplyingCoupon:n,isRemovingCoupon:a}},Ps=(e,t)=>{const o=[],r=(t,o)=>{const s=o+"_tax",r=(0,Z.objectHasProp)(e,o)&&(0,Z.isString)(e[o])?parseInt(e[o],10):0;return{key:o,label:t,value:r,valueWithTax:r+((0,Z.objectHasProp)(e,s)&&(0,Z.isString)(e[s])?parseInt(e[s],10):0)}};return o.push(r((0,s.__)("Subtotal:","woocommerce"),"total_items")),o.push(r((0,s.__)("Fees:","woocommerce"),"total_fees")),o.push(r((0,s.__)("Discount:","woocommerce"),"total_discount")),o.push({key:"total_tax",label:(0,s.__)("Taxes:","woocommerce"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&o.push(r((0,s.__)("Shipping:","woocommerce"),"total_shipping")),o};class Ns extends m.Component{state={errorMessage:"",hasError:!1};static getDerivedStateFromError(e){return{errorMessage:e.message,hasError:!0}}render(){const{hasError:e,errorMessage:t}=this.state,{isEditor:o}=this.props;if(e){let e=(0,s.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woocommerce");(o||u.CURRENT_USER_IS_ADMIN)&&(e=t||(0,s.__)("There was an error with this payment method. Please verify it's configured correctly.","woocommerce"));const r=[{id:"0",content:e,isDismissible:!1,status:"error"}];return(0,a.jsx)(Nt.StoreNoticesContainer,{additionalNotices:r,context:ee.PAYMENTS})}return this.props.children}}const Es=Ns,As="wc/store/payment",Is=(0,m.createContext)({showButtonStyles:!1,buttonHeight:"48",buttonBorderRadius:"4"}),Rs=()=>{const{isEditor:e}=R(),{showButtonStyles:t,buttonHeight:o,buttonBorderRadius:r}=(0,m.useContext)(Is),c=t?{height:o,borderRadius:r}:void 0,{activePaymentMethod:n,paymentMethodData:i}=(0,A.useSelect)((e=>{const t=e(As);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}})),{__internalSetActivePaymentMethod:l,__internalSetExpressPaymentStarted:d,__internalSetPaymentIdle:p,__internalSetPaymentError:h,__internalSetPaymentMethodData:g,__internalSetExpressPaymentError:_}=(0,A.useDispatch)(As),{paymentMethods:w}=ss(),k=(()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:o,onCheckoutAfterProcessingWithError:r,onSubmit:c}=(0,m.useContext)(Ve),{onCheckoutValidation:n,onCheckoutSuccess:a,onCheckoutFail:i}=De.checkoutEvents,{isCalculating:l,isComplete:d,isIdle:p,isProcessing:h,customerId:g}=(0,A.useSelect)((e=>{const t=e(D.checkoutStore);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}}),[]),{paymentIsIdle:_,paymentIsStarted:w,paymentIsProcessing:k,paymentHasError:b,paymentIsReady:y,paymentIsDoingExpressPayment:x,activePaymentMethod:v,shouldSavePayment:f}=(0,A.useSelect)((e=>{const t=e(D.paymentStore);return{paymentIsIdle:t.isPaymentIdle(),paymentIsStarted:t.isExpressPaymentStarted(),paymentIsProcessing:t.isPaymentProcessing(),paymentHasError:t.hasPaymentError(),paymentIsReady:t.isPaymentReady(),paymentIsDoingExpressPayment:t.isExpressPaymentMethodActive(),activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),S={isIdle:_,isStarted:w,isProcessing:k,hasError:b,isReady:y,isDoingExpressPayment:x,get isPristine(){return O()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),_},get isFinished(){return O()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),b||y},get hasFailed(){return O()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),b},get isSuccessful(){return O()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),y}},{__internalSetExpressPaymentError:j}=(0,A.useDispatch)(D.paymentStore),{onPaymentProcessing:C,onPaymentSetup:P}=(0,m.useContext)(z),{shippingErrorStatus:N,shippingErrorTypes:E,onShippingRateSuccess:I,onShippingRateFail:R,onShippingRateSelectSuccess:B,onShippingRateSelectFail:T}=Ie(),{shippingRates:M,isLoadingRates:L,selectedRates:F,isSelectingRate:V,selectShippingRate:H,needsShipping:U}=Ce(),{billingAddress:$,shippingAddress:W}=(0,A.useSelect)((e=>e(D.cartStore).getCustomerData()),[]),{setShippingAddress:q}=(0,A.useDispatch)(D.cartStore),{cartItems:Y,cartFees:X,cartTotals:G,extensions:J}=we(),{appliedCoupons:Q}=Cs(),K=(0,m.useRef)(Ps(G,U)),te=(0,m.useRef)({label:(0,s.__)("Total","woocommerce"),value:parseInt(G.total_price,10)});(0,m.useEffect)((()=>{K.current=Ps(G,U),te.current={label:(0,s.__)("Total","woocommerce"),value:parseInt(G.total_price,10)}}),[G,U]);const oe=(0,m.useCallback)(((e="")=>{O()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),j(e)}),[j]);return{activePaymentMethod:v,billing:{appliedCoupons:Q,billingAddress:$,billingData:$,cartTotal:te.current,cartTotalItems:K.current,currency:(0,Et.getCurrencyFromPriceResponse)(G),customerId:g,displayPricesIncludingTax:(0,u.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:Y,cartFees:X,extensions:J},checkoutStatus:{isCalculating:l,isComplete:d,isIdle:p,isProcessing:h},components:{LoadingMask:gs,PaymentMethodIcons:js,PaymentMethodLabel:xs,ValidationInputError:Nt.ValidationInputError},emitResponse:{noticeContexts:ee,responseTypes:Z.responseTypes},eventRegistration:{onCheckoutAfterProcessingWithError:r,onCheckoutAfterProcessingWithSuccess:o,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutSuccess:a,onCheckoutFail:i,onCheckoutValidation:n,onPaymentProcessing:C,onPaymentSetup:P,onShippingRateFail:R,onShippingRateSelectFail:T,onShippingRateSelectSuccess:B,onShippingRateSuccess:I},onSubmit:c,paymentStatus:S,setExpressPaymentError:oe,shippingData:{isSelectingRate:V,needsShipping:U,selectedRates:F,setSelectedRates:H,setShippingAddress:q,shippingAddress:W,shippingRates:M,shippingRatesLoading:L},shippingStatus:{shippingErrorStatus:N,shippingErrorTypes:E},shouldSavePayment:f}})(),b=(0,m.useRef)(n),y=(0,m.useRef)(i),x=(0,m.useCallback)((e=>()=>{b.current=n,y.current=i,d(),l(e)}),[n,i,l,d]),v=(0,m.useCallback)((()=>{p(),l(b.current,y.current)}),[l,p]),f=(0,m.useCallback)((e=>{h(),g(e),_(e),l(b.current,y.current)}),[l,h,g,_]),S=(0,m.useCallback)(((e="")=>{O()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?f(e):_("")}),[_,f]),j=Object.entries(w),C=j.length>0?j.map((([t,o])=>{const s=e?o.edit:o.content;return(0,m.isValidElement)(s)?(0,a.jsx)("li",{id:`express-payment-method-${t}`,children:(0,m.cloneElement)(s,{...k,onClick:x(t),onClose:v,onError:f,setExpressPaymentError:S,buttonAttributes:c})},t):null})):(0,a.jsx)("li",{children:(0,s.__)("No registered Payment Methods","woocommerce")},"noneRegistered");return(0,a.jsx)(Es,{isEditor:e,children:(0,a.jsx)("ul",{className:"wc-block-components-express-payment__event-buttons",children:C})})};o(2831);const Bs=()=>{const{paymentMethods:e,isInitialized:t}=ss(),{isCalculating:o,isProcessing:r,isAfterProcessing:c,isBeforeProcessing:n,isComplete:i,hasError:l}=(0,A.useSelect)((e=>{const t=e(D.checkoutStore);return{isCalculating:t.isCalculating(),isProcessing:t.isProcessing(),isAfterProcessing:t.isAfterProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),hasError:t.hasError()}})),d=(0,A.useSelect)((e=>e(D.paymentStore).isExpressPaymentMethodActive()));if(!t||t&&0===Object.keys(e).length)return null;const m=r||c||n||i&&!l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gs,{isLoading:o||m||d,children:(0,a.jsx)("div",{className:"wc-block-components-express-payment wc-block-components-express-payment--cart",children:(0,a.jsxs)("div",{className:"wc-block-components-express-payment__content",children:[(0,a.jsx)(Nt.StoreNoticesContainer,{context:ee.EXPRESS_PAYMENTS}),(0,a.jsx)(Rs,{})]})})}),(0,a.jsx)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--cart",children:(0,s.__)("Or","woocommerce")})]})},Ts=({className:e})=>{const{cartNeedsPayment:t}=we();return t?(0,a.jsx)("div",{className:(0,r.A)("wc-block-cart__payment-options",e),children:(0,a.jsx)(Bs,{})}):null};o(7467);const Ds=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{stroke:"#1E1E1E",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12a6.25 6.25 0 1 1-12.5 0 6.25 6.25 0 0 1 12.5 0Z"}),(0,a.jsx)("path",{fill:"#1E1E1E",d:"M10 3h4v3h-4z"}),(0,a.jsx)("rect",{width:"1.5",height:"5",x:"11.25",y:"8",fill:"#1E1E1E",rx:".75"}),(0,a.jsx)("path",{fill:"#1E1E1E",d:"m15.7 4.816 1.66 1.078-1.114 1.718-1.661-1.078z"})]}),Ms=JSON.parse('{"DD":"Express Checkout","XV":3}');(0,d.registerBlockType)("woocommerce/cart-express-payment-block",{apiVersion:Ms.XV,title:Ms.DD,icon:{src:(0,a.jsx)(l.A,{style:{fill:"none"},icon:Ds,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{paymentMethods:o,isInitialized:s}=ss(),n=Object.keys(o).length>0,i=(0,c.useBlockProps)({className:(0,r.A)({"wp-block-woocommerce-cart-express-payment-block--has-express-payment-methods":n})}),{className:l,showButtonStyles:d,buttonHeight:m,buttonBorderRadius:u}=e;return s&&n?(0,a.jsxs)("div",{...i,children:[(0,a.jsx)(hs,{attributes:e,setAttributes:t}),(0,a.jsx)(Is.Provider,{value:{showButtonStyles:d,buttonHeight:m,buttonBorderRadius:u},children:(0,a.jsx)(Ts,{className:l})})]}):null},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});var Os=o(6012);const Ls=(0,s.__)("Proceed to Checkout","woocommerce"),Fs={checkoutPageId:{type:"number",default:0},lock:{type:"object",default:{move:!0,remove:!0}},buttonLabel:{type:"string",default:Ls}};var Vs=o(111);o(6882);const Hs=(0,m.forwardRef)(((e,t)=>{const{className:o,children:s,variant:c="contained",removeTextWrap:n=!1,...i}=e,l=(0,r.A)("wc-block-components-button","wp-element-button",o,c);if("href"in e)return(0,a.jsx)(Vs.$,{render:(0,a.jsx)("a",{ref:t,href:e.href,children:(0,a.jsx)("div",{className:"wc-block-components-button__text",children:s})}),className:l,...i});const d=n?e.children:(0,a.jsx)("div",{className:"wc-block-components-button__text",children:e.children});return(0,a.jsx)(Vs.$,{ref:t,className:l,...i,children:d})})),zs=({onChange:e,placeholder:t,value:o,children:s,...r})=>(0,a.jsxs)(Hs,{...r,children:[(0,a.jsx)(c.RichText,{multiline:!1,allowedFormats:[],value:o,placeholder:t,onChange:e}),s]}),Us=(e,t)=>{if(!e.title.raw)return e.slug;const o=1===t.filter((t=>t.title.raw===e.title.raw)).length;return e.title.raw+(o?"":` - ${e.slug}`)},$s=({setPageId:e,pageId:t,labels:o})=>{const r=(0,A.useSelect)((e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100})),[])||null;return r?(0,a.jsx)(uo.PanelBody,{title:o.title,children:(0,a.jsx)(uo.SelectControl,{label:(0,s.__)("Link to","woocommerce"),value:t,options:[{label:o.default,value:0},...r.map((e=>({label:Us(e,r),value:parseInt(e.id,10)})))],onChange:t=>e(parseInt(t,10))})}):null};o(2766);const Ws=JSON.parse('{"DD":"Proceed to Checkout","XV":3}');(0,d.registerBlockType)("woocommerce/proceed-to-checkout-block",{apiVersion:Ws.XV,title:Ws.DD,icon:{src:(0,a.jsx)(l.A,{icon:Os.A,className:"wc-block-editor-components-block-icon"})},attributes:Fs,edit:({attributes:e,setAttributes:t})=>{const o=(0,c.useBlockProps)(),{checkoutPageId:r=0,buttonLabel:n}=e,{current:i}=(0,m.useRef)(r),l=(0,A.useSelect)((e=>i||e("core/editor").getCurrentPostId()),[i]);return(0,a.jsxs)("div",{...o,children:[(0,a.jsx)(c.InspectorControls,{children:!(l===w&&0===i)&&(0,a.jsx)($s,{pageId:r,setPageId:e=>t({checkoutPageId:e}),labels:{title:(0,s.__)("Proceed to Checkout button","woocommerce"),default:(0,s.__)("WooCommerce Checkout Page","woocommerce")}})}),(0,a.jsx)(zs,{className:"wc-block-cart__submit-button",value:n,placeholder:Ls,onChange:e=>{t({buttonLabel:e})}})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const qs=(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M22.7 22.7l-20-20L2 2l-.7-.7L0 2.5 4.4 7l2.2 4.7L5.2 14A2 2 0 007 17h7.5l1.3 1.4a2 2 0 102.8 2.8l2.9 2.8 1.2-1.3zM7.4 15a.2.2 0 01-.2-.3l.9-1.7h2.4l2 2h-5zm8.2-2a2 2 0 001.7-1l3.6-6.5.1-.5c0-.6-.4-1-1-1H6.5l9 9zM7 18a2 2 0 100 4 2 2 0 000-4z"}),(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),Ys=g?["core/paragraph",{align:"center",content:(0,s.sprintf)(/* translators: %s is the link to the store product directory. */ /* translators: %s is the link to the store product directory. */
(0,s.__)('<a href="%s">Browse store</a>',"woocommerce"),g),dropCap:!1}]:null,Xs=[["core/heading",{textAlign:"center",content:(0,s.__)("Your cart is currently empty!","woocommerce"),level:2,className:"with-empty-cart-icon wc-block-cart__empty-cart__title"}],Ys,["core/separator",{className:"is-style-dots"}],["core/heading",{textAlign:"center",content:(0,s.__)("New in store","woocommerce"),level:2}],["woocommerce/product-new",{columns:4,rows:1}]].filter(Boolean);o(9685);const Gs=JSON.parse('{"DD":"Empty Cart","XV":3}');(0,d.registerBlockType)("woocommerce/empty-cart-block",{apiVersion:Gs.XV,title:Gs.DD,icon:{src:(0,a.jsx)(l.A,{icon:qs,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)(),{currentView:o}=R(),s=ht(nt.innerBlockAreas.EMPTY_CART);return gt({clientId:e,registeredBlocks:s,defaultTemplate:Xs}),(0,a.jsx)("div",{...t,hidden:"woocommerce/empty-cart-block"!==o,children:(0,a.jsx)(c.InnerBlocks,{template:Xs,templateLock:!1,renderAppender:c.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});const Js=e=>Object.values(e).reduce(((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e)),[]),Qs=({className:e})=>{const{paymentMethods:t}=os(!1);return(0,a.jsx)(js,{className:e,icons:Js(t)})},Ks=JSON.parse('{"DD":"Accepted Payment Methods","XV":3}');(0,d.registerBlockType)("woocommerce/cart-accepted-payment-methods-block",{apiVersion:Ks.XV,title:Ks.DD,icon:{src:(0,a.jsx)(l.A,{icon:bs.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(Qs,{className:t})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const Zs=(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"})]});o(9581);const er=({instanceId:e,isLoading:t=!1,onSubmit:o,displayCouponForm:c=!1})=>{const[n,i]=(0,m.useState)(""),[l,d]=(0,m.useState)(c),u=`wc-block-components-totals-coupon__input-${e}`,{validationErrorId:p}=(0,A.useSelect)((t=>({validationErrorId:t(D.validationStore).getValidationErrorId(e)})),[e]),h=(0,m.useRef)(null);return(0,a.jsx)(Nt.Panel,{className:"wc-block-components-totals-coupon",initialOpen:l,hasBorder:!1,headingLevel:2,title:(0,s.__)("Add coupons","woocommerce"),state:[l,d],children:(0,a.jsx)(gs,{screenReaderLabel:(0,s.__)("Applying couponâ¦","woocommerce"),isLoading:t,showSpinner:!1,children:(0,a.jsxs)("div",{className:"wc-block-components-totals-coupon__content",children:[(0,a.jsxs)("form",{className:"wc-block-components-totals-coupon__form",id:"wc-block-components-totals-coupon__form",children:[(0,a.jsx)(Nt.ValidatedTextInput,{id:u,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:(0,s.__)("Enter code","woocommerce"),value:n,ariaDescribedBy:p||"",onChange:e=>{i(e)},focusOnMount:!0,validateOnMount:!1,showError:!1,ref:h}),(0,a.jsxs)(Hs,{className:(0,r.A)("wc-block-components-totals-coupon__button",{"wc-block-components-totals-coupon__button--loading":t}),disabled:t||!n,onClick:e=>{e.preventDefault(),void 0!==o?o(n)?.then((e=>{e?(i(""),d(!1)):h.current?.focus&&h.current.focus()})):(i(""),d(!0))},type:"submit",children:[t&&(0,a.jsx)(Nt.Spinner,{}),(0,s.__)("Apply","woocommerce")]})]}),(0,a.jsx)(Nt.ValidationInputError,{propertyName:"coupon",elementId:e})]})})})};o(619);const tr={context:"summary"},or=({cartCoupons:e=[],currency:t,isRemovingCoupon:o,removeCoupon:r,values:c})=>{const{total_discount:n,total_discount_tax:i}=c,l=parseInt(n,10),d=(0,nt.applyCheckoutFilter)({arg:tr,filterName:"coupons",defaultValue:e});if(!l&&0===d.length)return null;const m=parseInt(i,10),p=(0,u.getSetting)("displayCartPricesIncludingTax",!1)?l+m:l;return(0,a.jsx)(Nt.TotalsItem,{className:"wc-block-components-totals-discount",currency:t,description:0!==d.length&&(0,a.jsx)(gs,{screenReaderLabel:(0,s.__)("Removing couponâ¦","woocommerce"),isLoading:o,showSpinner:!1,children:(0,a.jsx)("ul",{className:"wc-block-components-totals-discount__coupon-list",children:d.map((e=>(0,a.jsx)(Nt.RemovableChip,{className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:(0,s.sprintf)(/* translators: %s Coupon code. */ /* translators: %s Coupon code. */
(0,s.__)("Coupon: %s","woocommerce"),e.label),disabled:o,onRemove:()=>{r(e.code)},radius:"large",ariaLabel:(0,s.sprintf)(/* translators: %s is a coupon code. */ /* translators: %s is a coupon code. */
(0,s.__)('Remove coupon "%s"',"woocommerce"),e.label)},"coupon-"+e.code)))})}),label:p?(0,s.__)("Discount","woocommerce"):(0,s.__)("Coupons","woocommerce"),value:p?-1*p:"-"})};o(8413);const sr=({currency:e,values:t,className:o,isEstimate:c=!1})=>{const n=(0,u.getSetting)("taxesEnabled",!0)&&(0,u.getSetting)("displayCartPricesIncludingTax",!1),{total_price:i,total_tax:l,tax_lines:d}=t,{receiveCart:p,...h}=we(),g=(0,nt.applyCheckoutFilter)({filterName:"totalLabel",defaultValue:c?(0,s.__)("Estimated total","woocommerce"):(0,s.__)("Total","woocommerce"),extensions:h.extensions,arg:{cart:h}}),_=(0,nt.applyCheckoutFilter)({filterName:"totalValue",defaultValue:"<price/>",extensions:h.extensions,arg:{cart:h},validation:nt.productPriceValidation}),w=(0,a.jsx)(Nt.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:parseInt(i,10)}),k=(0,m.createInterpolateElement)(_,{price:w}),b=parseInt(l,10),y=d&&d.length>0?(0,s.sprintf)(/* translators: %s is a list of tax rates */ /* translators: %s is a list of tax rates */
(0,s.__)("Including %s","woocommerce"),d.map((({name:t,price:o})=>`${(0,Et.formatPrice)(o,e)} ${t}`)).join(", ")):(0,s.__)("Including <TaxAmount/> in taxes","woocommerce"),x=ye(h.shippingRates),v=h.cartNeedsShipping;return(0,a.jsx)(Nt.TotalsItem,{className:(0,r.A)("wc-block-components-totals-footer-item",o),currency:e,label:g,value:k,description:(0,a.jsxs)(a.Fragment,{children:[n&&0!==b&&(0,a.jsx)("p",{className:"wc-block-components-totals-footer-item-tax",children:(0,m.createInterpolateElement)(y,{TaxAmount:(0,a.jsx)(Nt.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:b})})}),c&&!x&&v&&(0,a.jsx)("p",{className:"wc-block-components-totals-footer-item-shipping",children:(0,s.__)("Shipping will be calculated at checkout","woocommerce")})]})})},rr=()=>{const{shippingRates:e}=we(),t=xe(e);return t?(0,a.jsx)("div",{className:"wc-block-components-totals-shipping__via",children:(0,re.decodeEntities)(t.filter(((e,o)=>t.indexOf(e)===o)).join(", "))}):null},cr=e=>{const t=(e=>(0,u.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.total_shipping,10)+parseInt(e.total_shipping_tax,10):parseInt(e.total_shipping,10))(e);return 0===t?(0,a.jsx)("strong",{children:(0,s.__)("Free","woocommerce")}):t};o(6562);const nr=({label:e=(0,s.__)("Shipping","woocommerce"),placeholder:t=null,collaterals:o=null})=>{const{cartTotals:r,shippingRates:c}=we(),n=ye(c),i=xe(c),l=i.length>1,d=!n||l?e:i[0];return(0,a.jsx)("div",{className:"wc-block-components-totals-shipping",children:(0,a.jsx)(Nt.TotalsItem,{label:d,value:n?cr(r):t,description:(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)(rr,{}),o&&(0,a.jsx)("div",{className:"wc-block-components-totals-shipping__collaterals",children:o})]}),currency:(0,Et.getCurrencyFromPriceResponse)(r)})})},ar=()=>{const{extensions:e,receiveCart:t,...o}=we(),s={extensions:e,cart:o,context:"woocommerce/cart"};return(0,a.jsx)(nt.ExperimentalOrderMeta.Slot,{...s})},ir=JSON.parse('{"DD":"Order Summary","xY":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"uK":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"XV":3}'),lr=[{attributes:ir.uK,save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})}),supports:ir.xY,migrate:({attributes:e})=>[e,[(0,d.createBlock)("woocommerce/cart-order-summary-heading-block",{content:(0,s.__)("Cart totals","woocommerce")},[]),(0,d.createBlock)("woocommerce/cart-order-summary-coupon-form-block",{},[]),(0,d.createBlock)("woocommerce/cart-order-summary-totals-block",{},[(0,d.createBlock)("woocommerce/cart-order-summary-subtotal-block",{},[]),(0,d.createBlock)("woocommerce/cart-order-summary-fee-block",{},[]),(0,d.createBlock)("woocommerce/cart-order-summary-discount-block",{},[]),(0,d.createBlock)("woocommerce/cart-order-summary-shipping-block",{},[]),(0,d.createBlock)("woocommerce/cart-order-summary-taxes-block",{},[])])]],isEligible:(e,t)=>!t.some((e=>"woocommerce/cart-order-summary-totals-block"===e.name))}],dr=lr;(0,d.registerBlockType)("woocommerce/cart-order-summary-block",{apiVersion:ir.XV,title:ir.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)(),{cartTotals:o}=we(),r=(0,Et.getCurrencyFromPriceResponse)(o),n=ht(nt.innerBlockAreas.CART_ORDER_SUMMARY),i=[["woocommerce/cart-order-summary-heading-block",{content:(0,s.__)("Cart totals","woocommerce")},[]],["woocommerce/cart-order-summary-coupon-form-block",{},[]],["woocommerce/cart-order-summary-totals-block",{},[]]];return gt({clientId:e,registeredBlocks:n,defaultTemplate:i}),(0,a.jsxs)("div",{...t,children:[(0,a.jsx)(c.InnerBlocks,{allowedBlocks:n,template:i}),(0,a.jsx)("div",{className:"wc-block-components-totals-wrapper",children:(0,a.jsx)(sr,{currency:r,values:o,isEstimate:!0})}),(0,a.jsx)(ar,{})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})}),deprecated:dr});const mr=({className:e=""})=>{const{cartTotals:t}=we();if(!parseFloat(t.total_fees)&&!parseFloat(t.total_discount)&&!parseFloat(t.total_shipping))return null;const o=(0,Et.getCurrencyFromPriceResponse)(t);return(0,a.jsx)(Nt.TotalsWrapper,{className:e,children:(0,a.jsx)(Nt.Subtotal,{currency:o,values:t})})},ur=JSON.parse('{"DD":"Subtotal","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-subtotal-block",{apiVersion:ur.XV,title:ur.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(mr,{className:t})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})}),o(2115);const pr=JSON.parse('{"DD":"Totals","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-totals-block",{apiVersion:pr.XV,title:pr.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,c.useBlockProps)(),o=ht(nt.innerBlockAreas.CART_ORDER_SUMMARY_TOTALS),s=[["woocommerce/cart-order-summary-subtotal-block",{},[]],["woocommerce/cart-order-summary-fee-block",{},[]],["woocommerce/cart-order-summary-discount-block",{},[]],["woocommerce/cart-order-summary-shipping-block",{},[]],["woocommerce/cart-order-summary-taxes-block",{},[]]];return gt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,a.jsx)("div",{...t,children:(0,a.jsx)(c.InnerBlocks,{allowedBlocks:o,template:s})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save(),children:(0,a.jsx)(c.InnerBlocks.Content,{})})});const hr=({className:e})=>{const{cartFees:t,cartTotals:o}=we();if(!t.length)return null;const s=(0,Et.getCurrencyFromPriceResponse)(o);return(0,a.jsx)(Nt.TotalsWrapper,{className:e,children:(0,a.jsx)(Nt.TotalsFees,{currency:s,cartFees:t})})};(0,d.registerBlockType)("woocommerce/cart-order-summary-fee-block",{apiVersion:3,title:"Fees",icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(hr,{className:t})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const gr=()=>{const{extensions:e,receiveCart:t,...o}=we(),s={extensions:e,cart:o,context:"woocommerce/cart"};return(0,a.jsx)(nt.ExperimentalDiscountsMeta.Slot,{...s})},_r=({className:e})=>{const{cartTotals:t,cartCoupons:o}=we(),{removeCoupon:s,isRemovingCoupon:r}=Cs("wc/cart");if(!o.length)return(0,a.jsx)(gr,{});const c=(0,Et.getCurrencyFromPriceResponse)(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Nt.TotalsWrapper,{className:e,children:(0,a.jsx)(or,{cartCoupons:o,currency:c,isRemovingCoupon:r,removeCoupon:s,values:t})}),(0,a.jsx)(gr,{})]})},wr=JSON.parse('{"DD":"Discount","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-discount-block",{apiVersion:wr.XV,title:wr.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(_r,{className:t})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const kr=({className:e})=>{const{cartNeedsShipping:t,shippingRates:o}=we();return t&&ye(o)?(0,a.jsx)(nt.TotalsWrapper,{className:e,children:(0,a.jsx)(nr,{label:(0,s.__)("Shipping","woocommerce"),placeholder:(0,a.jsx)("span",{className:"wc-block-components-shipping-placeholder__value",children:(0,s.__)("Calculated at checkout","woocommerce")})})}):null},br=JSON.parse('{"DD":"Shipping","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-shipping-block",{apiVersion:br.XV,title:br.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsxs)("div",{...o,children:[(0,a.jsx)(c.InspectorControls,{children:!!y&&(0,a.jsxs)(uo.PanelBody,{title:(0,s.__)("Shipping Calculations","woocommerce"),children:[(0,a.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,s.__)("Options that control shipping can be managed in your store settings.","woocommerce")}),(0,a.jsx)(uo.ExternalLink,{href:`${u.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=options`,children:(0,s.__)("Manage shipping options","woocommerce")})," "]})}),(0,a.jsx)(St,{children:(0,a.jsx)(kr,{className:t})})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});var yr=o(1686);const xr=JSON.parse('{"DD":"Coupon Form","XV":3}'),vr=({className:e})=>{const t=(0,u.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:s}=Cs("wc/cart");return t?(0,a.jsx)(Nt.TotalsWrapper,{className:e,children:(0,a.jsx)(er,{onSubmit:o,isLoading:s,instanceId:"coupon"})}):null};(0,d.registerBlockType)("woocommerce/cart-order-summary-coupon-form-block",{apiVersion:xr.XV,title:xr.DD,icon:{src:(0,a.jsx)(l.A,{icon:yr.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,c.useBlockProps)();return(0,a.jsx)("div",{...o,children:(0,a.jsx)(St,{children:(0,a.jsx)(vr,{className:t})})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})});const fr=({className:e,showRateAfterTaxName:t})=>{const{cartTotals:o}=we();if((0,u.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const s=(0,Et.getCurrencyFromPriceResponse)(o);return(0,a.jsx)(Nt.TotalsWrapper,{className:e,children:(0,a.jsx)(Nt.TotalsTaxes,{showRateAfterTaxName:t,currency:s,values:o})})},Sr={showRateAfterTaxName:{type:"boolean",default:(0,u.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}},jr=JSON.parse('{"DD":"Taxes","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-taxes-block",{apiVersion:jr.XV,title:jr.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},attributes:Sr,edit:({attributes:e,setAttributes:t})=>{const{className:o,showRateAfterTaxName:r}=e,n=(0,c.useBlockProps)(),i=(0,u.getSetting)("taxesEnabled"),l=(0,u.getSetting)("displayItemizedTaxes",!1),d=(0,u.getSetting)("displayCartPricesIncludingTax",!1);return(0,a.jsxs)("div",{...n,children:[(0,a.jsx)(c.InspectorControls,{children:i&&l&&!d&&(0,a.jsx)(uo.PanelBody,{title:(0,s.__)("Taxes","woocommerce"),children:(0,a.jsx)(uo.ToggleControl,{label:(0,s.__)("Show rate after tax name","woocommerce"),help:(0,s.__)("Show the percentage rate alongside each tax line in the summary.","woocommerce"),checked:r,onChange:()=>t({showRateAfterTaxName:!r})})})}),(0,a.jsx)(fr,{className:o,showRateAfterTaxName:r})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})}),o(3580);const Cr=JSON.parse('{"DD":"Heading","XV":3}');(0,d.registerBlockType)("woocommerce/cart-order-summary-heading-block",{apiVersion:Cr.XV,title:Cr.DD,icon:{src:(0,a.jsx)(l.A,{icon:Zs,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{content:o="",className:s=""}=e,n=(0,c.useBlockProps)();return(0,a.jsx)("div",{...n,children:(0,a.jsx)("h2",{className:(0,r.A)(s,"wc-block-cart__totals-title"),children:(0,a.jsx)(c.PlainText,{className:"",value:o,onChange:e=>t({content:e}),style:{backgroundColor:"transparent"}})})})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save()})}),o(9184);const Pr=(e,t=!0)=>{t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},Nr=({attributes:e,setAttributes:t})=>{const{hasDarkControls:o,showFormStepNumbers:r}=e;return(0,a.jsx)(c.InspectorControls,{children:(0,a.jsxs)(uo.PanelBody,{title:(0,s.__)("Style","woocommerce"),children:[(0,a.jsx)(uo.ToggleControl,{label:(0,s.__)("Show form step numbers","woocommerce"),checked:r,onChange:()=>t({showFormStepNumbers:!r})}),(0,a.jsx)(uo.ToggleControl,{label:(0,s.__)("Dark mode inputs","woocommerce"),help:(0,s.__)("Inputs styled specifically for use on dark background colors.","woocommerce"),checked:o,onChange:()=>t({hasDarkControls:!o})})]})})},Er=window.wp.editor,Ar=window.wp.coreData;function Ir({block:e}){const t="checkout"===e?_:w,o="checkout"===e?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",{saveEntityRecord:r}=(0,A.useDispatch)(Ar.store),{editPost:c,savePost:n}=(0,A.useDispatch)(Er.store),{slug:i,postPublished:l,currentPostId:d}=(0,A.useSelect)((o=>{const{getEntityRecord:s}=o(Ar.store),{isCurrentPostPublished:r,getCurrentPostId:c}=o(Er.store);return{slug:s("postType","page",t)?.slug||e,postPublished:r(),currentPostId:c()}}),[]),[u,p]=(0,m.useState)("pristine"),h=(0,m.useCallback)((()=>{p("updating"),Promise.resolve().then((()=>Ue()({path:`/wc/v3/settings/advanced/${o}`,method:"GET"}))).catch((e=>{"rest_setting_setting_invalid"===e.code&&p("error")})).then((()=>{if(!l)return c({status:"publish"}),n()})).then((()=>Ue()({path:`/wc/v3/settings/advanced/${o}`,method:"POST",data:{value:d.toString()}}))).then((()=>{if(0!==t)return r("postType","page",{id:t,slug:`${i}-2`})})).then((()=>c({slug:i}))).then((()=>n())).then((()=>p("updated")))}),[l,c,n,o,d,t,r,i]);let g;return g="checkout"===e?(0,m.createInterpolateElement)((0,s.__)("If you would like to use this block as your default checkout, <a>update your page settings</a>.","woocommerce"),{a:(0,a.jsx)("a",{href:"#",onClick:h,children:(0,s.__)("update your page settings","woocommerce")})}):(0,m.createInterpolateElement)((0,s.__)("If you would like to use this block as your default cart, <a>update your page settings</a>.","woocommerce"),{a:(0,a.jsx)("a",{href:"#",onClick:h,children:(0,s.__)("update your page settings","woocommerce")})}),"string"==typeof pagenow&&"site-editor"===pagenow||d===t||"dismissed"===u?null:(0,a.jsx)(uo.Notice,{className:"wc-default-page-notice",status:"updated"===u?"success":"info",onRemove:()=>p("dismissed"),spokenMessage:"updated"===u?(0,s.__)("Page settings updated","woocommerce"):g,children:"updated"===u?(0,s.__)("Page settings updated","woocommerce"):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{children:g})})})}o(3650);var Rr=o(2174);const Br=[],Tr=e=>{const[t,o,s]=(()=>{const e={};(0,u.getSetting)("incompatibleExtensions")&&(0,u.getSetting)("incompatibleExtensions").forEach((t=>{e[t.id]=t.title}));const t=Object.keys(e),o=t.length;return[e,t,o]})(),[r,c,n]=(()=>{const{incompatiblePaymentMethods:e}=(0,A.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e(D.paymentStore);return{incompatiblePaymentMethods:t()}}),[]),t=Object.keys(e);return[e,t,t.length]})(),a={...t,...r},i=[...o,...c],l=s+n,[d,p]=((e,t)=>{const[o,s]=(0,m.useState)((()=>{const o=window.localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t}));return(0,m.useEffect)((()=>{try{window.localStorage.setItem(e,JSON.stringify(o))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}}),[e,o]),[o,s]})("wc-blocks_dismissed_incompatible_extensions_notices",Br),[h,g]=(0,m.useState)(!1),_=d.some((t=>{return Object.keys(t).includes(e)&&(o=t[e],s=i,o.length===s.length&&new Set([...o,...s]).size===o.length);var o,s})),w=0===l||_;return(0,m.useEffect)((()=>{g(!w),w||_||p((t=>t.reduce(((t,o)=>(Object.keys(o).includes(e)||t.push(o),t)),[])))}),[w,_,p,e]),[h,()=>{const t=new Set(d);t.add({[e]:i}),p([...t])},(k=a,Object.fromEntries(Object.entries(k).sort((([,e],[,t])=>e.localeCompare(t))))),l];var k};var Dr=o(1244),Mr=o.n(Dr);Mr()("wc-admin:tracks:stats");const Or=Mr()("wc-admin:tracks");function Lr(e,t){if(Or("recordevent %s %o","wcadmin_"+e,t,{_tqk:window._tkq,shouldRecord:!!window._tkq&&!!window.wcTracks&&!!window.wcTracks.isEnabled}),!window.wcTracks||"function"!=typeof window.wcTracks.recordEvent)return!1;window.wcTracks.recordEvent(e,t)}const Fr=({blocks:e,findCondition:t})=>{for(const o of e){if(t(o))return o;if(o.innerBlocks){const e=Fr({blocks:o.innerBlocks,findCondition:t});if(e)return e}}},Vr=({blockType:e="woocommerce/cart"})=>"woocommerce/cart"===e?(0,a.jsx)("p",{children:(0,s.__)("If you continue, the cart block will be replaced with the classic experience powered by shortcodes. This means that you may lose customizations that you made to the cart block.","woocommerce")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,s.__)("If you continue, the checkout block will be replaced with the classic experience powered by shortcodes. This means that you may lose:","woocommerce")}),(0,a.jsxs)("ul",{className:"cross-list",children:[(0,a.jsx)("li",{children:(0,s.__)("Customizations and updates to the block","woocommerce")}),(0,a.jsx)("li",{children:(0,s.__)("Additional local pickup options created for the new checkout","woocommerce")})]})]});function Hr({block:e,clientId:t,type:o}){const{createInfoNotice:r}=(0,A.useDispatch)(Te.store),{replaceBlock:n,selectBlock:i}=(0,A.useDispatch)(c.store),[l,u]=(0,m.useState)(!1),p=()=>u(!1),{undo:h}=(0,A.useDispatch)(Ar.store),[,,g,_]=Tr(e),w="woocommerce/cart"===e,k=w?(0,s.__)("Switch to classic cart","woocommerce"):(0,s.__)("Switch to classic checkout","woocommerce"),b=w?(0,s.__)("Switched to classic cart.","woocommerce"):(0,s.__)("Switched to classic checkout.","woocommerce"),y=w?"cart":"checkout",x={shortcode:y,notice:"incompatible"===o?"incompatible_notice":"generic_notice",incompatible_extensions_count:_,incompatible_extensions_names:JSON.stringify(g)},{getBlocks:v}=(0,A.useSelect)((e=>({getBlocks:e(c.store).getBlocks})),[]),f=()=>{h(),Lr("switch_to_classic_shortcode_undo",x)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(uo.Button,{variant:"secondary",onClick:()=>{Lr("switch_to_classic_shortcode_click",x),u(!0)},children:k}),l&&(0,a.jsxs)(uo.Modal,{size:"medium",title:k,onRequestClose:p,className:"wc-blocks-switch-to-classic-shortcode-modal-content",children:[(0,a.jsx)(Vr,{blockType:e}),(0,a.jsxs)(uo.TabbableContainer,{className:"wc-blocks-switch-to-classic-shortcode-modal-actions",children:[(0,a.jsx)(uo.Button,{variant:"primary",isDestructive:!0,onClick:()=>{n(t,(0,d.createBlock)("woocommerce/classic-shortcode",{shortcode:y})),Lr("switch_to_classic_shortcode_confirm",x),(()=>{const e=Fr({blocks:v(),findCondition:e=>"woocommerce/classic-shortcode"===e.name});e&&i(e.clientId)})(),r(b,{actions:[{label:(0,s.__)("Undo","woocommerce"),onClick:f}],type:"snackbar"}),p()},children:(0,s.__)("Switch","woocommerce")})," ",(0,a.jsx)(uo.Button,{variant:"secondary",onClick:()=>{Lr("switch_to_classic_shortcode_cancel",x),p()},children:(0,s.__)("Cancel","woocommerce")})]})]})]})}function zr({block:e,clientId:t}){const[o,r,c,n]=Tr(e);if(!o)return null;const i=(0,a.jsx)(a.Fragment,{children:n>1?(0,m.createInterpolateElement)((0,s.__)("Some active extensions do not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),{a:(0,a.jsx)(uo.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})}):(0,m.createInterpolateElement)((0,s.sprintf)(
// translators: %s is the name of the extension.
// translators: %s is the name of the extension.
(0,s.__)("<strong>%s</strong> does not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),Object.values(c)[0]),{strong:(0,a.jsx)("strong",{}),a:(0,a.jsx)(uo.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})})}),d=Object.entries(c),u=d.length-2;return(0,a.jsx)(uo.Notice,{className:"wc-blocks-incompatible-extensions-notice",status:"warning",onRemove:r,spokenMessage:i,children:(0,a.jsxs)("div",{className:"wc-blocks-incompatible-extensions-notice__content",children:[(0,a.jsx)(l.A,{className:"wc-blocks-incompatible-extensions-notice__warning-icon",icon:(0,a.jsx)(ns,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:i}),n>1&&(0,a.jsx)("ul",{children:d.slice(0,2).map((([e,t])=>(0,a.jsx)("li",{className:"wc-blocks-incompatible-extensions-notice__element",children:t},e)))}),d.length>2&&(0,a.jsxs)("details",{children:[(0,a.jsxs)("summary",{children:[(0,a.jsx)("span",{children:(0,s.sprintf)(
// translators: %s is the number of incompatible extensions.
// translators: %s is the number of incompatible extensions.
(0,s._n)("%s more incompatibility","%s more incompatibilities",u,"woocommerce"),u)}),(0,a.jsx)(l.A,{icon:Rr.A})]}),(0,a.jsx)("ul",{children:d.slice(2).map((([e,t])=>(0,a.jsx)("li",{className:"wc-blocks-incompatible-extensions-notice__element",children:t},e)))})]}),(0,a.jsx)(Hr,{block:e,clientId:t,type:"incompatible"})]})]})})}o(4490),o(6342);var Ur=o(3791);o(4268);const $r=({text:e,title:t=(0,s.__)("Feedback?","woocommerce"),url:o})=>{const[r,c]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{c(!0)}),[]),(0,a.jsx)(a.Fragment,{children:r&&(0,a.jsxs)("div",{className:"wc-block-feedback-prompt",children:[(0,a.jsx)(l.A,{icon:Ur.A}),(0,a.jsx)("h2",{className:"wc-block-feedback-prompt__title",children:t}),(0,a.jsx)("p",{className:"wc-block-feedback-prompt__text",children:e}),(0,a.jsxs)("a",{href:o,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank",children:[(0,s.__)("Give us your feedback.","woocommerce"),(0,a.jsx)(l.A,{icon:rs.A,size:16})]})]})})},Wr=()=>(0,a.jsx)($r,{text:(0,s.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woocommerce"),url:"https://github.com/woocommerce/woocommerce/discussions/new?category=checkout-flow&labels=type%3A+product%20feedback"}),qr=(0,lt.createHigherOrderComponent)((e=>t=>{const{clientId:o,name:s,isSelected:r}=t,{isCart:n,isCheckout:i,parentId:l}=(0,A.useSelect)((e=>{const{getBlockParentsByBlockName:t,getBlockName:s}=e(c.store),r=t(o,["woocommerce/cart","woocommerce/checkout"]).reduce(((e,t)=>(e[s(t)]=t,e)),{}),n=s(o),a=Object.keys(r).includes("woocommerce/cart"),i=Object.keys(r).includes("woocommerce/checkout"),l="woocommerce/cart"===n||a,d=l?"woocommerce/cart":"woocommerce/checkout";return{isCart:l,isCheckout:"woocommerce/checkout"===n||i,parentId:n===d?o:r[d]}}));return s.startsWith("woocommerce/")&&r&&(n||i)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.InspectorControls,{children:[(0,a.jsx)(zr,{block:n?"woocommerce/cart":"woocommerce/checkout",clientId:l}),(0,a.jsx)(Ir,{block:i?"checkout":"cart"}),(0,a.jsx)(Wr,{})]}),(0,a.jsx)(e,{...t},"edit")]}):(0,a.jsx)(e,{...t},"edit")}),"withSidebarNotices");(0,Se.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||(0,Se.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",qr,11);const Yr=(0,a.jsxs)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,a.jsx)("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"})]}),Xr=(e,t,o=!0)=>{const{updateBlockAttributes:s,selectBlock:r}=(0,A.dispatch)("core/block-editor");s(e,{currentView:t}),o&&r((0,A.select)("core/block-editor").getBlock(e)?.innerBlocks.find((e=>e.name===t))?.clientId||e)},Gr={views:[],currentView:"",viewClientId:""},Jr=(e,t=10,o=0)=>{const s=o+1;if(s>t)return Gr;const{getBlockAttributes:r,getBlockRootClientId:c}=(0,A.select)("core/block-editor"),n=c(e);if(null===n||""===n)return Gr;const a=r(n);return a?void 0!==a.editorViews?{views:a.editorViews,currentView:a.currentView||a.editorViews[0].view,viewClientId:n}:Jr(n,t,s):Gr},Qr=({currentView:e,views:t,clientId:o})=>{const{getBlockName:r,getSelectedBlockClientId:n,getBlockParentsByBlockName:i}=(0,A.useSelect)((e=>{const t=e("core/block-editor");return{getBlockName:t.getBlockName,getSelectedBlockClientId:t.getSelectedBlockClientId,getBlockParentsByBlockName:t.getBlockParentsByBlockName}}),[]),d=n(),u=((e,t)=>t.find((t=>t.view===e)))(e,t)||t[0],p=u.label;return(0,m.useLayoutEffect)((()=>{const s=d?r(d):null;if(!s||e===s)return;const c=t.map((e=>e.view));if(c.includes(s))return void Xr(o,s);const n=i(d,c),a=1===n.length?r(n[0]):null;a&&e!==a&&Xr(o,a,!1)}),[o,e,r,i,d,t]),(0,a.jsx)(c.BlockControls,{children:(0,a.jsx)(uo.ToolbarGroup,{children:(0,a.jsx)(uo.ToolbarDropdownMenu,{label:(0,s.__)("Switch view","woocommerce"),text:p,icon:(0,a.jsx)(l.A,{icon:Yr,style:{marginRight:"8px"}}),controls:t.map((t=>({...t,title:(0,a.jsx)("span",{style:{marginLeft:"8px"},children:t.label}),isActive:t.view===e,onClick:()=>{Xr(o,t.view)}})))})})})};(0,Se.hasFilter)("editor.BlockEdit","woocommerce/with-view-switcher")||(0,Se.addFilter)("editor.BlockEdit","woocommerce/with-view-switcher",(e=>t=>{const{clientId:o}=t,{views:s,currentView:r,viewClientId:c}=(0,A.useSelect)((e=>{const t=e("core/block-editor").getBlockAttributes(o);return t?.editorViews?{views:t.editorViews,currentView:t.currentView,viewClientId:o}:Jr(o)}));return 0===s.length?(0,a.jsx)(e,{...t}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Qr,{currentView:r,views:s,clientId:c}),(0,a.jsx)(e,{...t})]})}),11),(0,Se.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||(0,A.subscribe)((()=>{const e=(0,A.select)(c.store);if(!e)return;const t=e.getSelectedBlock();t&&(Pr("wc-lock-selected-block--remove",!!t?.attributes?.lock?.remove),Pr("wc-lock-selected-block--move",!!t?.attributes?.lock?.move))}));const Kr=["woocommerce/filled-cart-block","woocommerce/empty-cart-block"];o(7826);const Zr={isPreview:{type:"boolean",default:!1},currentView:{type:"string",default:"woocommerce/filled-cart-block",source:"readonly"},editorViews:{type:"object",default:[{view:"woocommerce/filled-cart-block",label:(0,s.__)("Filled Cart","woocommerce"),icon:(0,a.jsx)(l.A,{icon:it})},{view:"woocommerce/empty-cart-block",label:(0,s.__)("Empty Cart","woocommerce"),icon:(0,a.jsx)(l.A,{icon:qs})}]},hasDarkControls:{type:"boolean",default:(0,u.getSetting)("hasDarkEditorStyleSupport",!1)},checkoutPageId:{type:"number",default:0},showRateAfterTaxName:{type:"boolean",default:!0},align:{type:"string",default:"wide"}},ec={title:(0,s.__)("Cart","woocommerce"),apiVersion:3,icon:{src:(0,a.jsx)(l.A,{icon:i,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,s.__)("WooCommerce","woocommerce")],description:(0,s.__)("Shopping cart.","woocommerce"),supports:{align:["wide"],html:!1,multiple:!1},example:{attributes:{isPreview:!0},viewportWidth:800},attributes:Zr,edit:({clientId:e,className:t,attributes:o,setAttributes:n})=>{const{hasDarkControls:i,currentView:l,isPreview:u=!1}=o,p=((e={})=>{const t=(0,m.useRef)(),o=(0,c.useBlockProps)({ref:t,...e});return(({ref:e})=>{const t=(0,Se.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),o=e.current;(0,m.useEffect)((()=>{if(o&&!t)return o.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{o.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:o}=e;if(!(o instanceof HTMLElement))return;if(t!==Ct.BACKSPACE&&t!==Ct.DELETE)return;if((0,xt.isTextField)(o))return;const s=o;if(void 0===s.dataset.block)return;const r=(e=>{if(!e)return!1;const{getBlock:t}=(0,A.select)(c.store),o=t(e);if("boolean"==typeof o?.attributes?.lock?.remove)return o.attributes.lock.remove;const s=(0,d.getBlockType)(o.name);return"boolean"==typeof s?.attributes?.lock?.default?.remove&&s?.attributes?.lock?.default?.remove})(s.dataset.block);r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}}),[o,t])})({ref:t}),o})({className:(0,r.A)(t,"wp-block-woocommerce-cart",{"is-editor-preview":u})}),h=(0,m.useRef)((0,at.getQueryArg)(window.location.href,"focus"));return(0,m.useEffect)((()=>{"cart"!==h.current||(0,A.select)("core/block-editor").hasSelectedBlock()||((0,A.dispatch)("core/block-editor").selectBlock(e),(0,A.dispatch)("core/interface").enableComplementaryArea("core/edit-site","edit-site/block-inspector"))}),[e]),(0,a.jsxs)("div",{...p,children:[(0,a.jsx)(c.InspectorControls,{children:(0,a.jsx)(Nr,{attributes:o,setAttributes:n})}),(0,a.jsx)(E,{header:(0,s.__)("Cart Block Error","woocommerce"),text:(0,s.__)("There was an error whilst rendering the cart block. If this problem continues, try re-creating the block.","woocommerce"),showErrorMessage:!0,errorMessagePrefix:(0,s.__)("Error message:","woocommerce"),children:(0,a.jsx)(B,{previewData:{previewCart:ct},currentView:l,isPreview:!!u,children:(0,a.jsx)(_t.Provider,{value:{hasDarkControls:i},children:(0,a.jsx)(nt.SlotFillProvider,{children:(0,a.jsx)(Ge,{children:(0,a.jsx)(c.InnerBlocks,{allowedBlocks:Kr,template:[["woocommerce/filled-cart-block",{},[]],["woocommerce/empty-cart-block",{},[]]],templateLock:"insert"})})})})})})]})},save:()=>(0,a.jsx)("div",{...c.useBlockProps.save({className:"is-loading"}),children:(0,a.jsx)(c.InnerBlocks.Content,{})}),transforms:{to:[{type:"block",blocks:["woocommerce/classic-shortcode"],transform:e=>(0,d.createBlock)("woocommerce/classic-shortcode",{shortcode:"cart",align:e.align},[])}]},deprecated:[{attributes:Zr,save:({attributes:e})=>(0,a.jsx)("div",{className:(0,r.A)("is-loading",e.className),children:(0,a.jsx)(c.InnerBlocks.Content,{})}),migrate:(e,t)=>{const{checkoutPageId:o,align:s}=e;return[e,[(0,d.createBlock)("woocommerce/filled-cart-block",{align:s},[(0,d.createBlock)("woocommerce/cart-items-block"),(0,d.createBlock)("woocommerce/cart-totals-block",{},[(0,d.createBlock)("woocommerce/cart-order-summary-block",{}),(0,d.createBlock)("woocommerce/cart-express-payment-block"),(0,d.createBlock)("woocommerce/proceed-to-checkout-block",{checkoutPageId:o}),(0,d.createBlock)("woocommerce/cart-accepted-payment-methods-block")])]),(0,d.createBlock)("woocommerce/empty-cart-block",{align:s},t)]]},isEligible:(e,t)=>!t.find((e=>"woocommerce/filled-cart-block"===e.name))}]};(0,d.registerBlockType)("woocommerce/cart",ec)},7316:()=>{},1189:()=>{},7545:()=>{},4313:()=>{},7578:()=>{},5893:()=>{},6882:()=>{},359:()=>{},6983:()=>{},9287:()=>{},7605:()=>{},3692:()=>{},8879:()=>{},9581:()=>{},619:()=>{},8413:()=>{},6562:()=>{},9961:()=>{},959:()=>{},8501:()=>{},9959:()=>{},9163:()=>{},2831:()=>{},9184:()=>{},535:()=>{},7128:()=>{},7467:()=>{},3580:()=>{},2115:()=>{},5675:()=>{},9685:()=>{},398:()=>{},2766:()=>{},7826:()=>{},3650:()=>{},4459:()=>{},4268:()=>{},6342:()=>{},4490:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},195:e=>{"use strict";e.exports=window.wp.a11y},9491:e=>{"use strict";e.exports=window.wp.compose},4040:e=>{"use strict";e.exports=window.wp.deprecated},8107:e=>{"use strict";e.exports=window.wp.dom},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},8558:e=>{"use strict";e.exports=window.wp.keycodes},5573:e=>{"use strict";e.exports=window.wp.primitives}},r={};function c(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return s[e].call(o.exports,o,o.exports,c),o.exports}c.m=s,e=[],c.O=(t,o,s,r)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,s,r]=e[d],a=!0,i=0;i<o.length;i++)(!1&r||n>=r)&&Object.keys(c.O).every((e=>c.O[e](o[i])))?o.splice(i--,1):(a=!1,r<n&&(n=r));if(a){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);c.r(r);var n={};t=t||[null,o({}),o([]),o(o)];for(var a=2&s&&e;"object"==typeof a&&!~t.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,c.d(r,n),r},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.j=7949,(()=>{var e={7949:0};c.O.j=t=>0===e[t];var t=(t,o)=>{var s,r,[n,a,i]=o,l=0;if(n.some((t=>0!==e[t]))){for(s in a)c.o(a,s)&&(c.m[s]=a[s]);if(i)var d=i(c)}for(t&&t(o);l<n.length;l++)r=n[l],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return c.O(d)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=c.O(void 0,[94],(()=>c(1895)));n=c.O(n),((this.wc=this.wc||{}).blocks=this.wc.blocks||{}).cart=n})();
=======
(()=>{var e,t,o,r={88:(e,t,o)=>{"use strict";o.r(t);var r=o(1609),c=o(7723),n=o(851);const s=window.wp.blockEditor;var a=o(5573);const l=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.createElement)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}));var i=o(7104);const m=window.wp.blocks;var u=o(2294),d=o(6087);const p=window.wc.wcSettings;var h,g,_,w,k,b,E,y,v,f;const S=(0,p.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),C=S.pluginUrl+"assets/images/",N=(S.pluginUrl,null===(h=p.STORE_PAGES.shop)||void 0===h?void 0:h.permalink),P=null===(g=p.STORE_PAGES.checkout)||void 0===g?void 0:g.id,A=(null===(_=p.STORE_PAGES.checkout)||void 0===_||_.permalink,null===(w=p.STORE_PAGES.privacy)||void 0===w||w.permalink,null===(k=p.STORE_PAGES.privacy)||void 0===k||k.title,null===(b=p.STORE_PAGES.terms)||void 0===b||b.permalink,null===(E=p.STORE_PAGES.terms)||void 0===E||E.title,null===(y=p.STORE_PAGES.cart)||void 0===y?void 0:y.id),x=null===(v=p.STORE_PAGES.cart)||void 0===v?void 0:v.permalink,I=(null!==(f=p.STORE_PAGES.myaccount)&&void 0!==f&&f.permalink?p.STORE_PAGES.myaccount.permalink:(0,p.getSetting)("wpLoginUrl","/wp-login.php"),(0,p.getSetting)("localPickupEnabled",!1)),R=(0,p.getSetting)("shippingMethodsExist",!1),B=(0,p.getSetting)("shippingEnabled",!0),T=(0,p.getSetting)("countries",{}),M=(0,p.getSetting)("countryData",{}),O=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowBilling)).map((e=>[e,T[e]||""]))),D=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowBilling)).map((e=>[e,M[e].states||{}]))),L=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowShipping)).map((e=>[e,T[e]||""]))),F=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowShipping)).map((e=>[e,M[e].states||{}]))),j=Object.fromEntries(Object.keys(M).map((e=>[e,M[e].locale||{}]))),V={address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]},$=(0,p.getSetting)("addressFieldsLocations",V).address,z=((0,p.getSetting)("addressFieldsLocations",V).contact,(0,p.getSetting)("addressFieldsLocations",V).order,(0,p.getSetting)("additionalOrderFields",{}),(0,p.getSetting)("additionalContactFields",{}),(0,p.getSetting)("additionalAddressFields",{}),({imageUrl:e=`${C}/block-error.svg`,header:t=(0,c.__)("Oops!","woocommerce"),text:o=(0,c.__)("There was an error loading the content.","woocommerce"),errorMessage:n,errorMessagePrefix:s=(0,c.__)("Error:","woocommerce"),button:a,showErrorBlock:l=!0})=>l?(0,r.createElement)("div",{className:"wc-block-error wc-block-components-error"},e&&(0,r.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:e,alt:""}),(0,r.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},t&&(0,r.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},t),o&&(0,r.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},o),n&&(0,r.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},s?s+" ":"",n),a&&(0,r.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},a))):null);o(9407);class q extends d.Component{constructor(...e){super(...e),(0,u.A)(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,e.status),":Â ",e.statusText),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:o=!0,showErrorBlock:c=!0,text:n,errorMessagePrefix:s,renderError:a,button:l}=this.props,{errorMessage:i,hasError:m}=this.state;return m?"function"==typeof a?a({errorMessage:i}):(0,r.createElement)(z,{showErrorBlock:c,errorMessage:o?i:null,header:e,imageUrl:t,text:n,errorMessagePrefix:s,button:l}):this.props.children}}const H=q,U=window.wp.data,W=(0,d.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),Y=()=>(0,d.useContext)(W),G=({children:e,currentPostId:t=0,previewData:o={},currentView:c="",isPreview:n=!1})=>{const s=(0,U.useSelect)((e=>t||e("core/editor").getCurrentPostId()),[t]),a=(0,d.useCallback)(((e,t={})=>o&&e in o?o[e]:t),[o]),l={isEditor:!0,currentPostId:s,currentView:c,previewData:o,getPreviewData:a,isPreview:n};return(0,r.createElement)(W.Provider,{value:l},e)},Q=window.wp.plugins,K=window.wc.wcBlocksData;var Z=o(4040),J=o.n(Z);let X=function(e){return e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback",e}({});const ee={},te=(e=ee,{type:t,eventType:o,id:r,callback:c,priority:n})=>{const s=e.hasOwnProperty(o)?new Map(e[o]):new Map;switch(t){case X.ADD_EVENT_CALLBACK:return s.set(r,{priority:n,callback:c}),{...e,[o]:s};case X.REMOVE_EVENT_CALLBACK:return s.delete(r),{...e,[o]:s}}},oe=(e,t)=>(o,r=10)=>{const c=((e,t,o=10)=>({id:Math.floor(Math.random()*Date.now()).toString(),type:X.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:o}))(e,o,r);return t(c),()=>{var o;t((o=e,{id:c.id,type:X.REMOVE_EVENT_CALLBACK,eventType:o}))}},re=(0,d.createContext)({onPaymentProcessing:()=>()=>()=>{},onPaymentSetup:()=>()=>()=>{}}),ce=({children:e})=>{const{isProcessing:t,isIdle:o,isCalculating:c,hasError:n}=(0,U.useSelect)((e=>{const t=e(K.checkoutStore);return{isProcessing:t.isProcessing(),isIdle:t.isIdle(),hasError:t.hasError(),isCalculating:t.isCalculating()}})),{isPaymentReady:s}=(0,U.useSelect)((e=>{const t=e(K.paymentStore);return{isPaymentProcessing:t.isPaymentProcessing(),isPaymentReady:t.isPaymentReady()}})),{setValidationErrors:a}=(0,U.useDispatch)(K.validationStore),[l,i]=(0,d.useReducer)(te,{}),{onPaymentSetup:m}=(e=>(0,d.useMemo)((()=>({onPaymentSetup:oe("payment_setup",e)})),[e]))(i),u=(0,d.useRef)(l);(0,d.useEffect)((()=>{u.current=l}),[l]);const{__internalSetPaymentProcessing:p,__internalSetPaymentIdle:h,__internalEmitPaymentProcessingEvent:g}=(0,U.useDispatch)(K.paymentStore);(0,d.useEffect)((()=>{!t||n||c||(p(),g(u.current,a))}),[t,n,c,p,g,a]),(0,d.useEffect)((()=>{o&&!s&&h()}),[o,s,h]),(0,d.useEffect)((()=>{n&&s&&h()}),[n,s,h]);const _={onPaymentProcessing:(0,d.useMemo)((()=>function(...e){return J()("onPaymentProcessing",{alternative:"onPaymentSetup",plugin:"WooCommerce Blocks"}),m(...e)}),[m]),onPaymentSetup:m};return(0,r.createElement)(re.Provider,{value:_},e)},ne={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},se={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},ae={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:e=>e,shippingErrorTypes:ne,onShippingRateSuccess:()=>()=>{},onShippingRateFail:()=>()=>{},onShippingRateSelectSuccess:()=>()=>{},onShippingRateSelectFail:()=>()=>{}},le=(e,{type:t})=>Object.values(ne).includes(t)?t:e,ie="shipping_rates_success",me="shipping_rates_fail",ue="shipping_rate_select_success",de="shipping_rate_select_fail",pe=e=>({onSuccess:oe(ie,e),onFail:oe(me,e),onSelectSuccess:oe(ue,e),onSelectFail:oe(de,e)}),he=window.wc.wcTypes;let ge=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e.ORDER_INFORMATION="wc/checkout/order-information",e}({});const _e=async(e,t,o)=>{const r=((e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[])(e,t),c=[];for(const e of r)try{const t=await Promise.resolve(e.callback(o));"object"==typeof t&&c.push(t)}catch(e){console.error(e)}return!c.length||c};var we=o(458),ke=o.n(we);const be=window.wp.htmlEntities,Ee=Object.entries(j).reduce(((e,[t,o])=>(e[t]=Object.entries(o).reduce(((e,[t,o])=>(e[t]=(e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,c.sprintf)(/* translators: %s Field label. */ /* translators: %s Field label. */
(0,c.__)("%s (optional)","woocommerce"),e.label)),e.index&&((0,he.isNumber)(e.index)&&(t.index=e.index),(0,he.isString)(e.index)&&(t.index=parseInt(e.index,10))),e.hidden&&(t.required=!1),t})(o),e)),{}),e)),{}),ye=(e,t,o="")=>{const r=o&&void 0!==Ee[o]?Ee[o]:{};return e.map((e=>({key:e,...t[e]||{},...r[e]||{}}))).sort(((e,t)=>e.index-t.index))},ve=window.wp.url,fe=(e,t)=>e in t,Se=e=>{const t=ye($,p.defaultFields,e.country),o=Object.assign({},e);return t.forEach((({key:t,hidden:r})=>{r&&fe(t,e)&&(o[t]="")})),o},Ce=window.CustomEvent||null,Ne=(e,t,o=!1,r=!1)=>{if("function"!=typeof jQuery)return()=>{};const c=()=>{((e,{bubbles:t=!1,cancelable:o=!1,element:r,detail:c={}})=>{if(!Ce)return;r||(r=document.body);const n=new Ce(e,{bubbles:t,cancelable:o,detail:c});r.dispatchEvent(n)})(t,{bubbles:o,cancelable:r})};return jQuery(document).on(e,c),()=>jQuery(document).off(e,c)},Pe=e=>{const t=null==e?void 0:e.detail;t&&t.preserveCartData||(0,U.dispatch)(K.cartStore).invalidateResolutionForStore()},Ae=e=>{(null!=e&&e.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&(0,U.dispatch)(K.cartStore).invalidateResolutionForStore()},xe=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},Ie={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},Re={...Ie,email:""},Be={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:K.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},Te=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(0,be.decodeEntities)(t)]))),Me={cartCoupons:K.EMPTY_CART_COUPONS,cartItems:K.EMPTY_CART_ITEMS,cartFees:K.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:K.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:K.EMPTY_CART_ITEM_ERRORS,cartTotals:Be,cartIsLoading:!0,cartErrors:K.EMPTY_CART_ERRORS,billingData:Re,billingAddress:Re,shippingAddress:Ie,shippingRates:K.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:K.EMPTY_PAYMENT_METHODS,paymentRequirements:K.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:K.EMPTY_EXTENSIONS},Oe=(e={shouldSelect:!0})=>{const{shouldSelect:t}=e,{isEditor:o,previewData:r}=Y(),c=null==r?void 0:r.previewCart,n=(0,d.useRef)(),s=(0,d.useRef)(Re),a=(0,d.useRef)(Ie);(0,d.useEffect)((()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),(null===(e=window.wcBlocksStoreCartListeners)||void 0===e?void 0:e.count)>0)return void window.wcBlocksStoreCartListeners.count++;var e;document.body.addEventListener("wc-blocks_added_to_cart",Pe),document.body.addEventListener("wc-blocks_removed_from_cart",Pe),window.addEventListener("pageshow",Ae);const t=Ne("added_to_cart","wc-blocks_added_to_cart"),o=Ne("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",Pe),document.body.removeEventListener("wc-blocks_removed_from_cart",Pe),window.removeEventListener("pageshow",Ae),t(),o()}})(),xe)),[]);const l=(0,U.useSelect)(((e,{dispatch:r})=>{if(!t)return Me;if(o)return{...Me,cartCoupons:c.coupons,cartItems:c.items,crossSellsProducts:c.cross_sells,cartFees:c.fees,cartItemsCount:c.items_count,cartItemsWeight:c.items_weight,cartNeedsPayment:c.needs_payment,cartNeedsShipping:c.needs_shipping,cartTotals:c.totals,shippingRates:c.shipping_rates,cartHasCalculatedShipping:c.has_calculated_shipping,paymentMethods:c.payment_methods,paymentRequirements:c.payment_requirements,cartIsLoading:!1,receiveCart:"function"==typeof(null==c?void 0:c.receiveCart)?c.receiveCart:()=>{},receiveCartContents:"function"==typeof(null==c?void 0:c.receiveCartContents)?c.receiveCartContents:()=>{}};const n=e(K.cartStore),l=n.getCartData(),i=n.getCartErrors(),m=n.getCartTotals(),u=!n.hasFinishedResolution("getCartData"),d=n.isCustomerDataUpdating(),{receiveCart:p,receiveCartContents:h}=r(K.cartStore),g=l.fees.length>0?l.fees.map((e=>Te(e))):K.EMPTY_CART_FEES,_=l.coupons.length>0?l.coupons.map((e=>({...e,label:e.code}))):K.EMPTY_CART_COUPONS,w=Se(Te(l.billingAddress)),k=l.needsShipping?Se(Te(l.shippingAddress)):w;return ke()(w,s.current)||(s.current=w),ke()(k,a.current)||(a.current=k),{cartCoupons:_,cartItems:l.items,crossSellsProducts:l.crossSells,cartFees:g,cartItemsCount:l.itemsCount,cartItemsWeight:l.itemsWeight,cartNeedsPayment:l.needsPayment,cartNeedsShipping:l.needsShipping,cartItemErrors:l.errors,cartTotals:m,cartIsLoading:u,cartErrors:i,billingData:s.current,billingAddress:s.current,shippingAddress:a.current,extensions:l.extensions,shippingRates:l.shippingRates,isLoadingRates:d,cartHasCalculatedShipping:l.hasCalculatedShipping,paymentRequirements:l.paymentRequirements,receiveCart:p,receiveCartContents:h}}),[t,o]);return n.current&&ke()(n.current,l)||(n.current=l),n.current},De=e=>e.length,Le=(0,p.getSetting)("collectableMethodIds",[]),Fe=e=>Le.includes(e.method_id),je=e=>!!I&&(Array.isArray(e)?!!e.find((e=>Le.includes(e))):Le.includes(e)),Ve=e=>e.some((e=>!!e.shipping_rates.length)),$e=e=>!!Ve(e)&&e.every((e=>e.shipping_rates.every((e=>Fe(e)))));var ze=o(923),qe=o.n(ze);const He={currency_code:p.SITE_CURRENCY.code,currency_symbol:p.SITE_CURRENCY.symbol,currency_minor_unit:p.SITE_CURRENCY.minorUnit,currency_decimal_separator:p.SITE_CURRENCY.decimalSeparator,currency_thousand_separator:p.SITE_CURRENCY.thousandSeparator,currency_prefix:p.SITE_CURRENCY.prefix,currency_suffix:p.SITE_CURRENCY.suffix},Ue=(e,t=2)=>{const o=p.SITE_CURRENCY.minorUnit;if(o===t||!e)return e;const r=Math.pow(10,o);return(Math.round(parseInt(e,10)/Math.pow(10,t))*r).toString()},We=(0,p.getSetting)("localPickupEnabled",!1),Ye=(0,p.getSetting)("localPickupText",(0,c.__)("Local pickup","woocommerce")),Ge=(0,p.getSetting)("localPickupCost",""),Qe=We?(0,p.getSetting)("localPickupLocations",[]):[],Ke=Qe?Object.values(Qe).map(((e,t)=>({...He,name:`${Ye} (${e.name})`,description:"",delivery_time:"",price:Ue(Ge,0)||"0",taxes:"0",rate_id:`pickup_location:${t+1}`,instance_id:t+1,meta_data:[{key:"pickup_location",value:e.name},{key:"pickup_address",value:e.formatted_address},{key:"pickup_details",value:e.details}],method_id:"pickup_location",selected:!1}))):[],Ze=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,c.__)("Shipping","woocommerce"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,c._x)("Beanie with Logo","example product in Cart Block","woocommerce"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,c._x)("Beanie","example product in Cart Block","woocommerce"),quantity:1}],shipping_rates:[{...He,name:(0,c.__)("Flat rate shipping","woocommerce"),description:"",delivery_time:"",price:Ue("500"),taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{...He,name:(0,c.__)("Free shipping","woocommerce"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},...Ke]}],Je=(0,p.getSetting)("displayCartPricesIncludingTax",!1),Xe={coupons:[],shipping_rates:(0,p.getSetting)("shippingMethodsExist",!1)||(0,p.getSetting)("localPickupEnabled",!1)?Ze:[],items:[{key:"1",id:1,type:"simple",quantity:2,catalog_visibility:"visible",name:(0,c.__)("Beanie","woocommerce"),summary:(0,c.__)("Beanie","woocommerce"),short_description:(0,c.__)("Warm hat for winter","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:C+"previews/beanie.jpg",thumbnail:C+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,c.__)("Color","woocommerce"),value:(0,c.__)("Yellow","woocommerce")},{attribute:(0,c.__)("Size","woocommerce"),value:(0,c.__)("Small","woocommerce")}],prices:{...He,price:Ue(Je?"12000":"10000"),regular_price:Ue(Je?"120":"100"),sale_price:Ue(Je?"12000":"10000"),price_range:null,raw_prices:{precision:6,price:Je?"12000000":"10000000",regular_price:Je?"12000000":"10000000",sale_price:Je?"12000000":"10000000"}},totals:{...He,line_subtotal:Ue("2000"),line_subtotal_tax:Ue("400"),line_total:Ue("2000"),line_total_tax:Ue("400")},extensions:{},item_data:[]},{key:"2",id:2,type:"simple",quantity:1,catalog_visibility:"visible",name:(0,c.__)("Cap","woocommerce"),summary:(0,c.__)("Cap","woocommerce"),short_description:(0,c.__)("Lightweight baseball cap","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:C+"previews/cap.jpg",thumbnail:C+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,c.__)("Color","woocommerce"),value:(0,c.__)("Orange","woocommerce")}],prices:{...He,price:Ue(Je?"2400":"2000"),regular_price:Ue(Je?"2400":"2000"),sale_price:Ue(Je?"2400":"2000"),price_range:null,raw_prices:{precision:6,price:Je?"24000000":"20000000",regular_price:Je?"24000000":"20000000",sale_price:Je?"24000000":"20000000"}},totals:{...He,line_subtotal:Ue("2000"),line_subtotal_tax:Ue("400"),line_total:Ue("2000"),line_total_tax:Ue("400")},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,c.__)("Polo","woocommerce"),slug:"polo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,c.__)("Polo","woocommerce"),description:(0,c.__)("Polo","woocommerce"),on_sale:!1,prices:{...He,price:Ue(Je?"24000":"20000"),regular_price:Ue(Je?"24000":"20000"),sale_price:Ue(Je?"12000":"10000"),price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:C+"previews/polo.jpg",thumbnail:C+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,c.__)("Long Sleeve Tee","woocommerce"),slug:"long-sleeve-tee",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,c.__)("Long Sleeve Tee","woocommerce"),description:(0,c.__)("Long Sleeve Tee","woocommerce"),on_sale:!1,prices:{...He,price:Ue(Je?"30000":"25000"),regular_price:Ue(Je?"30000":"25000"),sale_price:Ue(Je?"30000":"25000"),price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:C+"previews/long-sleeve-tee.jpg",thumbnail:C+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,c.__)("Hoodie with Zipper","woocommerce"),slug:"hoodie-with-zipper",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,c.__)("Hoodie with Zipper","woocommerce"),description:(0,c.__)("Hoodie with Zipper","woocommerce"),on_sale:!0,prices:{...He,price:Ue(Je?"15000":"12500"),regular_price:Ue(Je?"30000":"25000"),sale_price:Ue(Je?"15000":"12500"),price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:C+"previews/hoodie-with-zipper.jpg",thumbnail:C+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,c.__)("Hoodie with Logo","woocommerce"),slug:"hoodie-with-logo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,c.__)("Polo","woocommerce"),description:(0,c.__)("Polo","woocommerce"),on_sale:!1,prices:{...He,price:Ue(Je?"4500":"4250"),regular_price:Ue(Je?"4500":"4250"),sale_price:Ue(Je?"4500":"4250"),price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:C+"previews/hoodie-with-logo.jpg",thumbnail:C+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,c.__)("Hoodie with Pocket","woocommerce"),slug:"hoodie-with-pocket",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,c.__)("Hoodie with Pocket","woocommerce"),description:(0,c.__)("Hoodie with Pocket","woocommerce"),on_sale:!0,prices:{...He,price:Ue(Je?"3500":"3250"),regular_price:Ue(Je?"4500":"4250"),sale_price:Ue(Je?"3500":"3250"),price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:C+"previews/hoodie-with-pocket.jpg",thumbnail:C+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,c.__)("T-Shirt","woocommerce"),slug:"t-shirt",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,c.__)("T-Shirt","woocommerce"),description:(0,c.__)("T-Shirt","woocommerce"),on_sale:!1,prices:{...He,price:Ue(Je?"1800":"1500"),regular_price:Ue(Je?"1800":"1500"),sale_price:Ue(Je?"1800":"1500"),price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:C+"previews/tshirt.jpg",thumbnail:C+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,c.__)("Fee","woocommerce"),totals:{...He,total:Ue("100"),total_tax:Ue("20")}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:B,has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{...He,total_items:Ue("4000"),total_items_tax:Ue("800"),total_fees:Ue("100"),total_fees_tax:Ue("20"),total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:Ue("820"),total_price:Ue("4920"),tax_lines:[{name:(0,c.__)("Sales tax","woocommerce"),rate:"20%",price:Ue("820")}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},et=window.wp.hooks,tt=()=>({dispatchStoreEvent:(0,d.useCallback)(((e,t={})=>{try{(0,et.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,d.useCallback)(((e,t={})=>{try{(0,et.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,U.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])}),ot=()=>{const{isEditor:e}=Y(),{shippingRates:t,needsShipping:o,hasCalculatedShipping:r,isLoadingRates:c,isCollectable:n,isSelectingRate:s}=(0,U.useSelect)((t=>{const o=t(K.cartStore),r=e?Xe.shipping_rates:o.getShippingRates();return{shippingRates:r,needsShipping:e?Xe.needs_shipping:o.getNeedsShipping(),hasCalculatedShipping:e?Xe.has_calculated_shipping:o.getHasCalculatedShipping(),isLoadingRates:!e&&o.isCustomerDataUpdating(),isCollectable:r.every((({shipping_rates:e})=>e.find((({method_id:e})=>je(e))))),isSelectingRate:!e&&o.isShippingRateBeingSelected()}}),[e]),a=(0,d.useRef)({});(0,d.useEffect)((()=>{const e=(e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>{var o;return[e,(null===(o=t.find((e=>e.selected)))||void 0===o?void 0:o.rate_id)||""]}))))(t);(0,he.isObject)(e)&&!qe()(a.current,e)&&(a.current=e)}),[t]);const{selectShippingRate:l}=(0,U.useDispatch)(K.cartStore),i=je(Object.values(a.current).map((e=>e.split(":")[0]))),{dispatchCheckoutEvent:m}=tt(),u=(0,d.useCallback)(((e,t)=>{let o;void 0!==e&&(o=je(e.split(":")[0])?l(e,null):l(e,t),o.then((()=>{m("set-selected-shipping-rate",{shippingRateId:e})})).catch((e=>{(0,K.processErrorResponse)(e)})))}),[l,m]);return{isSelectingRate:s,selectedRates:a.current,selectShippingRate:u,shippingRates:t,needsShipping:o,hasCalculatedShipping:r,isLoadingRates:c,isCollectable:n,hasSelectedLocalPickup:i}},{NONE:rt,INVALID_ADDRESS:ct,UNKNOWN:nt}=ne,st=(0,d.createContext)(ae),at=()=>(0,d.useContext)(st),lt=({children:e})=>{const{__internalIncrementCalculating:t,__internalDecrementCalculating:o}=(0,U.useDispatch)(K.checkoutStore),{shippingRates:c,isLoadingRates:n,cartErrors:s}=Oe(),{selectedRates:a,isSelectingRate:l}=ot(),[i,m]=(0,d.useReducer)(le,rt),[u,p]=(0,d.useReducer)(te,{}),h=(0,d.useRef)(u),g=(0,d.useMemo)((()=>({onShippingRateSuccess:pe(p).onSuccess,onShippingRateFail:pe(p).onFail,onShippingRateSelectSuccess:pe(p).onSelectSuccess,onShippingRateSelectFail:pe(p).onSelectFail})),[p]);(0,d.useEffect)((()=>{h.current=u}),[u]),(0,d.useEffect)((()=>{n?t():o()}),[n,t,o]),(0,d.useEffect)((()=>{l?t():o()}),[t,o,l]),(0,d.useEffect)((()=>{s.length>0&&s.some((e=>!(!e.code||!Object.values(se).includes(e.code))))?m({type:ct}):m({type:rt})}),[s]);const _=(0,d.useMemo)((()=>({isPristine:i===rt,isValid:i===rt,hasInvalidAddress:i===ct,hasError:i===nt||i===ct})),[i]);(0,d.useEffect)((()=>{n||0!==c.length&&!_.hasError||_e(h.current,me,{hasInvalidAddress:_.hasInvalidAddress,hasError:_.hasError})}),[c,n,_.hasError,_.hasInvalidAddress]),(0,d.useEffect)((()=>{!n&&c.length>0&&!_.hasError&&_e(h.current,ie,c)}),[c,n,_.hasError]),(0,d.useEffect)((()=>{l||(_.hasError?_e(h.current,de,{hasError:_.hasError,hasInvalidAddress:_.hasInvalidAddress}):_e(h.current,ue,a.current))}),[a,l,_.hasError,_.hasInvalidAddress]);const w={shippingErrorStatus:_,dispatchErrorStatus:m,shippingErrorTypes:ne,...g};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(st.Provider,{value:w},e))};function it(e,t){const o=(0,d.useRef)();return(0,d.useEffect)((()=>{o.current===e||t&&!t(e,o.current)||(o.current=e)}),[e,t]),o.current}const mt=window.wp.notices,ut=window.wc.blocksCheckoutEvents,dt={},pt={},ht=()=>dt,gt=()=>pt,_t=(0,d.createContext)({onSubmit:()=>{},onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},onCheckoutSuccess:()=>()=>{},onCheckoutFail:()=>()=>{},onCheckoutValidation:()=>()=>{}}),wt=({children:e,redirectUrl:t})=>{const o=ht(),c=gt(),{isEditor:n}=Y(),{__internalUpdateAvailablePaymentMethods:s}=(0,U.useDispatch)(K.paymentStore);(0,d.useEffect)((()=>{(n||0!==Object.keys(o).length||0!==Object.keys(c).length)&&s()}),[n,o,c,s]);const{__internalSetRedirectUrl:a,__internalEmitValidateEvent:l,__internalEmitAfterProcessingEvents:i,__internalSetBeforeProcessing:m}=(0,U.useDispatch)(K.checkoutStore),{checkoutRedirectUrl:u,checkoutStatus:p,isCheckoutBeforeProcessing:h,isCheckoutAfterProcessing:g,checkoutHasError:_,checkoutOrderId:w,checkoutOrderNotes:k,checkoutCustomerId:b}=(0,U.useSelect)((e=>{const t=e(K.checkoutStore);return{checkoutRedirectUrl:t.getRedirectUrl(),checkoutStatus:t.getCheckoutStatus(),isCheckoutBeforeProcessing:t.isBeforeProcessing(),isCheckoutAfterProcessing:t.isAfterProcessing(),checkoutHasError:t.hasError(),checkoutOrderId:t.getOrderId(),checkoutOrderNotes:t.getOrderNotes(),checkoutCustomerId:t.getCustomerId()}}));t&&t!==u&&a(t);const{setValidationErrors:E}=(0,U.useDispatch)(K.validationStore),{dispatchCheckoutEvent:y}=tt(),v=Object.values(ge).filter((e=>e!==ge.PAYMENTS&&e!==ge.EXPRESS_PAYMENTS)),f=(0,U.useSelect)((e=>{const{getNotices:t}=e(mt.store);return v.reduce(((e,o)=>[...e,...t(o)]),[])}),[v]),{paymentNotices:S,expressPaymentNotices:C}=(0,U.useSelect)((e=>{const{getNotices:t}=e(mt.store);return{paymentNotices:t(ge.PAYMENTS),expressPaymentNotices:t(ge.EXPRESS_PAYMENTS)}}),[]),[N]=(0,d.useReducer)(te,{}),P=(0,d.useRef)(N),{onCheckoutValidation:A,onCheckoutSuccess:x,onCheckoutFail:I}=ut.checkoutEvents;(0,d.useEffect)((()=>{P.current=N}),[N]);const R=(0,d.useMemo)((()=>function(...e){return J()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks"}),A(...e)}),[A]),B=(0,d.useMemo)((()=>function(...e){return J()("onCheckoutValidationBeforeProcessing",{since:"9.7.0",alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),A(...e)}),[A]),T=(0,d.useMemo)((()=>function(...e){return J()("onCheckoutAfterProcessingWithSuccess",{since:"9.7.0",alternative:"onCheckoutSuccess",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),x(...e)}),[x]),M=(0,d.useMemo)((()=>function(...e){return J()("onCheckoutAfterProcessingWithError",{since:"9.7.0",alternative:"onCheckoutFail",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),I(...e)}),[I]);(0,d.useEffect)((()=>{h&&l({setValidationErrors:E})}),[h,E,l]);const O=it(p),D=it(_);(0,d.useEffect)((()=>{p===O&&_===D||g&&i({notices:{checkoutNotices:f,paymentNotices:S,expressPaymentNotices:C}})}),[p,_,u,w,b,k,g,h,O,D,f,C,S,l,i]);const L={onSubmit:(0,d.useCallback)((()=>{y("submit"),m()}),[y,m]),onCheckoutBeforeProcessing:R,onCheckoutValidationBeforeProcessing:B,onCheckoutAfterProcessingWithSuccess:T,onCheckoutAfterProcessingWithError:M,onCheckoutSuccess:x,onCheckoutFail:I,onCheckoutValidation:A};return(0,r.createElement)(_t.Provider,{value:L},e)},kt=window.wp.apiFetch;var bt=o.n(kt);(0,c.__)("Something went wrong. Please contact us to get assistance.","woocommerce");const Et=window.wc.wcBlocksRegistry,yt=(e,t,o)=>{const r=Object.keys(e).map((t=>({key:t,value:e[t]})),[]),c=`wc-${o}-new-payment-method`;return r.push({key:c,value:t}),r},vt=e=>{if(!e)return;const{__internalSetCustomerId:t}=(0,U.dispatch)(K.checkoutStore);bt().setNonce&&"function"==typeof bt().setNonce&&bt().setNonce(e),bt().setCartHash&&"function"==typeof bt().setCartHash&&bt().setCartHash(e),null!=e&&e.get("User-ID")&&t(parseInt(e.get("User-ID")||"0",10))},ft=()=>{const{onCheckoutValidation:e}=ut.checkoutEvents,{additionalFields:t,customerId:o,customerPassword:r,extensionData:n,hasError:s,isBeforeProcessing:a,isComplete:l,isProcessing:i,orderNotes:m,redirectUrl:u,shouldCreateAccount:p}=(0,U.useSelect)((e=>{const t=e(K.checkoutStore);return{additionalFields:t.getAdditionalFields(),customerId:t.getCustomerId(),customerPassword:t.getCustomerPassword(),extensionData:t.getExtensionData(),hasError:t.hasError(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),isProcessing:t.isProcessing(),orderNotes:t.getOrderNotes(),redirectUrl:t.getRedirectUrl(),shouldCreateAccount:t.getShouldCreateAccount()}})),{__internalSetHasError:h,__internalProcessCheckoutResponse:g}=(0,U.useDispatch)(K.checkoutStore),_=(0,U.useSelect)((e=>e(K.validationStore).hasValidationErrors)),{shippingErrorStatus:w}=at(),{billingAddress:k,shippingAddress:b}=(0,U.useSelect)((e=>e(K.cartStore).getCustomerData())),{cartNeedsPayment:E,cartNeedsShipping:y,receiveCartContents:v}=Oe(),{activePaymentMethod:f,paymentMethodData:S,isExpressPaymentMethodActive:C,hasPaymentError:N,isPaymentReady:P,shouldSavePayment:A}=(0,U.useSelect)((e=>{const t=e(K.paymentStore);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),hasPaymentError:t.hasPaymentError(),isPaymentReady:t.isPaymentReady(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),x=(0,Et.getPaymentMethods)(),I=(0,Et.getExpressPaymentMethods)(),R=(0,d.useRef)(k),B=(0,d.useRef)(b),T=(0,d.useRef)(u),[M,O]=(0,d.useState)(!1),D=(0,d.useMemo)((()=>{var e;const t={...I,...x};return null==t||null===(e=t[f])||void 0===e?void 0:e.paymentMethodId}),[f,I,x]),L=_()&&!C||N||w.hasError,F=!s&&!L&&(P||!E)&&i;(0,d.useEffect)((()=>{L===s||!i&&!a||C||h(L)}),[L,s,i,a,C,h]),(0,d.useEffect)((()=>{R.current=k,B.current=b,T.current=u}),[k,b,u]);const j=(0,d.useCallback)((()=>_()?void 0!==(0,U.select)(K.validationStore).getValidationError("shipping-rates-error")&&{errorMessage:(0,c.__)("Sorry, this order requires a shipping option.","woocommerce")}:N?{errorMessage:(0,c.__)("There was a problem with your payment option.","woocommerce"),context:"wc/checkout/payments"}:!w.hasError||{errorMessage:(0,c.__)("There was a problem with your shipping option.","woocommerce"),context:"wc/checkout/shipping-methods"}),[_,N,w.hasError]);(0,d.useEffect)((()=>{let t;return C||(t=e(j,0)),()=>{C||"function"!=typeof t||t()}}),[e,j,C]),(0,d.useEffect)((()=>{window.localStorage.removeItem("WOOCOMMERCE_CHECKOUT_IS_CUSTOMER_DATA_DIRTY"),T.current&&(window.location.href=T.current)}),[l]);const V=(0,d.useCallback)((async()=>{if(M)return;O(!0),(()=>{const e=(0,U.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,U.dispatch)(mt.store),{getNotices:o}=(0,U.select)(mt.store);e.forEach((e=>{o(e).forEach((o=>{t(o.id,e)}))}))})();const e=E?{payment_method:D,payment_data:yt(S,A,f)}:{},s={additional_fields:t,billing_address:Se(R.current),create_account:p,customer_note:m,customer_password:r,extensions:{...n},shipping_address:y?Se(B.current):void 0,...e};(0,K.clearCheckoutPutRequests)(),bt()({path:"/wc/store/v1/checkout",method:"POST",data:s,cache:"no-store",parse:!1}).then((e=>{if((0,he.assertResponseIsValid)(e),vt(e.headers),!e.ok)throw e;return e.json()})).then((e=>{g(e),O(!1)})).catch((e=>{vt(null==e?void 0:e.headers);try{e.json().then((e=>e)).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.cart&&v(e.data.cart),(0,K.processErrorResponse)(e),g(e)}))}catch{let e=(0,c.__)("Something went wrong when placing the order. Check your email for order updates before retrying.","woocommerce");0!==o&&(e=(0,c.__)("Something went wrong when placing the order. Check your account's order history or your email for order updates before retrying.","woocommerce")),(0,K.processErrorResponse)({code:"unknown_error",message:e,data:null})}h(!0),O(!1)}))}),[M,E,D,S,A,f,m,p,o,r,n,t,y,v,h,g]);return(0,d.useEffect)((()=>{F&&!M&&V()}),[V,F,M]),null},St=({children:e,redirectUrl:t})=>(0,r.createElement)(wt,{redirectUrl:t},(0,r.createElement)(lt,null,(0,r.createElement)(ce,null,e,(0,r.createElement)(H,{renderError:p.CURRENT_USER_IS_ADMIN?null:()=>null},(0,r.createElement)(Q.PluginArea,{scope:"woocommerce-checkout"})),(0,r.createElement)(ft,null)))),Ct=({children:e,redirectUrl:t})=>(0,r.createElement)(St,{redirectUrl:t},e),Nt=window.wc.blocksCheckout,Pt=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("g",{fill:"none",fillRule:"evenodd"},(0,r.createElement)("path",{d:"M0 0h24v24H0z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"nonzero",d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45ZM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2Zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2Z"}))," ");var At=o(9491);const xt=(0,d.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),It=({children:e,className:t=""})=>{const[o,c]=(()=>{const[e,{width:t}]=(0,At.useResizeObserver)();let o="";return t>700?o="is-large":t>520?o="is-medium":t>400?o="is-small":t&&(o="is-mobile"),[e,o]})(),s={hasContainerWidth:""!==c,containerClassName:c,isMobile:"is-mobile"===c,isSmall:"is-small"===c,isMedium:"is-medium"===c,isLarge:"is-large"===c};return(0,r.createElement)(xt.Provider,{value:s},(0,r.createElement)("div",{className:(0,n.A)(t,c)},o,e))};o(1221);const Rt=({children:e,className:t})=>(0,r.createElement)(It,{className:(0,n.A)("wc-block-components-sidebar-layout",t)},e),Bt=["core/paragraph","core/image","core/separator"],Tt=e=>{const t=(0,Nt.applyCheckoutFilter)({filterName:"additionalCartCheckoutInnerBlockTypes",defaultValue:[],extensions:(0,U.select)(K.cartStore).getCartData().extensions,arg:{block:e},validation:e=>{if(Array.isArray(e)&&e.every((e=>"string"==typeof e)))return!0;throw new Error("allowedBlockTypes filters must return an array of strings.")}});return Array.from(new Set([...(0,m.getBlockTypes)().filter((t=>((null==t?void 0:t.parent)||[]).includes(e))).map((({name:e})=>e)),...Bt,...t]))},Mt=({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const r=(0,d.useRef)(t),c=(0,d.useRef)(o),n=(0,U.useRegistry)(),{isPreview:s}=Y();(0,d.useEffect)((()=>{let t=!1;if(s)return;const{replaceInnerBlocks:o}=(0,U.dispatch)("core/block-editor");return n.subscribe((()=>{if(!n.select("core/block-editor").getBlock(e))return;const s=n.select("core/block-editor").getBlocks(e);if(0===s.length&&c.current.length>0&&!t){const r=(0,m.createBlocksFromInnerBlocksTemplate)(c.current);if(0!==r.length)return t=!0,void o(e,r)}const a=r.current.map((e=>(0,m.getBlockType)(e))),l=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>{var t,o;return Boolean((null===(t=e.lock)||void 0===t?void 0:t.remove)||(null===(o=e.lock)||void 0===o||null===(o=o.default)||void 0===o?void 0:o.remove))})(e))),r=[];return o.forEach((t=>{if(void 0===t)return;const o=e.find((e=>e.name===t.name));o||r.push(t)})),r})(s,a);if(0===l.length)return;let i=-1;const u=l.map((e=>{const t=c.current.findIndex((([t])=>t===e.name)),o=(0,m.createBlock)(e.name);return-1===i&&(i=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const r=o.current[e-1],c=t.findIndex((({name:e})=>e===r[0]));return-1===c?e:c+1}})({defaultTemplatePosition:t,innerBlocks:s,currentDefaultTemplate:c})),o}));n.batch((()=>{n.dispatch("core/block-editor").insertBlocks(u,i,e)}))}),"core/block-editor")}),[e,s,n])};o(1876);const Ot=(0,d.createContext)({hasDarkControls:!1});(0,m.registerBlockType)("woocommerce/filled-cart-block",{icon:{src:(0,r.createElement)(i.A,{icon:Pt,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)(),{currentView:o}=Y(),{hasDarkControls:c}=(0,d.useContext)(Ot),a=Tt(Nt.innerBlockAreas.FILLED_CART),l=[["woocommerce/cart-items-block",{},[]],["woocommerce/cart-totals-block",{},[]]];return Mt({clientId:e,registeredBlocks:a,defaultTemplate:l}),(0,r.createElement)("div",{...t,hidden:"woocommerce/filled-cart-block"!==o},(0,r.createElement)(Rt,{className:(0,n.A)("wc-block-cart",{"has-dark-controls":c})},(0,r.createElement)(s.InnerBlocks,{allowedBlocks:a,template:l,templateLock:"insert"})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});var Dt=o(2172);const Lt=(0,d.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:(0,n.A)("wc-block-components-main",t)},e)));(0,m.registerBlockType)("woocommerce/cart-items-block",{icon:{src:(0,r.createElement)(i.A,{icon:Dt.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)({className:"wc-block-cart__main"}),o=Tt(Nt.innerBlockAreas.CART_ITEMS),c=[["woocommerce/cart-line-items-block",{},[]],["woocommerce/cart-cross-sells-block",{},[]]];return Mt({clientId:e,registeredBlocks:o,defaultTemplate:c}),(0,r.createElement)(Lt,{...t},(0,r.createElement)(s.InnerBlocks,{allowedBlocks:o,template:c,templateLock:!1,renderAppender:s.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});var Ft=o(8107),jt=o(4717);const Vt=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"],$t=({children:e,style:t={},...o})=>{const c=(0,d.useRef)(null),n=()=>{c.current&&Ft.focus.focusable.find(c.current).forEach((e=>{Vt.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")}))},s=(0,jt.YQ)(n,0,{leading:!0});return(0,d.useLayoutEffect)((()=>{let e;return n(),c.current&&(e=new window.MutationObserver(s),e.observe(c.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),s.cancel()}}),[s]),(0,r.createElement)("div",{ref:c,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...t},...o},e)};var zt=o(195),qt=o(8558);o(5193);const Ht=({className:e,quantity:t=1,minimum:o=1,maximum:s,onChange:a=()=>{},step:l=1,itemName:i="",disabled:m,editable:u})=>{const p=(0,n.A)("wc-block-components-quantity-selector",e),h=(0,d.useRef)(null),g=(0,d.useRef)(null),_=(0,d.useRef)(null),w=void 0!==s,k=!m&&t-l>=o,b=!m&&(!w||t+l<=s),E=(0,d.useCallback)((e=>{let t=e;w&&(t=Math.min(t,Math.floor(s/l)*l)),t=Math.max(t,Math.ceil(o/l)*l),t=Math.floor(t/l)*l,t!==e&&a(t)}),[w,s,o,a,l]),y=(0,jt.YQ)(E,300);(0,d.useLayoutEffect)((()=>{E(t)}),[t,E]);const v=(0,d.useCallback)((e=>{const o=void 0!==typeof e.key?"ArrowDown"===e.key:e.keyCode===qt.DOWN,r=void 0!==typeof e.key?"ArrowUp"===e.key:e.keyCode===qt.UP;o&&k&&(e.preventDefault(),a(t-l)),r&&b&&(e.preventDefault(),a(t+l))}),[t,a,b,k,l]);return(0,r.createElement)("div",{className:p},(0,r.createElement)("input",{ref:h,className:"wc-block-components-quantity-selector__input",disabled:m,readOnly:!u,type:"number",step:l,min:o,max:s,value:t,onKeyDown:v,onChange:e=>{let o=parseInt(e.target.value,10);o=isNaN(o)?t:o,o!==t&&(a(o),y(o))},"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,c.__)("Quantity of %s in your cart.","woocommerce"),i)}),u&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("button",{ref:g,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,c.__)("Reduce quantity of %s","woocommerce"),i),className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--minus",disabled:!k,onClick:()=>{const e=t-l;a(e),(0,zt.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity reduced to %s.","woocommerce"),e)),E(e)}},"ï¼"),(0,r.createElement)("button",{ref:_,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,c.__)("Increase quantity of %s","woocommerce"),i),disabled:!b,className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--plus",onClick:()=>{const e=t+l;a(e),(0,zt.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity increased to %s.","woocommerce"),e)),E(e)}},"ï¼")))},Ut=window.wc.blocksComponents,Wt=window.wc.priceFormat;o(4567);const Yt=({currency:e,maxPrice:t,minPrice:o,priceClassName:s,priceStyle:a={}})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.sprintf)(/* translators: %1$s min price, %2$s max price */ /* translators: %1$s min price, %2$s max price */
(0,c.__)("Price between %1$s and %2$s","woocommerce"),(0,Wt.formatPrice)(o),(0,Wt.formatPrice)(t))),(0,r.createElement)("span",{"aria-hidden":!0},(0,r.createElement)(Ut.FormattedMonetaryAmount,{className:(0,n.A)("wc-block-components-product-price__value",s),currency:e,value:o,style:a}),"Â âÂ ",(0,r.createElement)(Ut.FormattedMonetaryAmount,{className:(0,n.A)("wc-block-components-product-price__value",s),currency:e,value:t,style:a}))),Gt=({currency:e,regularPriceClassName:t,regularPriceStyle:o,regularPrice:s,priceClassName:a,priceStyle:l,price:i})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Previous price:","woocommerce")),(0,r.createElement)(Ut.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,r.createElement)("del",{className:(0,n.A)("wc-block-components-product-price__regular",t),style:o},e),value:s}),(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Discounted price:","woocommerce")),(0,r.createElement)(Ut.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,r.createElement)("ins",{className:(0,n.A)("wc-block-components-product-price__value","is-discounted",a),style:l},e),value:i})),Qt=({align:e,className:t,currency:o,format:c="<price/>",maxPrice:s,minPrice:a,price:l,priceClassName:i,priceStyle:m,regularPrice:u,regularPriceClassName:p,regularPriceStyle:h,style:g})=>{const _=(0,n.A)(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});c.includes("<price/>")||(c="<price/>",console.error("Price formats need to include the `<price/>` tag."));const w=u&&l&&l<u;let k=(0,r.createElement)("span",{className:(0,n.A)("wc-block-components-product-price__value",i)});return w?k=(0,r.createElement)(Gt,{currency:o,price:l,priceClassName:i,priceStyle:m,regularPrice:u,regularPriceClassName:p,regularPriceStyle:h}):void 0!==a&&void 0!==s?k=(0,r.createElement)(Yt,{currency:o,maxPrice:s,minPrice:a,priceClassName:i,priceStyle:m}):l&&(k=(0,r.createElement)(Ut.FormattedMonetaryAmount,{className:(0,n.A)("wc-block-components-product-price__value",i),currency:o,value:l,style:m})),(0,r.createElement)("span",{className:_,style:g},(0,d.createInterpolateElement)(c,{price:k}))};o(6625);const Kt=({className:e="",disabled:t=!1,name:o,permalink:c="",target:s,rel:a,style:l,onClick:i,disabledTagName:m="span",...u})=>{const d=(0,n.A)("wc-block-components-product-name",e),p=m;if(t){const e=u;return(0,r.createElement)(p,{className:d,...e,dangerouslySetInnerHTML:{__html:o}})}return(0,r.createElement)("a",{className:d,href:c,target:s,...u,dangerouslySetInnerHTML:{__html:o},style:l})};var Zt=o(131);o(9507);const Jt=({children:e,className:t})=>(0,r.createElement)("div",{className:(0,n.A)("wc-block-components-product-badge",t)},e),Xt=()=>(0,r.createElement)(Jt,{className:"wc-block-components-product-backorder-badge"},(0,c.__)("Available on backorder","woocommerce")),eo=({image:e={},fallbackAlt:t=""})=>{const o=e.thumbnail?{src:e.thumbnail,alt:(0,be.decodeEntities)(e.alt)||t||"Product Image"}:{src:p.PLACEHOLDER_IMG_SRC,alt:""};return(0,r.createElement)("img",{...o,alt:o.alt})},to=({lowStockRemaining:e})=>e?(0,r.createElement)(Jt,{className:"wc-block-components-product-low-stock-badge"},(0,c.sprintf)(/* translators: %d stock amount (number of items in stock for product) */ /* translators: %d stock amount (number of items in stock for product) */
(0,c.__)("%d left in stock","woocommerce"),e)):null;var oo=o(1194);o(4982);const ro=({details:e=[]})=>{if(!Array.isArray(e))return null;if(0===(e=e.filter((e=>!e.hidden))).length)return null;let t="ul",o="li";return 1===e.length&&(t="div",o="div"),(0,r.createElement)(t,{className:"wc-block-components-product-details"},e.map((e=>{const t=(null==e?void 0:e.key)||e.name||"",c=(null==e?void 0:e.className)||(t?`wc-block-components-product-details__${(0,oo.c)(t)}`:"");return(0,r.createElement)(o,{key:t+(e.display||e.value),className:c},t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"wc-block-components-product-details__name"},(0,be.decodeEntities)(t),":")," "),(0,r.createElement)("span",{className:"wc-block-components-product-details__value"},(0,be.decodeEntities)(e.display||e.value)))})))};var co=o(7674),no=o.n(co);const so=["a","b","em","i","strong","p","br"],ao=["target","href","rel","name","download"],lo=(e,t)=>{const o=(null==t?void 0:t.tags)||so,r=(null==t?void 0:t.attr)||ao;return no().sanitize(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:r})},io=window.wp.autop,mo=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),uo=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,po=window.wp.wordcount,ho=["a","b","em","i","strong","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","pre","blockquote","img"],go=["target","href","rel","name","download","src","class","alt","style"],_o=({source:e,maxLength:t=15,countType:o="words",className:c="",style:n={}})=>{const s=(0,d.useMemo)((()=>((e,t=15,o="words")=>{const r=(0,io.autop)(e);if((0,po.count)(r,o)<=t)return r;const c=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(r);return(0,po.count)(c,o)<=t?c:"words"===o?((e,t,o="&hellip;",r=!0)=>{const c=mo(e),n=c.split(" ").splice(0,t).join(" ");return n===c?r?(0,io.autop)(c):c:r?(0,io.autop)(uo(n,o)):uo(n,o)})(c,t):((e,t,o=!0,r="&hellip;",c=!0)=>{const n=mo(e),s=n.slice(0,t);if(s===n)return c?(0,io.autop)(n):n;if(o)return(0,io.autop)(uo(s,r));const a=s.match(/([\s]+)/g),l=a?a.length:0,i=n.slice(0,t+l);return c?(0,io.autop)(uo(i,r)):uo(i,r)})(c,t,"characters_including_spaces"===o)})(e,t,o)),[e,t,o]);return(0,r.createElement)(d.RawHTML,{style:n,className:c},lo(s,{tags:ho,attr:go}))},wo=({className:e,shortDescription:t="",fullDescription:o=""})=>{const c=t||o;return c?(0,r.createElement)(_o,{className:e,source:c,maxLength:15,countType:S.wordCountType||"words"}):null};o(401);const ko=({shortDescription:e="",fullDescription:t="",itemData:o=[],variation:c=[]})=>(0,r.createElement)("div",{className:"wc-block-components-product-metadata"},(0,r.createElement)(wo,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,r.createElement)(ro,{details:o}),(0,r.createElement)(ro,{details:c.map((({attribute:e="",value:t})=>({key:e,value:t})))})),bo=({currency:e,saleAmount:t,format:o="<price/>"})=>{if(!t||t<=0)return null;o.includes("<price/>")||(o="<price/>",console.error("Price formats need to include the `<price/>` tag."));const n=(0,c.sprintf)(/* translators: %s will be replaced by the discount amount */ /* translators: %s will be replaced by the discount amount */
(0,c.__)("Save %s","woocommerce"),o);return(0,r.createElement)(Jt,{className:"wc-block-components-sale-badge"},(0,d.createInterpolateElement)(n,{price:(0,r.createElement)(Ut.FormattedMonetaryAmount,{currency:e,value:t})}))},Eo=(e,t)=>e.convertPrecision(t.minorUnit).getAmount(),yo=(0,d.forwardRef)((({lineItem:e,onRemove:t=()=>{},tabIndex:o},s)=>{const{name:a="",catalog_visibility:l="visible",short_description:i="",description:m="",low_stock_remaining:u=null,show_backorder_badge:h=!1,quantity_limits:g={minimum:1,maximum:99,multiple_of:1,editable:!0},sold_individually:_=!1,permalink:w="",images:k=[],variation:b=[],item_data:E=[],prices:y={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",price:"0",regular_price:"0",sale_price:"0",price_range:null,raw_prices:{precision:6,price:"0",regular_price:"0",sale_price:"0"}},totals:v={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",line_subtotal:"0",line_subtotal_tax:"0"},extensions:f}=e,{quantity:S,setItemQuantity:C,removeItem:N,isPendingDelete:P}=(e=>{const t={key:"",quantity:1};(e=>(0,he.isObject)(e)&&(0,he.objectHasProp)(e,"key")&&(0,he.objectHasProp)(e,"quantity")&&(0,he.isString)(e.key)&&(0,he.isNumber)(e.quantity))(e)&&(t.key=e.key,t.quantity=e.quantity);const{key:o="",quantity:r=1}=t,{cartErrors:c}=Oe(),{__internalIncrementCalculating:n,__internalDecrementCalculating:s}=(0,U.useDispatch)(K.checkoutStore),[a,l]=(0,d.useState)(r),[i]=(0,jt.d7)(a,400),m=it(i),{removeItemFromCart:u,changeCartItemQuantity:p}=(0,U.useDispatch)(K.cartStore);(0,d.useEffect)((()=>l(r)),[r]);const h=(0,U.useSelect)((e=>{if(!o)return{quantity:!1,delete:!1};const t=e(K.cartStore);return{quantity:t.isItemPendingQuantity(o),delete:t.isItemPendingDelete(o)}}),[o]),g=(0,d.useCallback)((()=>o?u(o).catch((e=>{(0,K.processErrorResponse)(e)})):Promise.resolve(!1)),[o,u]);return(0,d.useEffect)((()=>{o&&(0,he.isNumber)(m)&&Number.isFinite(m)&&m!==i&&p(o,i).catch((e=>{(0,K.processErrorResponse)(e)}))}),[o,p,i,m]),(0,d.useEffect)((()=>(h.delete?n():s(),()=>{h.delete&&s()})),[s,n,h.delete]),(0,d.useEffect)((()=>(h.quantity||i!==a?n():s(),()=>{(h.quantity||i!==a)&&s()})),[n,s,h.quantity,i,a]),{isPendingDelete:h.delete,quantity:a,setItemQuantity:l,removeItem:g,cartItemQuantityErrors:c}})(e),{dispatchStoreEvent:A}=tt(),{receiveCart:x,...I}=Oe(),R=(0,d.useMemo)((()=>({context:"cart",cartItem:e,cart:I})),[e,I]),B=(0,Wt.getCurrencyFromPriceResponse)(y),T=(0,Nt.applyCheckoutFilter)({filterName:"itemName",defaultValue:a,extensions:f,arg:R}),M=(0,Zt.A)({amount:parseInt(y.raw_prices.regular_price,10),precision:y.raw_prices.precision}),O=(0,Zt.A)({amount:parseInt(y.raw_prices.price,10),precision:y.raw_prices.precision}),D=M.subtract(O),L=D.multiply(S),F=(0,Wt.getCurrencyFromPriceResponse)(v);let j=parseInt(v.line_subtotal,10);(0,p.getSetting)("displayCartPricesIncludingTax",!1)&&(j+=parseInt(v.line_subtotal_tax,10));const V=(0,Zt.A)({amount:j,precision:F.minorUnit}),$=k.length?k[0]:{},z="hidden"===l||"search"===l,q=(0,Nt.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:f,arg:R}),H=(0,Nt.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:f,arg:R,validation:Nt.productPriceValidation}),W=(0,Nt.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:f,arg:R,validation:Nt.productPriceValidation}),Y=(0,Nt.applyCheckoutFilter)({filterName:"saleBadgePriceFormat",defaultValue:"<price/>",extensions:f,arg:R,validation:Nt.productPriceValidation}),G=(0,Nt.applyCheckoutFilter)({filterName:"showRemoveItemLink",defaultValue:!0,extensions:f,arg:R});return(0,r.createElement)("tr",{className:(0,n.A)("wc-block-cart-items__row",q,{"is-disabled":P}),ref:s,tabIndex:o},(0,r.createElement)("td",{className:"wc-block-cart-item__image","aria-hidden":!(0,he.objectHasProp)($,"alt")||!$.alt},z?(0,r.createElement)(eo,{image:$,fallbackAlt:T}):(0,r.createElement)("a",{href:w,tabIndex:-1},(0,r.createElement)(eo,{image:$,fallbackAlt:T}))),(0,r.createElement)("td",{className:"wc-block-cart-item__product"},(0,r.createElement)("div",{className:"wc-block-cart-item__wrap"},(0,r.createElement)(Kt,{disabled:P||z,name:T,permalink:w}),h?(0,r.createElement)(Xt,null):!!u&&(0,r.createElement)(to,{lowStockRemaining:u}),(0,r.createElement)("div",{className:"wc-block-cart-item__prices"},(0,r.createElement)(Qt,{currency:B,regularPrice:Eo(M,B),price:Eo(O,B),format:W})),(0,r.createElement)(bo,{currency:B,saleAmount:Eo(D,B),format:Y}),(0,r.createElement)(ko,{shortDescription:i,fullDescription:m,itemData:E,variation:b}),(0,r.createElement)("div",{className:"wc-block-cart-item__quantity"},!_&&(0,r.createElement)(Ht,{disabled:P,editable:g.editable,quantity:S,minimum:g.minimum,maximum:g.maximum,step:g.multiple_of,onChange:t=>{C(t),A("cart-set-item-quantity",{product:e,quantity:t})},itemName:T}),G&&(0,r.createElement)("button",{className:"wc-block-cart-item__remove-link","aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,c.__)("Remove %s from cart","woocommerce"),T),onClick:()=>{t(),N(),A("cart-remove-item",{product:e,quantity:S}),(0,zt.speak)((0,c.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,c.__)("%s has been removed from your cart.","woocommerce"),T))},disabled:P},(0,c.__)("Remove item","woocommerce"))))),(0,r.createElement)("td",{className:"wc-block-cart-item__total"},(0,r.createElement)("div",{className:"wc-block-cart-item__total-price-and-sale-badge-wrapper"},(0,r.createElement)(Qt,{currency:F,format:H,price:V.getAmount()}),S>1&&(0,r.createElement)(bo,{currency:B,saleAmount:Eo(L,B),format:Y}))))}));o(1045);const vo=[...Array(3)].map(((_x,e)=>(0,r.createElement)(yo,{lineItem:{},key:e}))),fo=e=>{const t={};return e.forEach((({key:e})=>{t[e]=(0,d.createRef)()})),t},So=({lineItems:e=[],isLoading:t=!1,className:o})=>{const s=(0,d.useRef)(null),a=(0,d.useRef)(fo(e));(0,d.useEffect)((()=>{a.current=fo(e)}),[e]);const l=e=>()=>{null!=a&&a.current&&e&&a.current[e].current instanceof HTMLElement?a.current[e].current.focus():s.current instanceof HTMLElement&&s.current.focus()},i=t?vo:e.map(((t,o)=>{const c=e.length>o+1?e[o+1].key:null;return(0,r.createElement)(yo,{key:t.key,lineItem:t,onRemove:l(c),ref:a.current[t.key],tabIndex:-1})}));return(0,r.createElement)("table",{className:(0,n.A)("wc-block-cart-items",o),ref:s,tabIndex:-1},(0,r.createElement)("caption",{className:"screen-reader-text"},(0,r.createElement)("h2",null,(0,c.__)("Products in cart","woocommerce"))),(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"wc-block-cart-items__header"},(0,r.createElement)("th",{className:"wc-block-cart-items__header-image"},(0,r.createElement)("span",null,(0,c.__)("Product","woocommerce"))),(0,r.createElement)("th",{className:"wc-block-cart-items__header-product"},(0,r.createElement)("span",null,(0,c.__)("Details","woocommerce"))),(0,r.createElement)("th",{className:"wc-block-cart-items__header-total"},(0,r.createElement)("span",null,(0,c.__)("Total","woocommerce"))))),(0,r.createElement)("tbody",null,i))},Co=({className:e})=>{const{cartItems:t,cartIsLoading:o}=Oe();return(0,r.createElement)(So,{className:e,lineItems:t,isLoading:o})};(0,m.registerBlockType)("woocommerce/cart-line-items-block",{icon:{src:(0,r.createElement)(i.A,{icon:Dt.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)($t,null,(0,r.createElement)(Co,{className:t})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})}),(0,m.registerBlockType)("woocommerce/cart-cross-sells-block",{icon:{src:(0,r.createElement)(i.A,{icon:Dt.A,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=(0,s.useBlockProps)({className:"wc-block-cart__cross-sells"}),t=[["core/heading",{content:(0,c.__)("You may be interested inâ¦","woocommerce"),level:2,fontSize:"large"},[]],["woocommerce/cart-cross-sells-products-block",{},[]]];return(0,r.createElement)("div",{...e},(0,r.createElement)(s.InnerBlocks,{template:t,templateLock:!1}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});const No=window.wp.components,Po=window.wc.wcBlocksSharedContext,Ao=window.wp.styleEngine;function xo(e={}){const t={};return(0,Ao.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function Io(e,t){return e&&t?`has-${(0,oo.c)(t)}-${e}`:""}const Ro=e=>{const t=(e=>{const t=(0,he.isObject)(e)?e:{style:{}};let o=t.style;return(0,he.isString)(o)&&(o=JSON.parse(o)||{}),(0,he.isObject)(o)||(o={}),{...t,style:o}})(e),o=function(e){var t,o,r,c,s,a;const{backgroundColor:l,textColor:i,gradient:m,style:u}=e,d=Io("background-color",l),p=Io("color",i),h=function(e){if(e)return`has-${e}-gradient-background`}(m),g=h||(null==u||null===(t=u.color)||void 0===t?void 0:t.gradient);return{className:(0,n.A)(p,h,{[d]:!g&&!!d,"has-text-color":i||(null==u||null===(o=u.color)||void 0===o?void 0:o.text),"has-background":l||(null==u||null===(r=u.color)||void 0===r?void 0:r.background)||m||(null==u||null===(c=u.color)||void 0===c?void 0:c.gradient),"has-link-color":(0,he.isObject)(null==u||null===(s=u.elements)||void 0===s?void 0:s.link)?null==u||null===(a=u.elements)||void 0===a||null===(a=a.link)||void 0===a?void 0:a.color:void 0}),style:xo({color:(null==u?void 0:u.color)||{}})}}(t),r=function(e){var t;const o=(null===(t=e.style)||void 0===t?void 0:t.border)||{},r=function(e){var t;const{borderColor:o,style:r}=e,c=o?Io("border-color",o):"";return(0,n.A)({"has-border-color":!!o||!(null==r||null===(t=r.border)||void 0===t||!t.color),[c]:!!c})}(e);return{className:r,style:xo({border:o})}}(t),c=function(e){var t;return{className:void 0,style:xo({spacing:(null===(t=e.style)||void 0===t?void 0:t.spacing)||{}})}}(t),s=(e=>{const t=(0,he.isObject)(e.style.typography)?e.style.typography:{},o=(0,he.isString)(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:o,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:(0,n.A)(s.className,o.className,r.className,c.className),style:{...s.style,...o.style,...r.style,...c.style}}},Bo=window.wc.wcBlocksSharedHocs;o(6007);const To=(0,Bo.withProductDataContext)((e=>{const{className:t,align:o}=e,s=Ro(e),{parentClassName:a}=(0,Po.useInnerBlockLayoutContext)(),{product:l}=(0,Po.useProductDataContext)();if(!(l.id&&l.on_sale||e.isDescendentOfSingleProductTemplate))return null;const i="string"==typeof o?`wc-block-components-product-sale-badge--align-${o}`:"";return(0,r.createElement)("div",{className:(0,n.A)("wc-block-components-product-sale-badge",t,i,{[`${a}__product-onsale`]:a},s.className),style:s.style},(0,r.createElement)(Ut.Label,{label:(0,c.__)("Sale","woocommerce"),screenReaderLabel:(0,c.__)("Product on sale","woocommerce")}))}));o(5183);let Mo=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});const Oo=e=>(0,r.createElement)("img",{...e,src:p.PLACEHOLDER_IMG_SRC,alt:e.alt,width:void 0,height:void 0}),Do=({image:e,loaded:t,showFullSize:o,fallbackAlt:c,width:n,scale:s,height:a,aspectRatio:l})=>{const{thumbnail:i,src:m,srcset:u,sizes:p,alt:h}=e||{},g={alt:h||c,hidden:!t,src:i,...o&&{src:m,srcSet:u,sizes:p}},_={height:a,width:n,objectFit:s,aspectRatio:l};return(0,r.createElement)(d.Fragment,null,g.src&&(0,r.createElement)("img",{style:_,"data-testid":"product-image",...g}),!e&&(0,r.createElement)(Oo,{style:_,alt:g.alt}))},Lo=e=>{const{className:t,imageSizing:o=Mo.SINGLE,showProductLink:s=!0,showSaleBadge:a,saleBadgeAlign:l="right",height:i,width:m,scale:u,aspectRatio:p,...h}=e,g=Ro(e),{parentClassName:_}=(0,Po.useInnerBlockLayoutContext)(),{product:w,isLoading:k}=(0,Po.useProductDataContext)(),{dispatchStoreEvent:b}=tt();if(!w.id)return(0,r.createElement)("div",{className:(0,n.A)(t,"wc-block-components-product-image",{[`${_}__product-image`]:_},g.className),style:g.style},(0,r.createElement)(Oo,null));const E=!!w.images.length,y=E?w.images[0]:null,v=s?"a":d.Fragment,f=(0,c.sprintf)(/* translators: %s is referring to the product name */ /* translators: %s is referring to the product name */
(0,c.__)("Link to %s","woocommerce"),w.name),S={href:w.permalink,...!E&&{"aria-label":f},onClick:()=>{b("product-view-link",{product:w})}};return delete h.style,(0,r.createElement)("div",{className:(0,n.A)(t,"wc-block-components-product-image",{[`${_}__product-image`]:_},g.className),style:g.style},(0,r.createElement)(v,{...s&&S},!!a&&(0,r.createElement)(To,{align:l,...h}),(0,r.createElement)(Do,{fallbackAlt:(0,be.decodeEntities)(w.name),image:y,loaded:!k,showFullSize:o!==Mo.THUMBNAIL,width:m,height:i,scale:u,aspectRatio:p})))};(0,Bo.withProductDataContext)(Lo),o(7128);const Fo=({children:e,headingLevel:t,elementType:o=`h${t}`,...c})=>(0,r.createElement)(o,{...c},e),jo=e=>{const{className:t,headingLevel:o=2,showProductLink:c=!0,linkTarget:s,align:a}=e,l=Ro(e),{parentClassName:i}=(0,Po.useInnerBlockLayoutContext)(),{product:m}=(0,Po.useProductDataContext)(),{dispatchStoreEvent:u}=tt();return m.id?(0,r.createElement)(Fo,{headingLevel:o,className:(0,n.A)(t,l.className,"wc-block-components-product-title",{[`${i}__product-title`]:i,[`wc-block-components-product-title--align-${a}`]:a}),style:l.style},(0,r.createElement)(Kt,{disabled:!c,name:m.name,permalink:m.permalink,target:s,onClick:()=>{u("product-view-link",{product:m})}})):(0,r.createElement)(Fo,{headingLevel:o,className:(0,n.A)(t,l.className,"wc-block-components-product-title",{[`${i}__product-title`]:i,[`wc-block-components-product-title--align-${a}`]:a}),style:l.style})},Vo=((0,Bo.withProductDataContext)(jo),e=>({width:e/5*100+"%"})),$o=({className:e,parentClassName:t})=>{const o=Vo(0);return(0,r.createElement)("div",{className:(0,n.A)(`${e}__norating-container`,`${t}-product-rating__norating-container`)},(0,r.createElement)("div",{className:`${e}__norating`,role:"img"},(0,r.createElement)("span",{style:o})),(0,r.createElement)("span",null,(0,c.__)("No Reviews","woocommerce")))},zo=e=>{const{className:t,rating:o,reviews:s,parentClassName:a}=e,l=Vo(o),i=(0,c.sprintf)(/* translators: %f is referring to the average rating value */ /* translators: %f is referring to the average rating value */
(0,c.__)("Rated %f out of 5","woocommerce"),o),m={__html:(0,c.sprintf)(/* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */ /* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */
(0,c._n)("Rated %1$s out of 5 based on %2$s customer rating","Rated %1$s out of 5 based on %2$s customer ratings",s,"woocommerce"),(0,c.sprintf)('<strong class="rating">%f</strong>',o),(0,c.sprintf)('<span class="rating">%d</span>',s))};return(0,r.createElement)("div",{className:(0,n.A)(`${t}__stars`,`${a}__product-rating__stars`),role:"img","aria-label":i},(0,r.createElement)("span",{style:l,dangerouslySetInnerHTML:m}))},qo=e=>{const{className:t,reviews:o}=e,n=(0,c.sprintf)(/* translators: %s is referring to the total of reviews for a product */ /* translators: %s is referring to the total of reviews for a product */
(0,c._n)("(%s customer review)","(%s customer reviews)",o,"woocommerce"),o);return(0,r.createElement)("span",{className:`${t}__reviews_count`},n)},Ho=e=>{const{className:t="wc-block-components-product-rating",showReviewCount:o,showMockedReviews:c,parentClassName:s="",rating:a,reviews:l,styleProps:i,textAlign:m}=e,u=(0,n.A)(i.className,t,{[`${s}__product-rating`]:s,[`has-text-align-${m}`]:m}),d=c&&(0,r.createElement)($o,{className:t,parentClassName:s}),p=l?(0,r.createElement)(zo,{className:t,rating:a,reviews:l,parentClassName:s}):d,h=l&&o;return(0,r.createElement)("div",{className:u,style:i.style},(0,r.createElement)("div",{className:`${t}__container`},p,h?(0,r.createElement)(qo,{className:t,reviews:l}):null))};o(7195);const Uo=e=>{const{textAlign:t="",shouldDisplayMockedReviewsWhenProductHasNoReviews:o}=e,c=Ro(e),{parentClassName:n}=(0,Po.useInnerBlockLayoutContext)(),{product:s}=(0,Po.useProductDataContext)(),a=(e=>{const t=parseFloat(e.average_rating);return Number.isFinite(t)&&t>0?t:0})(s),l=(e=>{const t=(0,he.isNumber)(e.review_count)?e.review_count:parseInt(e.review_count,10);return Number.isFinite(t)&&t>0?t:0})(s);return(0,r.createElement)(Ho,{className:"wc-block-components-product-rating-stars",showMockedReviews:o,styleProps:c,parentClassName:n,reviews:l,rating:a,textAlign:t})},Wo=((0,Bo.withProductDataContext)(Uo),e=>{var t,o;const{className:c,textAlign:s,isDescendentOfSingleProductTemplate:a}=e,l=Ro(e),{parentName:i,parentClassName:m}=(0,Po.useInnerBlockLayoutContext)(),{product:u}=(0,Po.useProductDataContext)(),d="woocommerce/all-products"===i,p=a&&!("woocommerce/add-to-cart-with-options-grouped-product-selector-item"===i),h=(0,n.A)("wc-block-components-product-price",c,l.className,{[`${m}__product-price`]:m});if(!u.id&&!a){const e=(0,r.createElement)(Qt,{align:s,className:h});return d?(0,r.createElement)("div",{className:"wp-block-woocommerce-product-price"},e):e}const g=u.prices,_=p?(0,Wt.getCurrencyFromPriceResponse)():(0,Wt.getCurrencyFromPriceResponse)(g),w="5000",k=g.price!==g.regular_price,b=(0,n.A)({[`${m}__product-price__value`]:m,[`${m}__product-price__value--on-sale`]:k}),E=(0,r.createElement)(Qt,{align:s,className:h,style:l.style,regularPriceStyle:l.style,priceStyle:l.style,priceClassName:b,currency:_,price:p?w:g.price,minPrice:null==g||null===(t=g.price_range)||void 0===t?void 0:t.min_amount,maxPrice:null==g||null===(o=g.price_range)||void 0===o?void 0:o.max_amount,regularPrice:p?w:g.regular_price,regularPriceClassName:(0,n.A)({[`${m}__product-price__regular`]:m})});return d?(0,r.createElement)("div",{className:"wp-block-woocommerce-product-price"},E):E}),Yo=(e,t)=>{const o=e.find((({id:e})=>e===t));return o?o.quantity:0};o(1546);const Go=({product:e,className:t,style:o})=>{const{id:s,permalink:a,add_to_cart:l,has_options:i,is_purchasable:m,is_in_stock:u}=e,{dispatchStoreEvent:h}=tt(),{cartQuantity:g,addingToCart:_,addToCart:w}=(e=>{const{addItemToCart:t}=(0,U.useDispatch)(K.cartStore),{cartItems:o,cartIsLoading:r}=Oe(),{createErrorNotice:c,removeNotice:n}=(0,U.useDispatch)("core/notices"),[s,a]=(0,d.useState)(!1),l=(0,d.useRef)(Yo(o,e));return(0,d.useEffect)((()=>{const t=Yo(o,e);t!==l.current&&(l.current=t)}),[o,e]),{cartQuantity:Number.isFinite(l.current)?l.current:0,addingToCart:s,cartIsLoading:r,addToCart:(o=1)=>(a(!0),t(e,o).then((()=>{n("add-to-cart")})).catch((e=>{c((0,be.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})})).finally((()=>{a(!1)})))}})(s),k=Number.isFinite(g)&&g>0,b=!i&&m&&u,E=(0,be.decodeEntities)((null==l?void 0:l.description)||""),y=k?(0,c.sprintf)(/* translators: %s number of products in cart. */ /* translators: %s number of products in cart. */
(0,c._n)("%d in cart","%d in cart",g,"woocommerce"),g):(0,be.decodeEntities)((null==l?void 0:l.text)||(0,c.__)("Add to cart","woocommerce")),v=b?"button":"a",f={};return b?f.onClick=async()=>{await w(),h("cart-add-item",{product:e});const{cartRedirectAfterAdd:t}=(0,p.getSetting)("productsSettings");t&&(window.location.href=x)}:(f.href=a,f.rel="nofollow",f.onClick=()=>{h("product-view-link",{product:e})}),(0,r.createElement)(v,{...f,"aria-label":E,disabled:_,className:(0,n.A)(t,"wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",{loading:_,added:k}),style:o},y)},Qo=({className:e,style:t,isLoading:o})=>(0,r.createElement)("button",{className:(0,n.A)("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",{"wc-block-components-product-button__button--placeholder":o},e),style:t,disabled:!0},(0,c.__)("Add to cart","woocommerce")),Ko=e=>{const{className:t,textAlign:o}=e,c=Ro(e),{parentClassName:s}=(0,Po.useInnerBlockLayoutContext)(),{isLoading:a,product:l}=(0,Po.useProductDataContext)();return(0,r.createElement)("div",{className:(0,n.A)(t,"wp-block-button","wc-block-components-product-button",{[`${s}__product-add-to-cart`]:s,[`align-${o}`]:o})},l.id?(0,r.createElement)(Go,{product:l,style:c.style,className:c.className}):(0,r.createElement)(Qo,{style:c.style,className:c.className,isLoading:a}))},Zo=((0,Bo.withProductDataContext)(Ko),({product:e})=>(0,r.createElement)("div",{className:"cross-sells-product"},(0,r.createElement)(Po.InnerBlockLayoutContextProvider,{parentName:"woocommerce/cart-cross-sells-block",parentClassName:"wp-block-cart-cross-sells-product"},(0,r.createElement)(Po.ProductDataContextProvider,{isLoading:!1,product:e},(0,r.createElement)("div",null,(0,r.createElement)(Lo,{className:"",showSaleBadge:!0,productId:e.id,showProductLink:!0,saleBadgeAlign:"left",imageSizing:Mo.SINGLE,isDescendentOfQueryLoop:!1,scale:"cover",aspectRatio:"1:1"}),(0,r.createElement)(jo,{align:"",headingLevel:3,showProductLink:!0}),(0,r.createElement)(Uo,{isDescendentOfQueryLoop:!1,isDescendentOfSingleProductBlock:!1,productId:e.id,postId:0,shouldDisplayMockedReviewsWhenProductHasNoReviews:!1}),(0,r.createElement)(Wo,null)),(0,r.createElement)(Ko,null))))),Jo=({products:e,columns:t})=>{const o=e.map(((e,o)=>o>=t?null:(0,r.createElement)(Zo,{isLoading:!1,product:e,key:e.id})));return(0,r.createElement)("div",null,o)},Xo={A:3},er=({className:e,columns:t})=>{const{crossSellsProducts:o}=Oe();return void 0===t&&(t=Xo.A),(0,r.createElement)(Jo,{className:e,columns:t,products:o})};o(9085),o(5049),(0,m.registerBlockType)("woocommerce/cart-cross-sells-products-block",{icon:{src:(0,r.createElement)(i.A,{icon:Dt.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{className:o,columns:n}=e,a=(0,s.useBlockProps)();return(0,r.createElement)("div",{...a},(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Settings","woocommerce")},(0,r.createElement)(No.RangeControl,{label:(0,c.__)("Cross-Sells products to show","woocommerce"),value:n,onChange:e=>t({columns:e}),min:(0,p.getSetting)("minColumns",1),max:(0,p.getSetting)("maxColumns",6)}))),(0,r.createElement)($t,null,(0,r.createElement)(er,{columns:n,className:o})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});const tr=(0,d.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:(0,n.A)("wc-block-components-sidebar",t)},e)));function or(e){const t=(0,d.useRef)(e);return qe()(e,t.current)||(t.current=e),t.current}o(6229),(0,m.registerBlockType)("woocommerce/cart-totals-block",{icon:{src:(0,r.createElement)(i.A,{icon:Dt.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)({className:"wc-block-cart__sidebar"}),o=Tt(Nt.innerBlockAreas.CART_TOTALS),c=[["woocommerce/cart-order-summary-block",{},[]],["woocommerce/cart-express-payment-block",{},[]],["woocommerce/proceed-to-checkout-block",{},[]],["woocommerce/cart-accepted-payment-methods-block",{},[]]];return Mt({clientId:e,registeredBlocks:o,defaultTemplate:c}),(0,r.createElement)(tr,{...t},(0,r.createElement)(s.InnerBlocks,{allowedBlocks:o,template:c,templateLock:!1,renderAppender:s.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});const rr=(e=!1)=>{const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:o,availablePaymentMethods:r,availableExpressPaymentMethods:c}=(0,U.useSelect)((e=>{const t=e(K.paymentStore);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),n=Object.values(r).map((({name:e})=>e)),s=Object.values(c).map((({name:e})=>e)),a=(0,Et.getPaymentMethods)(),l=(0,Et.getExpressPaymentMethods)(),i=Object.keys(a).reduce(((e,t)=>(n.includes(t)&&(e[t]=a[t]),e)),{}),m=Object.keys(l).reduce(((e,t)=>(s.includes(t)&&(e[t]=l[t]),e)),{}),u=or(i),d=or(m);return{paymentMethods:e?d:u,isInitialized:e?o:t}},cr=()=>rr(!0);var nr=o(4133);const sr={warning:"#F0B849",error:"#CC1818",success:"#46B450",info:"#0073AA"},ar=({status:e="warning",...t})=>(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t},(0,r.createElement)("path",{d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z",stroke:sr[e],strokeWidth:"1.5"}),(0,r.createElement)("path",{d:"M13 7H11V13H13V7Z",fill:sr[e]}),(0,r.createElement)("path",{d:"M13 15H11V17H13V15Z",fill:sr[e]}));o(9705);const lr=({href:e,title:t,description:o,warning:n})=>(0,r.createElement)("a",{href:e,className:"wc-block-editor-components-external-link-card",target:"_blank",rel:"noreferrer"},(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__content"},(0,r.createElement)("strong",{className:"wc-block-editor-components-external-link-card__title"},t),o&&(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__description",dangerouslySetInnerHTML:{__html:lo(o)}}),n?(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__warning"},(0,r.createElement)(i.A,{icon:(0,r.createElement)(ar,{status:"error"})}),(0,r.createElement)("span",null,n)):null),(0,r.createElement)(No.VisuallyHidden,{as:"span"},/* translators: accessibility text */ /* translators: accessibility text */
(0,c.__)("(opens in a new tab)","woocommerce")),(0,r.createElement)(i.A,{icon:nr.A,className:"wc-block-editor-components-external-link-card__icon"})),ir=["height","borderRadius"],mr=e=>{const t=(0,U.select)(K.paymentStore).getAvailableExpressPaymentMethods();return Object.values(t).reduce(((t,o)=>t||(null==o?void 0:o.supportsStyle.some((t=>e.includes(t))))),!1)},ur=({attributes:e,setAttributes:t})=>{const{buttonHeight:o,buttonBorderRadius:n}=e;return(0,r.createElement)(r.Fragment,null,mr(["height"])&&(0,r.createElement)(No.RadioControl,{label:(0,c.__)("Button height","woocommerce"),selected:o,options:[{label:(0,c.__)("Small (40px)","woocommerce"),value:"40"},{label:(0,c.__)("Medium (48px)","woocommerce"),value:"48"},{label:(0,c.__)("Large (55px)","woocommerce"),value:"55"}],onChange:e=>t({buttonHeight:e})}),mr(["borderRadius"])&&(0,r.createElement)("div",{className:"border-radius-control-container"},(0,r.createElement)(s.HeightControl,{label:(0,c.__)("Button border radius","woocommerce"),value:n,onChange:e=>{const o=e.replace("px","");t({buttonBorderRadius:o})}})))},dr=({attributes:e,setAttributes:t})=>e.showButtonStyles?(0,r.createElement)(ur,{attributes:e,setAttributes:t}):null,pr=()=>{const e=(0,U.select)(K.paymentStore).getAvailableExpressPaymentMethods();return Object.entries(e).length<1?(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,c.__)("You currently have no express payment integrations active.","woocommerce")):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,c.__)("You currently have the following express payment integrations active.","woocommerce")),Object.values(e).map((e=>(0,r.createElement)(lr,{key:e.name,href:`${p.ADMIN_URL}admin.php?page=wc-settings&tab=checkout&section=${encodeURIComponent(e.gatewayId)}`,title:e.title,description:e.description}))))},hr=(0,r.createElement)(r.Fragment,null,(0,c.__)("Apply uniform styles","woocommerce")," ",(0,r.createElement)("span",{className:"express-payment-styles-beta-badge"},"Beta")),gr=({attributes:e,setAttributes:t})=>(0,r.createElement)(s.InspectorControls,null,mr(ir)&&(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Button Settings","woocommerce"),className:"express-payment-button-settings"},(0,r.createElement)(No.ToggleControl,{label:hr,checked:e.showButtonStyles,onChange:()=>t({showButtonStyles:!e.showButtonStyles}),help:(0,c.__)("Sets a consistent style for express payment buttons.","woocommerce")}),(0,r.createElement)(No.Notice,{status:"warning",isDismissible:!1,className:"wc-block-checkout__notice express-payment-styles-notice"},(0,r.createElement)("strong",null,(0,c.__)("Note","woocommerce"),":")," ",(0,c.__)("Some payment methods might not yet support all style controls","woocommerce")),(0,r.createElement)(dr,{attributes:e,setAttributes:t})),(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Express Payment Methods","woocommerce")},(0,r.createElement)(pr,null)));o(8375);const _r=({children:e,className:t,screenReaderLabel:o,showSpinner:s=!1,isLoading:a=!0})=>(0,r.createElement)("div",{className:(0,n.A)(t,{"wc-block-components-loading-mask":a})},a&&s&&(0,r.createElement)(Ut.Spinner,null),(0,r.createElement)("div",{className:(0,n.A)({"wc-block-components-loading-mask__children":a}),"aria-hidden":a},e),a&&(0,r.createElement)("span",{className:"screen-reader-text"},o||(0,c.__)("Loadingâ¦","woocommerce"))),wr=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("g",{fill:"none",fillRule:"evenodd"},(0,r.createElement)("path",{d:"M0 0h24v24H0z"}),(0,r.createElement)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),(0,r.createElement)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"})));var kr=o(4166),br=o(3576),Er=o(8994);o(777);const yr={bank:kr.A,bill:br.A,card:Er.A,checkPayment:wr},vr=({icon:e="",text:t=""})=>{const o=!!e,c=(0,d.useCallback)((e=>o&&(0,he.isString)(e)&&(0,he.objectHasProp)(yr,e)),[o]),s=(0,n.A)("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return(0,r.createElement)("span",{className:s},c(e)?(0,r.createElement)(i.A,{icon:yr[e]}):e,t)},fr=e=>`wc-block-components-payment-method-icon wc-block-components-payment-method-icon--${e}`,Sr=({id:e,src:t=null,alt:o=""})=>t?(0,r.createElement)("img",{className:fr(e),src:t,alt:o}):null,Cr=[{id:"alipay",alt:"Alipay",src:C+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:C+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:C+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:C+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:C+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:C+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:C+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:C+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:C+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:C+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:C+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:C+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:C+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:C+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:C+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:C+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:C+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:C+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:C+"payment-methods/wechat.svg"}];o(4957);const Nr=({icons:e=[],align:t="center",className:o})=>{const c=(e=>{const t={};return e.forEach((e=>{let o={};"string"==typeof e&&(o={id:e,alt:e,src:null}),"object"==typeof e&&(o={id:e.id||"",alt:e.alt||"",src:e.src||null}),o.id&&(0,he.isString)(o.id)&&!t[o.id]&&(t[o.id]=o)})),Object.values(t)})(e);if(0===c.length)return null;const s=(0,n.A)("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===t,"wc-block-components-payment-method-icons--align-right":"right"===t},o);return(0,r.createElement)("div",{className:s},c.map((e=>{const t={...e,...(o=e.id,Cr.find((e=>e.id===o))||{})};var o;return(0,r.createElement)(Sr,{key:"payment-method-icon-"+e.id,...t})})))},Pr=(e="")=>{const{cartCoupons:t,cartIsLoading:o}=Oe(),{createErrorNotice:r}=(0,U.useDispatch)("core/notices"),{createNotice:n}=(0,U.useDispatch)("core/notices"),{setValidationErrors:s}=(0,U.useDispatch)(K.validationStore),{isApplyingCoupon:a,isRemovingCoupon:l}=(0,U.useSelect)((e=>{const t=e(K.cartStore);return{isApplyingCoupon:t.isApplyingCoupon(),isRemovingCoupon:t.isRemovingCoupon()}})),{applyCoupon:i,removeCoupon:m}=(0,U.useDispatch)(K.cartStore),u=(0,U.useSelect)((e=>e(K.checkoutStore).getOrderId()));return{appliedCoupons:t,isLoading:o,applyCoupon:t=>i(t).then((()=>((0,Nt.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,c.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,c.__)('Coupon code "%s" has been applied to your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>{const t=(e=>{var t,o;return u&&u>0&&null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(t=t.details)&&void 0!==t&&t.checkout?e.data.details.checkout:null!=e&&null!==(o=e.data)&&void 0!==o&&null!==(o=o.details)&&void 0!==o&&o.cart?e.data.details.cart:e.message})(e);return s({coupon:{message:(0,be.decodeEntities)(t),hidden:!1}}),Promise.resolve(!1)})),removeCoupon:t=>m(t).then((()=>((0,Nt.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,c.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,c.__)('Coupon code "%s" has been removed from your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>(r(t.message,{id:"coupon-form",context:e}),Promise.resolve(!1)))),isApplyingCoupon:a,isRemovingCoupon:l}},Ar=(e,t)=>{const o=[],r=(t,o)=>{const r=o+"_tax",c=(0,he.objectHasProp)(e,o)&&(0,he.isString)(e[o])?parseInt(e[o],10):0;return{key:o,label:t,value:c,valueWithTax:c+((0,he.objectHasProp)(e,r)&&(0,he.isString)(e[r])?parseInt(e[r],10):0)}};return o.push(r((0,c.__)("Subtotal:","woocommerce"),"total_items")),o.push(r((0,c.__)("Fees:","woocommerce"),"total_fees")),o.push(r((0,c.__)("Discount:","woocommerce"),"total_discount")),o.push({key:"total_tax",label:(0,c.__)("Taxes:","woocommerce"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&o.push(r((0,c.__)("Shipping:","woocommerce"),"total_shipping")),o};class xr extends d.Component{constructor(...e){super(...e),(0,u.A)(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return{errorMessage:e.message,hasError:!0}}render(){const{hasError:e,errorMessage:t}=this.state,{isEditor:o}=this.props;if(e){let e=(0,c.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woocommerce");(o||p.CURRENT_USER_IS_ADMIN)&&(e=t||(0,c.__)("There was an error with this payment method. Please verify it's configured correctly.","woocommerce"));const n=[{id:"0",content:e,isDismissible:!1,status:"error"}];return(0,r.createElement)(Ut.StoreNoticesContainer,{additionalNotices:n,context:ge.PAYMENTS})}return this.props.children}}const Ir=xr,Rr="wc/store/payment",Br=(0,d.createContext)({showButtonStyles:!1,buttonHeight:"48",buttonBorderRadius:"4"}),Tr=()=>{const{isEditor:e}=Y(),{showButtonStyles:t,buttonHeight:o,buttonBorderRadius:n}=(0,d.useContext)(Br),s=t?{height:o,borderRadius:n}:void 0,{activePaymentMethod:a,paymentMethodData:l}=(0,U.useSelect)((e=>{const t=e(Rr);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}})),{__internalSetActivePaymentMethod:i,__internalSetExpressPaymentStarted:m,__internalSetPaymentIdle:u,__internalSetPaymentError:h,__internalSetPaymentMethodData:g,__internalSetExpressPaymentError:_}=(0,U.useDispatch)(Rr),{paymentMethods:w}=cr(),k=(()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:o,onCheckoutAfterProcessingWithError:r,onSubmit:n}=(0,d.useContext)(_t),{onCheckoutValidation:s,onCheckoutSuccess:a,onCheckoutFail:l}=ut.checkoutEvents,{isCalculating:i,isComplete:m,isIdle:u,isProcessing:h,customerId:g}=(0,U.useSelect)((e=>{const t=e(K.checkoutStore);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}})),{paymentStatus:_,activePaymentMethod:w,shouldSavePayment:k}=(0,U.useSelect)((e=>{const t=e(K.paymentStore);return{paymentStatus:{get isPristine(){return J()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentIdle()},isIdle:t.isPaymentIdle(),isStarted:t.isExpressPaymentStarted(),isProcessing:t.isPaymentProcessing(),get isFinished(){return J()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()||t.isPaymentReady()},hasError:t.hasPaymentError(),get hasFailed(){return J()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()},get isSuccessful(){return J()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentReady()},isReady:t.isPaymentReady(),isDoingExpressPayment:t.isExpressPaymentMethodActive()},activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}})),{__internalSetExpressPaymentError:b}=(0,U.useDispatch)(K.paymentStore),{onPaymentProcessing:E,onPaymentSetup:y}=(0,d.useContext)(re),{shippingErrorStatus:v,shippingErrorTypes:f,onShippingRateSuccess:S,onShippingRateFail:C,onShippingRateSelectSuccess:N,onShippingRateSelectFail:P}=at(),{shippingRates:A,isLoadingRates:x,selectedRates:I,isSelectingRate:R,selectShippingRate:B,needsShipping:T}=ot(),{billingAddress:M,shippingAddress:O}=(0,U.useSelect)((e=>e(K.cartStore).getCustomerData())),{setShippingAddress:D}=(0,U.useDispatch)(K.cartStore),{cartItems:L,cartFees:F,cartTotals:j,extensions:V}=Oe(),{appliedCoupons:$}=Pr(),z=(0,d.useRef)(Ar(j,T)),q=(0,d.useRef)({label:(0,c.__)("Total","woocommerce"),value:parseInt(j.total_price,10)});(0,d.useEffect)((()=>{z.current=Ar(j,T),q.current={label:(0,c.__)("Total","woocommerce"),value:parseInt(j.total_price,10)}}),[j,T]);const H=(0,d.useCallback)(((e="")=>{J()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),b(e)}),[b]);return{activePaymentMethod:w,billing:{appliedCoupons:$,billingAddress:M,billingData:M,cartTotal:q.current,cartTotalItems:z.current,currency:(0,Wt.getCurrencyFromPriceResponse)(j),customerId:g,displayPricesIncludingTax:(0,p.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:L,cartFees:F,extensions:V},checkoutStatus:{isCalculating:i,isComplete:m,isIdle:u,isProcessing:h},components:{LoadingMask:_r,PaymentMethodIcons:Nr,PaymentMethodLabel:vr,ValidationInputError:Ut.ValidationInputError},emitResponse:{noticeContexts:ge,responseTypes:he.responseTypes},eventRegistration:{onCheckoutAfterProcessingWithError:r,onCheckoutAfterProcessingWithSuccess:o,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutSuccess:a,onCheckoutFail:l,onCheckoutValidation:s,onPaymentProcessing:E,onPaymentSetup:y,onShippingRateFail:C,onShippingRateSelectFail:P,onShippingRateSelectSuccess:N,onShippingRateSuccess:S},onSubmit:n,paymentStatus:_,setExpressPaymentError:H,shippingData:{isSelectingRate:R,needsShipping:T,selectedRates:I,setSelectedRates:B,setShippingAddress:D,shippingAddress:O,shippingRates:A,shippingRatesLoading:x},shippingStatus:{shippingErrorStatus:v,shippingErrorTypes:f},shouldSavePayment:k}})(),b=(0,d.useRef)(a),E=(0,d.useRef)(l),y=(0,d.useCallback)((e=>()=>{b.current=a,E.current=l,m(),i(e)}),[a,l,i,m]),v=(0,d.useCallback)((()=>{u(),i(b.current,E.current)}),[i,u]),f=(0,d.useCallback)((e=>{h(),g(e),_(e),i(b.current,E.current)}),[i,h,g,_]),S=(0,d.useCallback)(((e="")=>{J()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?f(e):_("")}),[_,f]),C=Object.entries(w),N=C.length>0?C.map((([t,o])=>{const c=e?o.edit:o.content;return(0,d.isValidElement)(c)?(0,r.createElement)("li",{key:t,id:`express-payment-method-${t}`},(0,d.cloneElement)(c,{...k,onClick:y(t),onClose:v,onError:f,setExpressPaymentError:S,buttonAttributes:s})):null})):(0,r.createElement)("li",{key:"noneRegistered"},(0,c.__)("No registered Payment Methods","woocommerce"));return(0,r.createElement)(Ir,{isEditor:e},(0,r.createElement)("ul",{className:"wc-block-components-express-payment__event-buttons"},N))};o(9569);const Mr=()=>{const{paymentMethods:e,isInitialized:t}=cr(),{isCalculating:o,isProcessing:n,isAfterProcessing:s,isBeforeProcessing:a,isComplete:l,hasError:i}=(0,U.useSelect)((e=>{const t=e(K.checkoutStore);return{isCalculating:t.isCalculating(),isProcessing:t.isProcessing(),isAfterProcessing:t.isAfterProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),hasError:t.hasError()}})),m=(0,U.useSelect)((e=>e(K.paymentStore).isExpressPaymentMethodActive()));if(!t||t&&0===Object.keys(e).length)return null;const u=n||s||a||l&&!i;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(_r,{isLoading:o||u||m},(0,r.createElement)("div",{className:"wc-block-components-express-payment wc-block-components-express-payment--cart"},(0,r.createElement)("div",{className:"wc-block-components-express-payment__content"},(0,r.createElement)(Ut.StoreNoticesContainer,{context:ge.EXPRESS_PAYMENTS}),(0,r.createElement)(Tr,null)))),(0,r.createElement)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--cart"},(0,c.__)("Or","woocommerce")))},Or=({className:e})=>{const{cartNeedsPayment:t}=Oe();return t?(0,r.createElement)("div",{className:(0,n.A)("wc-block-cart__payment-options",e)},(0,r.createElement)(Mr,null)):null};o(5913);const Dr=(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{stroke:"#1E1E1E",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12a6.25 6.25 0 1 1-12.5 0 6.25 6.25 0 0 1 12.5 0Z"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"M10 3h4v3h-4z"}),(0,r.createElement)("rect",{width:"1.5",height:"5",x:"11.25",y:"8",fill:"#1E1E1E",rx:".75"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"m15.7 4.816 1.66 1.078-1.114 1.718-1.661-1.078z"}));(0,m.registerBlockType)("woocommerce/cart-express-payment-block",{icon:{src:(0,r.createElement)(i.A,{style:{fill:"none"},icon:Dr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{paymentMethods:o,isInitialized:c}=cr(),a=Object.keys(o).length>0,l=(0,s.useBlockProps)({className:(0,n.A)({"wp-block-woocommerce-cart-express-payment-block--has-express-payment-methods":a})}),{className:i,showButtonStyles:m,buttonHeight:u,buttonBorderRadius:d}=e;return c&&a?(0,r.createElement)("div",{...l},(0,r.createElement)(gr,{attributes:e,setAttributes:t}),(0,r.createElement)(Br.Provider,{value:{showButtonStyles:m,buttonHeight:u,buttonBorderRadius:d}},(0,r.createElement)(Or,{className:i}))):null},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});var Lr=o(498);const Fr=(0,c.__)("Proceed to Checkout","woocommerce"),jr={checkoutPageId:{type:"number",default:0},lock:{type:"object",default:{move:!0,remove:!0}},buttonLabel:{type:"string",default:Fr}};var Vr=o(1777);o(2080),o(7791);const $r=()=>(0,r.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"}),zr=(0,d.forwardRef)(((e,t)=>{"showSpinner"in e&&J()("showSpinner prop",{version:"8.9.0",alternative:"Render a spinner in the button children instead.",plugin:"WooCommerce"});const{className:o,showSpinner:c=!1,children:s,variant:a="contained",removeTextWrap:l=!1,...i}=e,m=(0,n.A)("wc-block-components-button","wp-element-button",o,a,{"wc-block-components-button--loading":c});if("href"in e)return(0,r.createElement)(Vr.$,{render:(0,r.createElement)("a",{ref:t,href:e.href},c&&(0,r.createElement)($r,null),(0,r.createElement)("span",{className:"wc-block-components-button__text"},s)),className:m,...i});const u=l?e.children:(0,r.createElement)("span",{className:"wc-block-components-button__text"},e.children);return(0,r.createElement)(Vr.$,{ref:t,className:m,...i},c&&(0,r.createElement)($r,null),u)})),qr=({onChange:e,placeholder:t,value:o,children:c,...n})=>(0,r.createElement)(zr,{...n},(0,r.createElement)(s.RichText,{multiline:!1,allowedFormats:[],value:o,placeholder:t,onChange:e}),c),Hr=(e,t)=>{if(!e.title.raw)return e.slug;const o=1===t.filter((t=>t.title.raw===e.title.raw)).length;return e.title.raw+(o?"":` - ${e.slug}`)},Ur=({setPageId:e,pageId:t,labels:o})=>{const n=(0,U.useSelect)((e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100})),[])||null;return n?(0,r.createElement)(No.PanelBody,{title:o.title},(0,r.createElement)(No.SelectControl,{label:(0,c.__)("Link to","woocommerce"),value:t,options:[{label:o.default,value:0},...n.map((e=>({label:Hr(e,n),value:parseInt(e.id,10)})))],onChange:t=>e(parseInt(t,10))})):null};o(6080),(0,m.registerBlockType)("woocommerce/proceed-to-checkout-block",{icon:{src:(0,r.createElement)(i.A,{icon:Lr.A,className:"wc-block-editor-components-block-icon"})},attributes:jr,edit:({attributes:e,setAttributes:t})=>{const o=(0,s.useBlockProps)(),{checkoutPageId:n=0,buttonLabel:a}=e,{current:l}=(0,d.useRef)(n),i=(0,U.useSelect)((e=>l||e("core/editor").getCurrentPostId()),[l]);return(0,r.createElement)("div",{...o},(0,r.createElement)(s.InspectorControls,null,!(i===A&&0===l)&&(0,r.createElement)(Ur,{pageId:n,setPageId:e=>t({checkoutPageId:e}),labels:{title:(0,c.__)("Proceed to Checkout button","woocommerce"),default:(0,c.__)("WooCommerce Checkout Page","woocommerce")}})),(0,r.createElement)(qr,{className:"wc-block-cart__submit-button",value:a,placeholder:Fr,onChange:e=>{t({buttonLabel:e})}}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});const Wr=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{d:"M22.7 22.7l-20-20L2 2l-.7-.7L0 2.5 4.4 7l2.2 4.7L5.2 14A2 2 0 007 17h7.5l1.3 1.4a2 2 0 102.8 2.8l2.9 2.8 1.2-1.3zM7.4 15a.2.2 0 01-.2-.3l.9-1.7h2.4l2 2h-5zm8.2-2a2 2 0 001.7-1l3.6-6.5.1-.5c0-.6-.4-1-1-1H6.5l9 9zM7 18a2 2 0 100 4 2 2 0 000-4z"}),(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"})),Yr=N?["core/paragraph",{align:"center",content:(0,c.sprintf)(/* translators: %s is the link to the store product directory. */ /* translators: %s is the link to the store product directory. */
(0,c.__)('<a href="%s">Browse store</a>',"woocommerce"),N),dropCap:!1}]:null,Gr=[["core/heading",{textAlign:"center",content:(0,c.__)("Your cart is currently empty!","woocommerce"),level:2,className:"with-empty-cart-icon wc-block-cart__empty-cart__title"}],Yr,["core/separator",{className:"is-style-dots"}],["core/heading",{textAlign:"center",content:(0,c.__)("New in store","woocommerce"),level:2}],["woocommerce/product-new",{columns:4,rows:1}]].filter(Boolean);o(6611),(0,m.registerBlockType)("woocommerce/empty-cart-block",{icon:{src:(0,r.createElement)(i.A,{icon:Wr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)(),{currentView:o}=Y(),c=Tt(Nt.innerBlockAreas.EMPTY_CART);return Mt({clientId:e,registeredBlocks:c,defaultTemplate:Gr}),(0,r.createElement)("div",{...t,hidden:"woocommerce/empty-cart-block"!==o},(0,r.createElement)(s.InnerBlocks,{template:Gr,templateLock:!1,renderAppender:s.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});const Qr=e=>Object.values(e).reduce(((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e)),[]),Kr=({className:e})=>{const{paymentMethods:t}=rr(!1);return(0,r.createElement)(Nr,{className:e,icons:Qr(t)})};(0,m.registerBlockType)("woocommerce/cart-accepted-payment-methods-block",{icon:{src:(0,r.createElement)(i.A,{icon:Er.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(Kr,{className:t}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});const Zr=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),(0,r.createElement)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"}));o(3048);const Jr=({instanceId:e,isLoading:t=!1,onSubmit:o,displayCouponForm:n=!1})=>{const[s,a]=(0,d.useState)(""),[l,i]=(0,d.useState)(n),m=`wc-block-components-totals-coupon__input-${e}`,{validationErrorId:u}=(0,U.useSelect)((t=>({validationErrorId:t(K.validationStore).getValidationErrorId(e)}))),p=(0,d.useRef)(null);return(0,r.createElement)(Ut.Panel,{className:"wc-block-components-totals-coupon",initialOpen:l,hasBorder:!1,headingLevel:2,title:(0,c.__)("Add a coupon","woocommerce"),state:[l,i]},(0,r.createElement)(_r,{screenReaderLabel:(0,c.__)("Applying couponâ¦","woocommerce"),isLoading:t,showSpinner:!1},(0,r.createElement)("div",{className:"wc-block-components-totals-coupon__content"},(0,r.createElement)("form",{className:"wc-block-components-totals-coupon__form",id:"wc-block-components-totals-coupon__form"},(0,r.createElement)(Ut.ValidatedTextInput,{id:m,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:(0,c.__)("Enter code","woocommerce"),value:s,ariaDescribedBy:u,onChange:e=>{a(e)},focusOnMount:!0,validateOnMount:!1,showError:!1,ref:p}),(0,r.createElement)(zr,{className:"wc-block-components-totals-coupon__button",disabled:t||!s,showSpinner:t,onClick:e=>{var t;e.preventDefault(),void 0!==o?null===(t=o(s))||void 0===t||t.then((e=>{var t;e?(a(""),i(!1)):null!==(t=p.current)&&void 0!==t&&t.focus&&p.current.focus()})):(a(""),i(!0))},type:"submit"},(0,c.__)("Apply","woocommerce"))),(0,r.createElement)(Ut.ValidationInputError,{propertyName:"coupon",elementId:e}))))};o(265);const Xr={context:"summary"},ec=({cartCoupons:e=[],currency:t,isRemovingCoupon:o,removeCoupon:n,values:s})=>{const{total_discount:a,total_discount_tax:l}=s,i=parseInt(a,10),m=(0,Nt.applyCheckoutFilter)({arg:Xr,filterName:"coupons",defaultValue:e});if(!i&&0===m.length)return null;const u=parseInt(l,10),d=(0,p.getSetting)("displayCartPricesIncludingTax",!1)?i+u:i;return(0,r.createElement)(Ut.TotalsItem,{className:"wc-block-components-totals-discount",currency:t,description:0!==m.length&&(0,r.createElement)(_r,{screenReaderLabel:(0,c.__)("Removing couponâ¦","woocommerce"),isLoading:o,showSpinner:!1},(0,r.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},m.map((e=>(0,r.createElement)(Ut.RemovableChip,{key:"coupon-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:(0,c.sprintf)(/* translators: %s Coupon code. */ /* translators: %s Coupon code. */
(0,c.__)("Coupon: %s","woocommerce"),e.label),disabled:o,onRemove:()=>{n(e.code)},radius:"large",ariaLabel:(0,c.sprintf)(/* translators: %s is a coupon code. */ /* translators: %s is a coupon code. */
(0,c.__)('Remove coupon "%s"',"woocommerce"),e.label)}))))),label:d?(0,c.__)("Discount","woocommerce"):(0,c.__)("Coupons","woocommerce"),value:d?-1*d:"-"})};o(7919);const tc=({currency:e,values:t,className:o})=>{const s=(0,p.getSetting)("taxesEnabled",!0)&&(0,p.getSetting)("displayCartPricesIncludingTax",!1),{total_price:a,total_tax:l,tax_lines:i}=t,{receiveCart:m,...u}=Oe(),h=(0,Nt.applyCheckoutFilter)({filterName:"totalLabel",defaultValue:(0,c.__)("Total","woocommerce"),extensions:u.extensions,arg:{cart:u}}),g=(0,Nt.applyCheckoutFilter)({filterName:"totalValue",defaultValue:"<price/>",extensions:u.extensions,arg:{cart:u},validation:Nt.productPriceValidation}),_=(0,r.createElement)(Ut.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:parseInt(a,10)}),w=(0,d.createInterpolateElement)(g,{price:_}),k=parseInt(l,10),b=i&&i.length>0?(0,c.sprintf)(/* translators: %s is a list of tax rates */ /* translators: %s is a list of tax rates */
(0,c.__)("Including %s","woocommerce"),i.map((({name:t,price:o})=>`${(0,Wt.formatPrice)(o,e)} ${t}`)).join(", ")):(0,c.__)("Including <TaxAmount/> in taxes","woocommerce");return(0,r.createElement)(Ut.TotalsItem,{className:(0,n.A)("wc-block-components-totals-footer-item",o),currency:e,label:h,value:w,description:s&&0!==k&&(0,r.createElement)("p",{className:"wc-block-components-totals-footer-item-tax"},(0,d.createInterpolateElement)(b,{TaxAmount:(0,r.createElement)(Ut.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:k})}))})},oc=()=>{const{shippingRates:e}=Oe(),t=(e=>e.flatMap((e=>e.shipping_rates.filter((e=>e.selected)).flatMap((e=>e.name)))))(e);return t?(0,r.createElement)("div",{className:"wc-block-components-totals-shipping__via"},(0,be.decodeEntities)(t.filter(((e,o)=>t.indexOf(e)===o)).join(", "))):null},rc=()=>{const{customerData:e,isInitialized:t}=(0,U.useSelect)((e=>{const t=e(K.cartStore);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:r}=(0,U.useDispatch)(K.cartStore);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:r,setShippingAddress:o}};let cc=null;o(7051),o(2931);var nc=o(224);o(5452);const sc=e=>{const{onChange:t,options:o,label:s,value:a="",className:l,size:m,errorId:u,required:p,errorMessage:h=(0,c.__)("Please select a valid option","woocommerce"),placeholder:g,..._}=e,w=(0,d.useCallback)((e=>{t(e.target.value)}),[t]),k=(0,Nt.getFieldLabel)(s),b=(0,d.useMemo)((()=>({value:"",label:null!=g?g:(0,c.sprintf)(
// translators: %s will be label of the field. For example "country/region".
// translators: %s will be label of the field. For example "country/region".
(0,c.__)("Select a %s","woocommerce"),k),disabled:!!p})),[g,p,k]),E=(0,d.useId)(),y=_.id||`wc-blocks-components-select-${E}`,v=u||y,f=(0,d.useMemo)((()=>p&&a?o:[b].concat(o)),[p,a,b,o]),{setValidationErrors:S,clearValidationError:C}=(0,U.useDispatch)(K.validationStore),{error:N,validationErrorId:P}=(0,U.useSelect)((e=>{const t=e(K.validationStore);return{error:t.getValidationError(v),validationErrorId:t.getValidationErrorId(v)}}),[v]);(0,d.useEffect)((()=>(!p||a?C(v):S({[v]:{message:h,hidden:!0}}),()=>{C(v)})),[C,a,v,h,p,S]);const A=(0,U.useSelect)((e=>e(K.validationStore).getValidationError(v||"")||{hidden:!0}),[v]);return(0,r.createElement)("div",{className:(0,n.A)(l,{"has-error":!A.hidden})},(0,r.createElement)("div",{className:"wc-blocks-components-select"},(0,r.createElement)("div",{className:"wc-blocks-components-select__container"},(0,r.createElement)("label",{htmlFor:y,className:"wc-blocks-components-select__label"},s),(0,r.createElement)("select",{className:"wc-blocks-components-select__select",id:y,size:void 0!==m?m:1,onChange:w,value:a,"aria-invalid":!(null==N||!N.message||null!=N&&N.hidden),"aria-errormessage":P,..._},f.map((e=>(0,r.createElement)("option",{key:e.value,value:e.value,"data-alternate-values":`[${e.label}]`,disabled:void 0!==e.disabled&&e.disabled},e.label)))),(0,r.createElement)(i.A,{className:"wc-blocks-components-select__expand",icon:nc.A}))),(0,r.createElement)(Ut.ValidationInputError,{propertyName:v}))},ac=({className:e,countries:t,id:o,label:c,onChange:s,value:a="",autoComplete:l="off",required:i=!1})=>{const m=(0,d.useMemo)((()=>Object.entries(t).map((([e,t])=>({value:e,label:(0,be.decodeEntities)(t)})))),[t]);return(0,r.createElement)(sc,{className:(0,n.A)(e,"wc-block-components-country-input"),id:o,label:c||"",onChange:s,options:m,value:a,required:i,autoComplete:l})},lc=e=>{const{...t}=e;return(0,r.createElement)(ac,{countries:O,...t})},ic=e=>(0,r.createElement)(ac,{countries:L,...e});o(8824);const mc=(e,t)=>{const o=t.find((t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase()));return o?o.value:""},uc=({className:e,id:t,states:o,country:c,label:s,onChange:a,autoComplete:l="off",value:i="",required:m=!1})=>{const u=o[c],p=(0,d.useMemo)((()=>u&&Object.keys(u).length>0?Object.keys(u).map((e=>({value:e,label:(0,be.decodeEntities)(u[e])}))):[]),[u]),h=(0,d.useCallback)((e=>{const t=p.length>0?mc(e,p):e;t!==i&&a(t)}),[a,p,i]),g=(0,d.useRef)(i);return(0,d.useEffect)((()=>{g.current!==i&&(g.current=i)}),[i]),(0,d.useEffect)((()=>{if(p.length>0&&g.current){const e=mc(g.current,p);e!==g.current&&h(e)}}),[p,h]),p.length>0?(0,r.createElement)(sc,{className:(0,n.$)(e,"wc-block-components-state-input"),options:p,label:s||"",id:t,onChange:h,value:i,autoComplete:l,required:m}):(0,r.createElement)(Ut.ValidatedTextInput,{className:e,id:t,label:s,onChange:h,autoComplete:l,value:i,required:m})},dc=e=>{const{...t}=e;return(0,r.createElement)(uc,{states:D,...t})},pc=e=>(0,r.createElement)(uc,{states:F,...e});o(5684);const hc=({field:e,props:t,onChange:o,value:n})=>{var s;const a=null!==(s=null==e?void 0:e.required)&&void 0!==s&&s,l=it(a),[i,m]=(0,d.useState)((()=>Boolean(n)||a)),u=(0,Nt.getFieldLabel)(e.label);(0,d.useEffect)((()=>{l!==a&&m(Boolean(n)||a)}),[n,l,a]);const p=(0,d.useCallback)((e=>{o(e),m(!0)}),[o]);return(0,r.createElement)(d.Fragment,null,i?(0,r.createElement)(Ut.ValidatedTextInput,{...t,type:e.type,label:a?e.label:e.optionalLabel,className:"wc-block-components-address-form__address_2",value:n,onChange:e=>o(e)}):(0,r.createElement)(d.Fragment,null,(0,r.createElement)(Vr.$,{render:(0,r.createElement)("span",null),className:"wc-block-components-address-form__address_2-toggle",onClick:()=>m(!0)},(0,c.sprintf)(
// translators: %s: address 2 field label.
// translators: %s: address 2 field label.
(0,c.__)("+ Add %s","woocommerce"),u)),(0,r.createElement)("input",{type:"text",tabIndex:-1,className:"wc-block-components-address-form__address_2-hidden-input","aria-hidden":"true","aria-label":e.label,autoComplete:e.autocomplete,id:null==t?void 0:t.id,value:n,onChange:e=>p(e.target.value)})))},gc=(e,t,o)=>({id:`${t}-${null==e?void 0:e.key}`.replaceAll("/","-"),errorId:`${o}_${null==e?void 0:e.key}`,label:(null!=e&&e.required?null==e?void 0:e.label:null==e?void 0:e.optionalLabel)||"",autoCapitalize:null==e?void 0:e.autocapitalize,autoComplete:null==e?void 0:e.autocomplete,errorMessage:null==e?void 0:e.errorMessage,required:null==e?void 0:e.required,placeholder:null==e?void 0:e.placeholder,className:`wc-block-components-address-form__${null==e?void 0:e.key}`.replaceAll("/","-"),...null==e?void 0:e.attributes}),_c=(e,t,o)=>{const r=t.find((t=>t.key===e)),c=(0,he.objectHasProp)(o,e)?o[e]:"";return r?{field:{...r,key:e},value:c}:null},wc=(e,t)=>(0,he.isObject)(e.rules)&&(0,he.isObject)(e.rules[t])&&Object.keys(e.rules[t]).length>0,kc=({formId:e,address1:t,address2:o,addressType:c,onChange:n})=>{const s=gc(t.field,e,c),a=gc(o.field,e,c);return(0,r.createElement)(r.Fragment,null,t&&(0,r.createElement)(Ut.ValidatedTextInput,{...s,type:t.field.type,label:t.field.label,className:"wc-block-components-address-form__address_1",value:t.value,onChange:e=>n("address_1",e)}),o.field&&!o.field.hidden&&(0,r.createElement)(hc,{field:o.field,props:a,onChange:e=>n("address_2",e),value:o.value}))};var bc=o(4370);const Ec=e=>((e,t)=>Object.entries(e).reduce(((e,[o,r])=>({...e,[t(0,o)]:r})),{}))(e,((e,t)=>(0,bc.L)(t))),yc=e=>{const t=(e=>{const t=(0,d.useRef)({cart:{},checkout:{},customer:{}}),o=(0,U.useSelect)((t=>{const o=t(K.cartStore),r=t(K.checkoutStore),c=t(K.paymentStore),n=o.getCartData(),{coupons:s,shippingRates:a,shippingAddress:l,billingAddress:i,items:m,itemsCount:u,itemsWeight:d,needsShipping:p,totals:h}=n,g={cart:{coupons:s.map((e=>e.code)),shippingRates:[...new Set(a.map((e=>{var t;return null===(t=e.shipping_rates.find((e=>e.selected)))||void 0===t?void 0:t.rate_id})).filter(Boolean))],items:m.map((e=>Array(e.quantity).fill(e.id))).flat(),itemsType:[...new Set(m.map((e=>e.type)))],itemsCount:u,itemsWeight:d,needsShipping:p,prefersCollection:"boolean"==typeof r.prefersCollection()&&r.prefersCollection(),totals:{totalPrice:Number(h.total_price),totalTax:Number(h.total_tax)},extensions:n.extensions},checkout:{createAccount:r.getShouldCreateAccount(),customerNote:r.getOrderNotes(),additionalFields:r.getAdditionalFields(),paymentMethod:c.getActivePaymentMethod()},customer:{id:r.getCustomerId(),billingAddress:i,shippingAddress:l,..."billing"===e||"shipping"===e?{address:"billing"===e?i:l}:{}}};return{cart:Ec(g.cart),checkout:Ec(g.checkout),customer:Ec(g.customer)}}),[e]);return t.current&&ke()(t.current,o)||(t.current=o),t.current})(e);return window.schemaParser?{parser:window.schemaParser,data:t}:{parser:null,data:t}},vc={};function fc(e){let t=e;return function(e){const o=t;return t=e,o}}const Sc=fc(),Cc=fc(),Nc=({id:e="",fields:t,onChange:o,addressType:s="shipping",values:a,children:l,isEditing:i,ariaDescribedBy:m=""})=>{const u=(0,At.useInstanceId)(Nc),h=(0,d.useRef)(!0),{defaultFields:g}=(()=>{const{isEditor:e,getPreviewData:t}=Y(),{needsShipping:o}=ot(),{useShippingAsBilling:r,prefersCollection:c,editingBillingAddress:n,editingShippingAddress:s}=(0,U.useSelect)((e=>({useShippingAsBilling:e(K.checkoutStore).getUseShippingAsBilling(),prefersCollection:e(K.checkoutStore).prefersCollection(),editingBillingAddress:e(K.checkoutStore).getEditingBillingAddress(),editingShippingAddress:e(K.checkoutStore).getEditingShippingAddress()}))),{__internalSetUseShippingAsBilling:a,setEditingBillingAddress:l,setEditingShippingAddress:i}=(0,U.useDispatch)(K.checkoutStore),{billingAddress:m,setBillingAddress:u,shippingAddress:h,setShippingAddress:g}=rc(),_=(0,d.useCallback)((e=>{u({email:e})}),[u]),w=(0,p.getSetting)("forcedBillingAddress",!1);return{shippingAddress:h,billingAddress:m,setShippingAddress:g,setBillingAddress:u,setEmail:_,defaultFields:e?t("defaultFields",p.defaultFields):p.defaultFields,useShippingAsBilling:r,setUseShippingAsBilling:a,editingBillingAddress:n,editingShippingAddress:s,setEditingBillingAddress:l,setEditingShippingAddress:i,needsShipping:o,showShippingFields:!w&&o&&!c,showShippingMethods:o&&!c,showBillingFields:!o||!r||!!c,forcedBillingAddress:w,useBillingAsShipping:w||!!c}})(),_=or(t),w=or("country"in a?a.country:""),k=((e,t,o,r="")=>{const c=(0,d.useRef)([]),{parser:n,data:s}=yc(o),a=ye(e,t,r).map((e=>{const o=t[e.key]||{};if(o.rules&&n){if(wc(o,"required")){let t={};t=Object.keys(o.rules.required).some((e=>"cart"===e||"checkout"===e||"customer"===e))?{type:"object",properties:o.rules.required}:o.rules.required;try{const o=n.validate(t,s);e.required=o}catch(e){p.CURRENT_USER_IS_ADMIN&&console.error(e)}}if(wc(o,"hidden")){const t={type:"object",properties:o.rules.hidden};try{const o=n.validate(t,s);e.hidden=o}catch(e){p.CURRENT_USER_IS_ADMIN&&console.error(e)}}}return e}));return c.current&&ke()(c.current,a)||(c.current=a),c.current})(_,g,s,w),b=it(k),E=it(i),y=it(a),v=(0,d.useRef)({}),{errors:f,previousErrors:S}=((e,t,o)=>{const{parser:r,data:n}=yc(t),s=(0,d.useRef)(vc),a=it(s.current);if(!n)return{errors:s.current,previousErrors:a};let l;if(o)l=o;else switch(t){case"billing":case"shipping":l=n.customer.address||{};break;case"contact":case"order":l=n.checkout.additional_fields||{};break;default:l={}}const i=e.reduce(((e,t)=>(wc(t,"validation")&&!t.hidden&&(t.required||l[t.key])&&(e[t.key]=t.rules.validation),e)),{});let m=vc;if(Object.keys(i).length>0&&r){const o={type:"object",properties:{}};switch(t){case"shipping":o.properties={customer:{type:"object",properties:{shipping_address:{type:"object",properties:i}}}};break;case"billing":o.properties={customer:{type:"object",properties:{billing_address:{type:"object",properties:i}}}};break;default:o.properties={checkout:{type:"object",properties:{additional_fields:{type:"object",properties:i}}}}}const s=r.compile(o),a=s(n);m=!a&&s.errors?((e,t)=>e.reduce(((e,o)=>{var r;const n=null===(s=o.instancePath.split("/").pop())||void 0===s?void 0:s.replace("~1","/");var s;const a=t.find((e=>e.key===n));if(!a||!n)return e;const l=(0,Nt.getFieldLabel)(a.label),i=(0,c.sprintf)(
// translators: %s is the label of the field.
// translators: %s is the label of the field.
(0,c.__)("%s is invalid","woocommerce"),l);if(n)switch(o.keyword){case"errorMessage":e[n]=null!==(r=o.message)&&void 0!==r?r:i;break;case"pattern":e[n]=(0,c.sprintf)(
// translators: %1$s is the label of the field, %2$s is the pattern.
// translators: %1$s is the label of the field, %2$s is the pattern.
(0,c.__)("%1$s must match the pattern %2$s","woocommerce"),l,o.params.pattern);break;default:e[n]=i}return e}),{}))(s.errors,e):vc}const u=e.map((e=>m[e.key]?[e.key,m[e.key]]:e.hidden||!e.required&&!l[e.key]?null:"postcode"===e.key&&"country"in l&&!(0,Nt.isPostcode)({postcode:l.postcode,country:l.country})?[e.key,(0,c.__)("Please enter a valid postcode","woocommerce")]:"email"===e.key&&"email"in l&&!(0,ve.isEmail)(l.email)?[e.key,(0,c.__)("Please enter a valid email address","woocommerce")]:null)).filter(he.nonNullable);return ke()(s.current,Object.fromEntries(u))||(s.current=Object.fromEntries(u)),{errors:s.current,previousErrors:a}})(k,s,"shipping"===s?a:void 0);return(0,d.useEffect)((()=>{Object.entries(f).forEach((([e,t])=>{const o=v.current[e];t&&(null==o||o.setErrorMessage(t),(0,U.dispatch)(K.validationStore).setValidationErrors({[`${s}_${e}`]:{message:t,hidden:!(null==o||!o.isFocused())}}),null!=o&&o.isFocused()||null==o||o.revalidate())})),S&&Object.entries(S).forEach((([e])=>{const t=v.current[e];e in f||((0,U.dispatch)(K.validationStore).clearValidationError(`${s}_${e}`),null==t||t.setErrorMessage(""))}))}),[f,S,s,a]),(0,d.useEffect)((()=>{var e;null===(e=v.current)||void 0===e||null===(e=e.postcode)||void 0===e||e.revalidate()}),[w]),(0,d.useEffect)((()=>{let t;if(!h.current&&i&&v.current&&E!==i){const o=k.find((e=>!1===e.hidden));if(!o)return;const{id:r}=gc(o,e||`${u}`,s),c=document.getElementById(r);c&&(t=setTimeout((()=>{c.focus()}),300))}return h.current=!1,()=>{clearTimeout(t)}}),[i,k,e,u,s,E]),(0,d.useEffect)((()=>{if(ke()(b,k))return;const e={...a,...Object.fromEntries(k.filter((e=>e.hidden)).map((e=>[e.key,""])))};qe()(a,e)||o(e)}),[o,k,b,a]),(0,d.useEffect)((()=>{if((!ke()(b,k)||!ke()(y,a))&&("country"in a&&((e,t)=>{const o=`${e}_country`,r=(0,U.select)(K.validationStore).getValidationError(o);!t.country&&(t.city||t.state||t.postcode)&&(r?(0,U.dispatch)(K.validationStore).showValidationError(o):(0,U.dispatch)(K.validationStore).setValidationErrors({[o]:{message:(0,c.__)("Please select your country","woocommerce"),hidden:!1}})),r&&t.country&&(0,U.dispatch)(K.validationStore).clearValidationError(o)})(s,a),"state"in a)){const e=k.find((e=>"state"===e.key));e&&((e,t,o)=>{const r=`${e}_state`,n=(0,U.select)(K.validationStore).getValidationError(r),s=o.required,a="shipping"===e?Sc(t):Cc(t),l=!!a&&!qe()(a,t);n?!s||t.state?(0,U.dispatch)(K.validationStore).clearValidationError(r):l||(0,U.dispatch)(K.validationStore).showValidationError(r):!n&&s&&!t.state&&t.country&&(0,U.dispatch)(K.validationStore).setValidationErrors({[r]:{message:(0,c.sprintf)(/* translators: %s will be the state field label in lowercase e.g. "state" */ /* translators: %s will be the state field label in lowercase e.g. "state" */
(0,c.__)("Please select a %s","woocommerce"),o.label.toLowerCase()),hidden:!0}})})(s,a,e)}}),[a,y,s,k,b]),e=e||`${u}`,(0,r.createElement)("div",{id:e,className:"wc-block-components-address-form"},k.map((t=>{var c;if(t.hidden)return null;const l=gc(t,e,s),i=(e=>{const{autoCapitalize:t,autoComplete:o,placeholder:r,...c}=e;return c})(l);if("email"===t.key&&(l.id="email",l.errorId="billing_email"),"checkbox"===t.type){const e=t.key in a&&a[t.key],c={checked:Boolean(e),onChange:e=>{o({...a,[t.key]:e})},...i};return t.required?(0,r.createElement)(Ut.ValidatedCheckboxControl,{key:t.key,...t.errorMessage?{errorMessage:t.errorMessage}:{},...c}):(0,r.createElement)(Ut.CheckboxControl,{key:t.key,...c})}if("address_1"===t.key&&"address_1"in a){const c=_c("address_1",k,a),n=_c("address_2",k,a);return(0,he.isNull)(c)||(0,he.isNull)(n)?null:(0,r.createElement)(kc,{address1:c,address2:n,addressType:s,formId:e,key:t.key,onChange:(e,t)=>{o({...a,[e]:t})}})}if("address_2"===t.key)return null;if("country"===t.key&&"country"in a){const e="shipping"===s?ic:lc;return(0,r.createElement)(e,{key:t.key,...l,value:a.country,onChange:e=>{o({...a,country:e,state:"",postcode:""})}})}if("state"===t.key&&"state"in a&&"country"in a){const e="shipping"===s?pc:dc;return(0,r.createElement)(e,{key:t.key,...l,country:a.country,value:a.state,onChange:e=>o({...a,state:e})})}return"select"===t.type&&"options"in t?void 0===t.options?null:(0,r.createElement)(sc,{key:t.key,...l,label:l.label||"",className:(0,n.A)("wc-block-components-select-input",`wc-block-components-select-input-${t.key}`.replaceAll("/","-")),value:t.key in a?a[t.key]:"",onChange:e=>{o({...a,[t.key]:e})},options:t.options,required:t.required,errorMessage:l.errorMessage||void 0}):(0,r.createElement)(Ut.ValidatedTextInput,{key:t.key,ref:e=>v.current[t.key]=e,...l,type:t.type,ariaDescribedBy:m,value:null!==(c=(0,be.decodeEntities)(a[t.key]))&&void 0!==c?c:"",onChange:e=>o({...a,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e})})),l)},Pc=Nc,Ac=({address:e,onUpdate:t,onCancel:o,addressFields:n})=>{const[s,a]=(0,d.useState)(e),{showAllValidationErrors:l}=(0,U.useDispatch)(K.validationStore),i=function(e){const t=(0,d.useRef)(null),o=(0,d.useRef)(null),r=(0,d.useRef)(e);return(0,d.useEffect)((()=>{r.current=e}),[e]),(0,d.useCallback)((e=>{if(e)t.current=e,o.current=e.ownerDocument.activeElement;else if(o.current){var c,n,s;const e=null===(c=t.current)||void 0===c?void 0:c.contains(null===(n=t.current)||void 0===n?void 0:n.ownerDocument.activeElement);var a;if(null!==(s=t.current)&&void 0!==s&&s.isConnected&&!e&&(null!==(a=cc)&&void 0!==a||(cc=o.current)),r.current)r.current();else{var l;const e=o.current;null===(l=null!=e&&e.isConnected?e:cc)||void 0===l||l.focus()}cc=null}}),[])}(),{hasValidationErrors:m,isCustomerDataUpdating:u}=(0,U.useSelect)((e=>({hasValidationErrors:e(K.validationStore).hasValidationErrors,isCustomerDataUpdating:e(K.cartStore).isCustomerDataUpdating()})));return(0,r.createElement)("form",{className:"wc-block-components-shipping-calculator-address",ref:i},(0,r.createElement)(Pc,{fields:n,onChange:a,values:s}),(0,r.createElement)(zr,{className:"wc-block-components-shipping-calculator-address__button",disabled:u,variant:"outlined",onClick:r=>{if(r.preventDefault(),qe()(s,e))return o();if(l(),!m()){const e={};return n.forEach((t=>{void 0!==s[t]&&(e[t]=s[t])})),t(e)}},type:"submit"},(0,c.__)("Check delivery options","woocommerce")))},xc=(0,d.createContext)({shippingCalculatorID:"",showCalculator:!1,isShippingCalculatorOpen:!1,setIsShippingCalculatorOpen:()=>{}}),Ic=({onUpdate:e=()=>{},onCancel:t=()=>{},addressFields:o=["country","state","city","postcode"]})=>{const{shippingCalculatorID:c,showCalculator:n,setIsShippingCalculatorOpen:s}=(0,d.useContext)(xc),{shippingAddress:a}=rc(),l="wc/cart/shipping-calculator",i=(0,d.useCallback)((()=>{s(!1),t()}),[s,t]),m=(0,d.useCallback)((t=>{(0,U.dispatch)(K.cartStore).updateCustomerData({shipping_address:t},!1).then((()=>{(e=>{const{removeNotice:t}=(0,U.dispatch)(mt.store),{getNotices:o}=(0,U.select)(mt.store);o(e).forEach((o=>{t(o.id,e)}))})(l),s(!1),e(t)})).catch((e=>{(0,K.processErrorResponse)(e,l)}))}),[e,s]);return n?(0,r.createElement)("div",{className:"wc-block-components-shipping-calculator",id:c},(0,r.createElement)(Ut.StoreNoticesContainer,{context:l}),(0,r.createElement)(Ac,{address:a,addressFields:o,onCancel:i,onUpdate:m})):null},Rc=({title:e})=>{const{isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o}=(0,d.useContext)(xc);return(0,r.createElement)(Ut.Panel,{className:"wc-block-components-totals-shipping-panel",initialOpen:!1,hasBorder:!1,title:e,state:[t,o]},(0,r.createElement)(Ic,null))},Bc=e=>{const t=(e=>(0,p.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.total_shipping,10)+parseInt(e.total_shipping_tax,10):parseInt(e.total_shipping,10))(e);return 0===t?(0,r.createElement)("strong",null,(0,c.__)("Free","woocommerce")):t},Tc=()=>{const{shippingRates:e,shippingAddress:t}=Oe(),o=(0,U.useSelect)((e=>e(K.checkoutStore).prefersCollection())),n=Ve(e),{showCalculator:s}=(0,d.useContext)(xc),a=o?(e=>{const t=(e||[]).flatMap((e=>e.shipping_rates)).find((e=>e.selected&&Fe(e)));if((0,he.isObject)(t)&&(0,he.objectHasProp)(t,"meta_data")){const e=t.meta_data.find((e=>"pickup_address"===e.key));if((0,he.isObject)(e)&&(0,he.objectHasProp)(e,"value")&&e.value)return e.value}return""})(e):(e=>{if(0===Object.values(e).length)return null;const t=(0,he.isString)(L[e.country])?(0,be.decodeEntities)(L[e.country]):"",o=(0,he.isObject)(F[e.country])&&(0,he.isString)(F[e.country][e.state])?(0,be.decodeEntities)(F[e.country][e.state]):e.state,r=[];return r.push(e.postcode.toUpperCase()),r.push(e.city),r.push(o),r.push(t),r.filter(Boolean).join(", ")||null})(t),l=n?
// Translators: <address/> is the formatted shipping address.
// Translators: <address/> is the formatted shipping address.
(0,c.__)("Delivers to <address/>","woocommerce"):
// Translators: <address/> is the formatted shipping address.
// Translators: <address/> is the formatted shipping address.
(0,c.__)("No delivery options available for <address/>","woocommerce"),i=((e,t=[])=>{if(!e.country)return!1;const o=ye($,p.defaultFields,e.country);return(t.length>0?o.filter((({key:e})=>t.includes(e))):o).every((({key:t,hidden:o,required:r})=>!(!o&&r)||fe(t,e)&&""!==e[t]))})(t,["state","city","country","postcode"]),m=(0,p.getSetting)("shippingCostRequiresAddress",!1)&&!i,u=o?
// Translators: <address/> is the pickup location.
// Translators: <address/> is the pickup location.
(0,c.__)("Collection from <address/>","woocommerce"):l,h=(0,r.createElement)("p",{className:"wc-block-components-totals-shipping-address-summary"},a&&!m?(0,d.createInterpolateElement)(u,{address:(0,r.createElement)("strong",null,a)}):(0,r.createElement)(r.Fragment,null,(0,c.__)("Enter address to check delivery options","woocommerce")));return(0,r.createElement)("div",{className:"wc-block-components-shipping-address"},s&&(0,r.createElement)(Rc,{title:h}))};o(780);const Mc=({label:e=(0,c.__)("Shipping","woocommerce"),placeholder:t=null,collaterals:o=null})=>{const{cartTotals:n,shippingRates:s}=Oe(),a=Ve(s);return(0,r.createElement)("div",{className:"wc-block-components-totals-shipping"},(0,r.createElement)(Ut.TotalsItem,{label:e,value:a?Bc(n):t,description:(0,r.createElement)(r.Fragment,null,!!a&&(0,r.createElement)(oc,null),(0,r.createElement)(Tc,null),o&&(0,r.createElement)("div",{className:"wc-block-components-totals-shipping__collaterals"},o)),currency:(0,Wt.getCurrencyFromPriceResponse)(n)}))},Oc=()=>{const{extensions:e,receiveCart:t,...o}=Oe(),c={extensions:e,cart:o,context:"woocommerce/cart"};return(0,r.createElement)(Nt.ExperimentalOrderMeta.Slot,{...c})},Dc=JSON.parse('{"xY":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"uK":{"lock":{"type":"object","default":{"remove":true,"move":true}}}}'),Lc=[{attributes:Dc.uK,save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null)),supports:Dc.xY,migrate:({attributes:e})=>[e,[(0,m.createBlock)("woocommerce/cart-order-summary-heading-block",{content:(0,c.__)("Cart totals","woocommerce")},[]),(0,m.createBlock)("woocommerce/cart-order-summary-coupon-form-block",{},[]),(0,m.createBlock)("woocommerce/cart-order-summary-totals-block",{},[(0,m.createBlock)("woocommerce/cart-order-summary-subtotal-block",{},[]),(0,m.createBlock)("woocommerce/cart-order-summary-fee-block",{},[]),(0,m.createBlock)("woocommerce/cart-order-summary-discount-block",{},[]),(0,m.createBlock)("woocommerce/cart-order-summary-shipping-block",{},[]),(0,m.createBlock)("woocommerce/cart-order-summary-taxes-block",{},[])])]],isEligible:(e,t)=>!t.some((e=>"woocommerce/cart-order-summary-totals-block"===e.name))}],Fc=Lc;(0,m.registerBlockType)("woocommerce/cart-order-summary-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)(),{cartTotals:o}=Oe(),n=(0,Wt.getCurrencyFromPriceResponse)(o),a=Tt(Nt.innerBlockAreas.CART_ORDER_SUMMARY),l=[["woocommerce/cart-order-summary-heading-block",{content:(0,c.__)("Cart totals","woocommerce")},[]],["woocommerce/cart-order-summary-coupon-form-block",{},[]],["woocommerce/cart-order-summary-totals-block",{},[]]];return Mt({clientId:e,registeredBlocks:a,defaultTemplate:l}),(0,r.createElement)("div",{...t},(0,r.createElement)(s.InnerBlocks,{allowedBlocks:a,template:l}),(0,r.createElement)("div",{className:"wc-block-components-totals-wrapper"},(0,r.createElement)(tc,{currency:n,values:o})),(0,r.createElement)(Oc,null))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null)),deprecated:Fc});const jc=({className:e=""})=>{const{cartTotals:t}=Oe(),o=(0,Wt.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(Ut.TotalsWrapper,{className:e},(0,r.createElement)(Ut.Subtotal,{currency:o,values:t}))};(0,m.registerBlockType)("woocommerce/cart-order-summary-subtotal-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(jc,{className:t}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})}),o(5342),(0,m.registerBlockType)("woocommerce/cart-order-summary-totals-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,s.useBlockProps)(),o=Tt(Nt.innerBlockAreas.CART_ORDER_SUMMARY_TOTALS),c=[["woocommerce/cart-order-summary-subtotal-block",{},[]],["woocommerce/cart-order-summary-fee-block",{},[]],["woocommerce/cart-order-summary-discount-block",{},[]],["woocommerce/cart-order-summary-shipping-block",{},[]],["woocommerce/cart-order-summary-taxes-block",{},[]]];return Mt({clientId:e,registeredBlocks:o,defaultTemplate:c}),(0,r.createElement)("div",{...t},(0,r.createElement)(s.InnerBlocks,{allowedBlocks:o,template:c}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()},(0,r.createElement)(s.InnerBlocks.Content,null))});const Vc=({className:e})=>{const{cartFees:t,cartTotals:o}=Oe(),c=(0,Wt.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(Ut.TotalsWrapper,{className:e},(0,r.createElement)(Ut.TotalsFees,{currency:c,cartFees:t}))};(0,m.registerBlockType)("woocommerce/cart-order-summary-fee-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(Vc,{className:t}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});const $c=()=>{const{extensions:e,receiveCart:t,...o}=Oe(),c={extensions:e,cart:o,context:"woocommerce/cart"};return(0,r.createElement)(Nt.ExperimentalDiscountsMeta.Slot,{...c})},zc=({className:e})=>{const{cartTotals:t,cartCoupons:o}=Oe(),{removeCoupon:c,isRemovingCoupon:n}=Pr("wc/cart"),s=(0,Wt.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ut.TotalsWrapper,{className:e},(0,r.createElement)(ec,{cartCoupons:o,currency:s,isRemovingCoupon:n,removeCoupon:c,values:t})),(0,r.createElement)($c,null))};(0,m.registerBlockType)("woocommerce/cart-order-summary-discount-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(zc,{className:t}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});var qc=o(1208),Hc=(o(9345),o(2900)),Uc=o(2478),Wc=o(8306);const Yc=e=>{switch(e){case"success":case"warning":case"info":case"default":return"polite";default:return"assertive"}},Gc=e=>{switch(e){case"success":return Hc.A;case"warning":case"info":case"error":return Uc.A;default:return Wc.A}},Qc=({className:e,status:t="default",children:o,spokenMessage:s=o,onRemove:a=()=>{},isDismissible:l=!0,politeness:m=Yc(t),summary:u})=>(((e,t)=>{const o="string"==typeof e?e:(0,d.renderToString)(e);(0,d.useEffect)((()=>{o&&(0,zt.speak)(o,t)}),[o,t])})(s,m),(0,r.createElement)("div",{className:(0,n.A)(e,"wc-block-components-notice-banner","is-"+t,{"is-dismissible":l})},(0,r.createElement)(i.A,{icon:Gc(t)}),(0,r.createElement)("div",{className:"wc-block-components-notice-banner__content"},u&&(0,r.createElement)("p",{className:"wc-block-components-notice-banner__summary"},u),o),!!l&&(0,r.createElement)(zr,{className:"wc-block-components-notice-banner__dismiss","aria-label":(0,c.__)("Dismiss this notice","woocommerce"),onClick:e=>{"function"==typeof(null==e?void 0:e.preventDefault)&&e.preventDefault&&e.preventDefault(),a()},removeTextWrap:!0},(0,r.createElement)(i.A,{icon:qc.A})))),Kc=e=>{const t=(0,p.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);let o=(0,r.createElement)(r.Fragment,null,Number.isFinite(t)&&(0,r.createElement)(Ut.FormattedMonetaryAmount,{currency:(0,Wt.getCurrencyFromPriceResponse)(e),value:t}),(0,r.createElement)("span",{className:"wc-block-components-shipping-rates-control__package__delivery_time"},Number.isFinite(t)&&e.delivery_time?" â ":null,(0,be.decodeEntities)(e.delivery_time)));return 0===t&&(o=(0,r.createElement)("span",{className:"wc-block-components-shipping-rates-control__package__description--free"},(0,c.__)("Free","woocommerce"),(0,r.createElement)("span",{className:"wc-block-components-shipping-rates-control__package__delivery_time"},e.delivery_time&&" â "+(0,be.decodeEntities)(e.delivery_time)))),{label:(0,be.decodeEntities)(e.name),value:e.rate_id,description:o}},Zc=({className:e="",noResultsMessage:t,onSelectRate:o,rates:c,renderOption:n=Kc,selectedRate:s,disabled:a=!1,highlightChecked:l=!1})=>{const i=(null==s?void 0:s.rate_id)||"",m=it(i),[u,p]=(0,d.useState)(null!=i?i:"");return(0,d.useEffect)((()=>{i&&i!==m&&i!==u&&p(i)}),[i,u,m]),(0,d.useEffect)((()=>{!u&&c.length>0&&(p(c[0].rate_id),o(c[0].rate_id))}),[o,c,u]),0===c.length?t:(0,r.createElement)(Ut.RadioControl,{className:e,onChange:e=>{p(e),o(e)},highlightChecked:l,disabled:a,selected:u,options:c.map(n)})},Jc=({packageData:e})=>(0,r.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(e.items).map((e=>{const t=(0,be.decodeEntities)(e.name),o=e.quantity;return(0,r.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},(0,r.createElement)(Ut.Label,{label:o>1?`${t} Ã ${o}`:`${t}`,allowHTML:!0,screenReaderLabel:(0,c.sprintf)(/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */ /* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
(0,c._n)("%1$s (%2$d unit)","%1$s (%2$d units)",o,"woocommerce"),t,o)}))})));o(2867);const Xc=({packageId:e,className:t="",noResultsMessage:o,renderOption:c,packageData:s,collapsible:a,showItems:l,highlightChecked:i=!1})=>{var m;const{selectShippingRate:u,isSelectingRate:p}=ot(),h=(0,U.useSelect)((e=>{var t;return null===(t=e(K.cartStore))||void 0===t||null===(t=t.getCartData())||void 0===t||null===(t=t.shippingRates)||void 0===t?void 0:t.length})),[g,_]=(0,d.useState)(0),w=h>1||g>1;(0,d.useEffect)((()=>{const e=()=>{_(document.querySelectorAll(".wc-block-components-shipping-rates-control__package").length)};e();const t=new MutationObserver(e);return t.observe(document.body,{childList:!0,subtree:!0}),()=>{t.disconnect()}}),[]);const k=null!=l?l:w,b=null!=a?a:w,{selectedOptionNumber:E,selectedOption:y}=(0,d.useMemo)((()=>{var e,t;return{selectedOptionNumber:null==s||null===(e=s.shipping_rates)||void 0===e?void 0:e.findIndex((e=>null==e?void 0:e.selected)),selectedOption:null==s||null===(t=s.shipping_rates)||void 0===t?void 0:t.find((e=>null==e?void 0:e.selected))}}),[null==s?void 0:s.shipping_rates]),v=b||k?(0,r.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-header"},(0,r.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:{__html:lo(s.name)}}),b&&(0,r.createElement)("div",{className:"wc-block-components-totals-shipping__via"},(0,be.decodeEntities)(null==y?void 0:y.name)),k&&(0,r.createElement)(Jc,{packageData:s})):null,f=(0,d.useCallback)((t=>{u(t,e)}),[e,u]),S={className:t,noResultsMessage:o,rates:s.shipping_rates,onSelectRate:f,selectedRate:s.shipping_rates.find((e=>e.selected)),renderOption:c,disabled:p,highlightChecked:i};return b?(0,r.createElement)(Ut.Panel,{className:(0,n.A)("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":p}),initialOpen:!1,title:v},(0,r.createElement)(Zc,{...S})):(0,r.createElement)("div",{className:(0,n.A)("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":p,"wc-block-components-shipping-rates-control__package--first-selected":!p&&0===E,"wc-block-components-shipping-rates-control__package--last-selected":!p&&E===(null==s||null===(m=s.shipping_rates)||void 0===m?void 0:m.length)-1})},v,(0,r.createElement)(Zc,{...S}))},en=({packages:e,showItems:t,collapsible:o,noResultsMessage:c,renderOption:n,context:s=""})=>e.length?(0,r.createElement)(r.Fragment,null,e.map((({package_id:e,...a})=>(0,r.createElement)(Xc,{highlightChecked:"woocommerce/cart"!==s,key:e,packageId:e,packageData:a,collapsible:o,showItems:t,noResultsMessage:c,renderOption:n})))):null,tn=({shippingRates:e,isLoadingRates:t,className:o,collapsible:n,showItems:s,noResultsMessage:a=(0,r.createElement)(r.Fragment,null),renderOption:l,context:i})=>{const m=(e=>e.reduce((function(e,t){return e+t.shipping_rates.length}),0))(e),u=De(e),p=it(m),h=it(u);(0,d.useEffect)((()=>{var e,o;t||p===m&&h===u||(o=m,1===(e=u)?(0,zt.speak)((0,c.sprintf)(/* translators: %d number of shipping options found. */ /* translators: %d number of shipping options found. */
(0,c._n)("%d shipping option was found.","%d shipping options were found.",o,"woocommerce"),o)):(0,zt.speak)((0,c.sprintf)(/* translators: %d number of shipping packages packages. */ /* translators: %d number of shipping packages packages. */
(0,c._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",e,"woocommerce"),e)+" "+(0,c.sprintf)(/* translators: %d number of shipping options available. */ /* translators: %d number of shipping options available. */
(0,c._n)("%d shipping option was found","%d shipping options were found",o,"woocommerce"),o)))}),[t,m,u,p,h]);const{extensions:g,receiveCart:_,...w}=Oe(),k={className:o,collapsible:n,showItems:s,noResultsMessage:a,renderOption:l,extensions:g,cart:w,components:{ShippingRatesControlPackage:Xc},context:i},{isEditor:b}=Y(),{hasSelectedLocalPickup:E,selectedRates:y}=ot(),v=(0,he.isObject)(y)?Object.values(y):[],f=v.every((e=>e===v[0]));return(0,r.createElement)(_r,{isLoading:t,screenReaderLabel:(0,c.__)("Loading shipping ratesâ¦","woocommerce"),showSpinner:!0},E&&"woocommerce/cart"===i&&e.length>1&&!f&&!b&&(0,r.createElement)(Qc,{className:"wc-block-components-notice",isDismissible:!1,status:"warning"},(0,c.__)("Multiple shipments must have the same pickup location","woocommerce")),(0,r.createElement)(Nt.ExperimentalOrderShippingPackages.Slot,{...k}),(0,r.createElement)(Nt.ExperimentalOrderShippingPackages,null,(0,r.createElement)(en,{packages:e,noResultsMessage:a,renderOption:l})))},on=()=>{const{shippingRates:e,isLoadingRates:t}=Oe();return(0,r.createElement)("fieldset",{className:"wc-block-components-totals-shipping__fieldset"},(0,r.createElement)("legend",{className:"screen-reader-text"},(0,c.__)("Shipping options","woocommerce")),(0,r.createElement)(tn,{className:"wc-block-components-totals-shipping__options",shippingRates:e,isLoadingRates:t,context:"woocommerce/cart"}))},rn=({className:e})=>{const{isEditor:t}=Y(),{cartNeedsShipping:o,shippingRates:n}=Oe(),[s,a]=(0,d.useState)(!1);if(!o)return null;if(t&&0===De(n))return null;const l=(0,p.getSetting)("isShippingCalculatorEnabled",!0)&&R,i=(e=>!!Ve(e)&&e.every((e=>e.shipping_rates.every((e=>!e.selected||Fe(e))))))(n);return(0,r.createElement)(Nt.TotalsWrapper,{className:e},(0,r.createElement)(xc.Provider,{value:{showCalculator:l,shippingCalculatorID:"shipping-calculator-form-wrapper",isShippingCalculatorOpen:s,setIsShippingCalculatorOpen:a}},(0,r.createElement)(Mc,{label:i?(0,c.__)("Pickup","woocommerce"):(0,c.__)("Delivery","woocommerce"),placeholder:l?null:(0,r.createElement)("span",{className:"wc-block-components-shipping-placeholder__value"},(0,c.__)("Calculated at checkout","woocommerce")),collaterals:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(on,null),!l&&$e(n)&&(0,r.createElement)("div",{className:"wc-block-components-totals-shipping__delivery-options-notice"},(0,c.__)("Delivery options will be calculated during checkout","woocommerce")))})))};(0,m.registerBlockType)("woocommerce/cart-order-summary-shipping-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(s.InspectorControls,null,!!B&&(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Shipping Calculations","woocommerce")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,c.__)("Options that control shipping can be managed in your store settings.","woocommerce")),(0,r.createElement)(No.ExternalLink,{href:`${p.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=options`},(0,c.__)("Manage shipping options","woocommerce"))," ")),(0,r.createElement)($t,null,(0,r.createElement)(rn,{className:t})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});var cn=o(8848);const nn=({className:e})=>{const t=(0,p.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:c}=Pr("wc/cart");return t?(0,r.createElement)(Ut.TotalsWrapper,{className:e},(0,r.createElement)(Jr,{onSubmit:o,isLoading:c,instanceId:"coupon"})):null};(0,m.registerBlockType)("woocommerce/cart-order-summary-coupon-form-block",{icon:{src:(0,r.createElement)(i.A,{icon:cn.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,s.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)($t,null,(0,r.createElement)(nn,{className:t})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})});const sn=({className:e,showRateAfterTaxName:t})=>{const{cartTotals:o}=Oe();if((0,p.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const c=(0,Wt.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(Ut.TotalsWrapper,{className:e},(0,r.createElement)(Ut.TotalsTaxes,{showRateAfterTaxName:t,currency:c,values:o}))},an={showRateAfterTaxName:{type:"boolean",default:(0,p.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}};(0,m.registerBlockType)("woocommerce/cart-order-summary-taxes-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},attributes:an,edit:({attributes:e,setAttributes:t})=>{const{className:o,showRateAfterTaxName:n}=e,a=(0,s.useBlockProps)(),l=(0,p.getSetting)("taxesEnabled"),i=(0,p.getSetting)("displayItemizedTaxes",!1),m=(0,p.getSetting)("displayCartPricesIncludingTax",!1);return(0,r.createElement)("div",{...a},(0,r.createElement)(s.InspectorControls,null,l&&i&&!m&&(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Taxes","woocommerce")},(0,r.createElement)(No.ToggleControl,{label:(0,c.__)("Show rate after tax name","woocommerce"),help:(0,c.__)("Show the percentage rate alongside each tax line in the summary.","woocommerce"),checked:n,onChange:()=>t({showRateAfterTaxName:!n})}))),(0,r.createElement)(sn,{className:o,showRateAfterTaxName:n}))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})}),o(5966),(0,m.registerBlockType)("woocommerce/cart-order-summary-heading-block",{icon:{src:(0,r.createElement)(i.A,{icon:Zr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{content:o="",className:c=""}=e,a=(0,s.useBlockProps)();return(0,r.createElement)("div",{...a},(0,r.createElement)("h2",{className:(0,n.A)(c,"wc-block-cart__totals-title")},(0,r.createElement)(s.PlainText,{className:"",value:o,onChange:e=>t({content:e}),style:{backgroundColor:"transparent"}})))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save()})}),o(2838);const ln=(e,t=!0)=>{t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},mn=({attributes:e,setAttributes:t})=>{const{hasDarkControls:o,showFormStepNumbers:n}=e;return(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(No.PanelBody,{title:(0,c.__)("Style","woocommerce")},(0,r.createElement)(No.ToggleControl,{label:(0,c.__)("Show form step numbers","woocommerce"),checked:n,onChange:()=>t({showFormStepNumbers:!n})}),(0,r.createElement)(No.ToggleControl,{label:(0,c.__)("Dark mode inputs","woocommerce"),help:(0,c.__)("Inputs styled specifically for use on dark background colors.","woocommerce"),checked:o,onChange:()=>t({hasDarkControls:!o})})))},un=window.wp.editor,dn=window.wp.coreData;function pn({block:e}){const t="checkout"===e?P:A,o="checkout"===e?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",{saveEntityRecord:n}=(0,U.useDispatch)(dn.store),{editPost:s,savePost:a}=(0,U.useDispatch)(un.store),{slug:l,postPublished:i,currentPostId:m}=(0,U.useSelect)((o=>{var r;const{getEntityRecord:c}=o(dn.store),{isCurrentPostPublished:n,getCurrentPostId:s}=o(un.store);return{slug:(null===(r=c("postType","page",t))||void 0===r?void 0:r.slug)||e,postPublished:n(),currentPostId:s()}}),[]),[u,p]=(0,d.useState)("pristine"),h=(0,d.useCallback)((()=>{p("updating"),Promise.resolve().then((()=>bt()({path:`/wc/v3/settings/advanced/${o}`,method:"GET"}))).catch((e=>{"rest_setting_setting_invalid"===e.code&&p("error")})).then((()=>{if(!i)return s({status:"publish"}),a()})).then((()=>bt()({path:`/wc/v3/settings/advanced/${o}`,method:"POST",data:{value:m.toString()}}))).then((()=>{if(0!==t)return n("postType","page",{id:t,slug:`${l}-2`})})).then((()=>s({slug:l}))).then((()=>a())).then((()=>p("updated")))}),[i,s,a,o,m,t,n,l]);let g;return g="checkout"===e?(0,d.createInterpolateElement)((0,c.__)("If you would like to use this block as your default checkout, <a>update your page settings</a>.","woocommerce"),{a:(0,r.createElement)("a",{href:"#",onClick:h},(0,c.__)("update your page settings","woocommerce"))}):(0,d.createInterpolateElement)((0,c.__)("If you would like to use this block as your default cart, <a>update your page settings</a>.","woocommerce"),{a:(0,r.createElement)("a",{href:"#",onClick:h},(0,c.__)("update your page settings","woocommerce"))}),"string"==typeof pagenow&&"site-editor"===pagenow||m===t||"dismissed"===u?null:(0,r.createElement)(No.Notice,{className:"wc-default-page-notice",status:"updated"===u?"success":"info",onRemove:()=>p("dismissed"),spokenMessage:"updated"===u?(0,c.__)("Page settings updated","woocommerce"):g},"updated"===u?(0,c.__)("Page settings updated","woocommerce"):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,g)))}o(4688);const hn=[],gn=e=>{const[t,o,r]=(()=>{const e={};(0,p.getSetting)("incompatibleExtensions")&&(0,p.getSetting)("incompatibleExtensions").forEach((t=>{e[t.id]=t.title}));const t=Object.keys(e),o=t.length;return[e,t,o]})(),[c,n,s]=(()=>{const{incompatiblePaymentMethods:e}=(0,U.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e(K.paymentStore);return{incompatiblePaymentMethods:t()}}),[]),t=Object.keys(e);return[e,t,t.length]})(),a={...t,...c},l=[...o,...n],i=r+s,[m,u]=((e,t)=>{const[o,r]=(0,d.useState)((()=>{const o=window.localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t}));return(0,d.useEffect)((()=>{try{window.localStorage.setItem(e,JSON.stringify(o))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}}),[e,o]),[o,r]})("wc-blocks_dismissed_incompatible_extensions_notices",hn),[h,g]=(0,d.useState)(!1),_=m.some((t=>{return Object.keys(t).includes(e)&&(o=t[e],r=l,o.length===r.length&&new Set([...o,...r]).size===o.length);var o,r})),w=0===i||_;return(0,d.useEffect)((()=>{g(!w),w||_||u((t=>t.reduce(((t,o)=>(Object.keys(o).includes(e)||t.push(o),t)),[])))}),[w,_,u,e]),[h,()=>{const t=new Set(m);t.add({[e]:l}),u([...t])},(k=a,Object.fromEntries(Object.entries(k).sort((([,e],[,t])=>e.localeCompare(t))))),i];var k};var wn=o(4922),kn=o.n(wn);kn()("wc-admin:tracks:stats");const bn=kn()("wc-admin:tracks");function En(e,t){if(bn("recordevent %s %o","wcadmin_"+e,t,{_tqk:window._tkq,shouldRecord:!!window._tkq&&!!window.wcTracks&&!!window.wcTracks.isEnabled}),!window.wcTracks||"function"!=typeof window.wcTracks.recordEvent)return!1;window.wcTracks.recordEvent(e,t)}const yn=({blocks:e,findCondition:t})=>{for(const o of e){if(t(o))return o;if(o.innerBlocks){const e=yn({blocks:o.innerBlocks,findCondition:t});if(e)return e}}},vn=({blockType:e="woocommerce/cart"})=>"woocommerce/cart"===e?(0,r.createElement)("p",null,(0,c.__)("If you continue, the cart block will be replaced with the classic experience powered by shortcodes. This means that you may lose customizations that you made to the cart block.","woocommerce")):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,(0,c.__)("If you continue, the checkout block will be replaced with the classic experience powered by shortcodes. This means that you may lose:","woocommerce")),(0,r.createElement)("ul",{className:"cross-list"},(0,r.createElement)("li",null,(0,c.__)("Customizations and updates to the block","woocommerce")),(0,r.createElement)("li",null,(0,c.__)("Additional local pickup options created for the new checkout","woocommerce"))));function fn({block:e,clientId:t,type:o}){const{createInfoNotice:n}=(0,U.useDispatch)(mt.store),{replaceBlock:a,selectBlock:l}=(0,U.useDispatch)(s.store),[i,u]=(0,d.useState)(!1),p=()=>u(!1),{undo:h}=(0,U.useDispatch)(dn.store),[,,g,_]=gn(e),w="woocommerce/cart"===e,k=w?(0,c.__)("Switch to classic cart","woocommerce"):(0,c.__)("Switch to classic checkout","woocommerce"),b=w?(0,c.__)("Switched to classic cart.","woocommerce"):(0,c.__)("Switched to classic checkout.","woocommerce"),E=w?"cart":"checkout",y={shortcode:E,notice:"incompatible"===o?"incompatible_notice":"generic_notice",incompatible_extensions_count:_,incompatible_extensions_names:JSON.stringify(g)},{getBlocks:v}=(0,U.useSelect)((e=>({getBlocks:e(s.store).getBlocks})),[]),f=()=>{h(),En("switch_to_classic_shortcode_undo",y)};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(No.Button,{variant:"secondary",onClick:()=>{En("switch_to_classic_shortcode_click",y),u(!0)}},k),i&&(0,r.createElement)(No.Modal,{size:"medium",title:k,onRequestClose:p,className:"wc-blocks-switch-to-classic-shortcode-modal-content"},(0,r.createElement)(vn,{blockType:e}),(0,r.createElement)(No.TabbableContainer,{className:"wc-blocks-switch-to-classic-shortcode-modal-actions"},(0,r.createElement)(No.Button,{variant:"primary",isDestructive:!0,onClick:()=>{a(t,(0,m.createBlock)("woocommerce/classic-shortcode",{shortcode:E})),En("switch_to_classic_shortcode_confirm",y),(()=>{const e=yn({blocks:v(),findCondition:e=>"woocommerce/classic-shortcode"===e.name});e&&l(e.clientId)})(),n(b,{actions:[{label:(0,c.__)("Undo","woocommerce"),onClick:f}],type:"snackbar"}),p()}},(0,c.__)("Switch","woocommerce"))," ",(0,r.createElement)(No.Button,{variant:"secondary",onClick:()=>{En("switch_to_classic_shortcode_cancel",y),p()}},(0,c.__)("Cancel","woocommerce")))))}function Sn({block:e,clientId:t}){const[o,n,s,a]=gn(e);if(!o)return null;const l=(0,r.createElement)(r.Fragment,null,a>1?(0,d.createInterpolateElement)((0,c.__)("Some active extensions do not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),{a:(0,r.createElement)(No.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})}):(0,d.createInterpolateElement)((0,c.sprintf)(
// translators: %s is the name of the extension.
// translators: %s is the name of the extension.
(0,c.__)("<strong>%s</strong> does not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),Object.values(s)[0]),{strong:(0,r.createElement)("strong",null),a:(0,r.createElement)(No.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})})),m=Object.entries(s),u=m.length-2;return(0,r.createElement)(No.Notice,{className:"wc-blocks-incompatible-extensions-notice",status:"warning",onRemove:n,spokenMessage:l},(0,r.createElement)("div",{className:"wc-blocks-incompatible-extensions-notice__content"},(0,r.createElement)(i.A,{className:"wc-blocks-incompatible-extensions-notice__warning-icon",icon:(0,r.createElement)(ar,null)}),(0,r.createElement)("div",null,(0,r.createElement)("p",null,l),a>1&&(0,r.createElement)("ul",null,m.slice(0,2).map((([e,t])=>(0,r.createElement)("li",{key:e,className:"wc-blocks-incompatible-extensions-notice__element"},t)))),m.length>2&&(0,r.createElement)("details",null,(0,r.createElement)("summary",null,(0,r.createElement)("span",null,(0,c.sprintf)(
// translators: %s is the number of incompatible extensions.
// translators: %s is the number of incompatible extensions.
(0,c._n)("%s more incompatibility","%s more incompatibilities",u,"woocommerce"),u)),(0,r.createElement)(i.A,{icon:nc.A})),(0,r.createElement)("ul",null,m.slice(2).map((([e,t])=>(0,r.createElement)("li",{key:e,className:"wc-blocks-incompatible-extensions-notice__element"},t))))),(0,r.createElement)(fn,{block:e,clientId:t,type:"incompatible"}))))}o(7840),o(1212);var Cn=o(361);o(1598);const Nn=({text:e,title:t=(0,c.__)("Feedback?","woocommerce"),url:o})=>{const[n,s]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{s(!0)}),[]),(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)("div",{className:"wc-block-feedback-prompt"},(0,r.createElement)(i.A,{icon:Cn.A}),(0,r.createElement)("h2",{className:"wc-block-feedback-prompt__title"},t),(0,r.createElement)("p",{className:"wc-block-feedback-prompt__text"},e),(0,r.createElement)("a",{href:o,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},(0,c.__)("Give us your feedback.","woocommerce"),(0,r.createElement)(i.A,{icon:nr.A,size:16}))))},Pn=()=>(0,r.createElement)(Nn,{text:(0,c.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woocommerce"),url:"https://github.com/woocommerce/woocommerce/discussions/new?category=checkout-flow&labels=type%3A+product%20feedback"}),An=(0,At.createHigherOrderComponent)((e=>t=>{const{clientId:o,name:c,isSelected:n}=t,{isCart:a,isCheckout:l,parentId:i}=(0,U.useSelect)((e=>{const{getBlockParentsByBlockName:t,getBlockName:r}=e(s.store),c=t(o,["woocommerce/cart","woocommerce/checkout"]).reduce(((e,t)=>(e[r(t)]=t,e)),{}),n=r(o),a=Object.keys(c).includes("woocommerce/cart"),l=Object.keys(c).includes("woocommerce/checkout"),i="woocommerce/cart"===n||a,m=i?"woocommerce/cart":"woocommerce/checkout";return{isCart:i,isCheckout:"woocommerce/checkout"===n||l,parentId:n===m?o:c[m]}}));return c.startsWith("woocommerce/")&&n&&(a||l)?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(Sn,{block:a?"woocommerce/cart":"woocommerce/checkout",clientId:i}),(0,r.createElement)(pn,{block:l?"checkout":"cart"}),(0,r.createElement)(Pn,null)),(0,r.createElement)(e,{key:"edit",...t})):(0,r.createElement)(e,{key:"edit",...t})}),"withSidebarNotices");(0,et.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||(0,et.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",An,11);const xn=(0,r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.createElement)("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"})),In=(e,t,o=!0)=>{const{updateBlockAttributes:r,selectBlock:c}=(0,U.dispatch)("core/block-editor");var n;r(e,{currentView:t}),o&&c((null===(n=(0,U.select)("core/block-editor").getBlock(e))||void 0===n||null===(n=n.innerBlocks.find((e=>e.name===t)))||void 0===n?void 0:n.clientId)||e)},Rn={views:[],currentView:"",viewClientId:""},Bn=(e,t=10,o=0)=>{const r=o+1;if(r>t)return Rn;const{getBlockAttributes:c,getBlockRootClientId:n}=(0,U.select)("core/block-editor"),s=n(e);if(null===s||""===s)return Rn;const a=c(s);return a?void 0!==a.editorViews?{views:a.editorViews,currentView:a.currentView||a.editorViews[0].view,viewClientId:s}:Bn(s,t,r):Rn},Tn=({currentView:e,views:t,clientId:o})=>{const{getBlockName:n,getSelectedBlockClientId:a,getBlockParentsByBlockName:l}=(0,U.useSelect)((e=>{const t=e("core/block-editor");return{getBlockName:t.getBlockName,getSelectedBlockClientId:t.getSelectedBlockClientId,getBlockParentsByBlockName:t.getBlockParentsByBlockName}}),[]),m=a(),u=((e,t)=>t.find((t=>t.view===e)))(e,t)||t[0],p=u.label;return(0,d.useLayoutEffect)((()=>{const r=m?n(m):null;if(!r||e===r)return;const c=t.map((e=>e.view));if(c.includes(r))return void In(o,r);const s=l(m,c),a=1===s.length?n(s[0]):null;a&&e!==a&&In(o,a,!1)}),[o,e,n,l,m,t]),(0,r.createElement)(s.BlockControls,null,(0,r.createElement)(No.ToolbarGroup,null,(0,r.createElement)(No.ToolbarDropdownMenu,{label:(0,c.__)("Switch view","woocommerce"),text:p,icon:(0,r.createElement)(i.A,{icon:xn,style:{marginRight:"8px"}}),controls:t.map((t=>({...t,title:(0,r.createElement)("span",{style:{marginLeft:"8px"}},t.label),isActive:t.view===e,onClick:()=>{In(o,t.view)}})))})))};(0,et.hasFilter)("editor.BlockEdit","woocommerce/with-view-switcher")||(0,et.addFilter)("editor.BlockEdit","woocommerce/with-view-switcher",(e=>t=>{const{clientId:o}=t,{views:c,currentView:n,viewClientId:s}=(0,U.useSelect)((e=>{const t=e("core/block-editor").getBlockAttributes(o);return null!=t&&t.editorViews?{views:t.editorViews,currentView:t.currentView,viewClientId:o}:Bn(o)}));return 0===c.length?(0,r.createElement)(e,{...t}):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Tn,{currentView:n,views:c,clientId:s}),(0,r.createElement)(e,{...t}))}),11),(0,et.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||(0,U.subscribe)((()=>{var e,t;const o=(0,U.select)(s.store);if(!o)return;const r=o.getSelectedBlock();r&&(ln("wc-lock-selected-block--remove",!(null==r||null===(e=r.attributes)||void 0===e||null===(e=e.lock)||void 0===e||!e.remove)),ln("wc-lock-selected-block--move",!(null==r||null===(t=r.attributes)||void 0===t||null===(t=t.lock)||void 0===t||!t.move)))}));const Mn=["woocommerce/filled-cart-block","woocommerce/empty-cart-block"];o(2584);const On={isPreview:{type:"boolean",default:!1},currentView:{type:"string",default:"woocommerce/filled-cart-block",source:"readonly"},editorViews:{type:"object",default:[{view:"woocommerce/filled-cart-block",label:(0,c.__)("Filled Cart","woocommerce"),icon:(0,r.createElement)(i.A,{icon:Pt})},{view:"woocommerce/empty-cart-block",label:(0,c.__)("Empty Cart","woocommerce"),icon:(0,r.createElement)(i.A,{icon:Wr})}]},hasDarkControls:{type:"boolean",default:(0,p.getSetting)("hasDarkEditorStyleSupport",!1)},isShippingCalculatorEnabled:{type:"boolean",default:(0,p.getSetting)("isShippingCalculatorEnabled",!0)},checkoutPageId:{type:"number",default:0},showRateAfterTaxName:{type:"boolean",default:!0},align:{type:"string",default:"wide"}},Dn={title:(0,c.__)("Cart","woocommerce"),apiVersion:3,icon:{src:(0,r.createElement)(i.A,{icon:l,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,c.__)("WooCommerce","woocommerce")],description:(0,c.__)("Shopping cart.","woocommerce"),supports:{align:["wide"],html:!1,multiple:!1},example:{attributes:{isPreview:!0},viewportWidth:800},attributes:On,edit:({clientId:e,className:t,attributes:o,setAttributes:a})=>{const{hasDarkControls:l,currentView:i,isPreview:u=!1}=o,p=((e={})=>{const t=(0,d.useRef)(),o=(0,s.useBlockProps)({ref:t,...e});return(({ref:e})=>{const t=(0,et.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),o=e.current;(0,d.useEffect)((()=>{if(o&&!t)return o.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{o.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:o}=e;if(!(o instanceof HTMLElement))return;if(t!==qt.BACKSPACE&&t!==qt.DELETE)return;if((0,Ft.isTextField)(o))return;const r=o;if(void 0===r.dataset.block)return;const c=(e=>{var t,o;if(!e)return!1;const{getBlock:r}=(0,U.select)(s.store),c=r(e);if("boolean"==typeof(null==c||null===(t=c.attributes)||void 0===t||null===(t=t.lock)||void 0===t?void 0:t.remove))return c.attributes.lock.remove;const n=(0,m.getBlockType)(c.name);var a;return"boolean"==typeof(null==n||null===(o=n.attributes)||void 0===o||null===(o=o.lock)||void 0===o||null===(o=o.default)||void 0===o?void 0:o.remove)&&(null==n||null===(a=n.attributes)||void 0===a||null===(a=a.lock)||void 0===a||null===(a=a.default)||void 0===a?void 0:a.remove)})(r.dataset.block);c&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}}),[o,t])})({ref:t}),o})({className:(0,n.A)(t,"wp-block-woocommerce-cart",{"is-editor-preview":u})}),h=(0,d.useRef)((0,ve.getQueryArg)(window.location.href,"focus"));return(0,d.useEffect)((()=>{"cart"!==h.current||(0,U.select)("core/block-editor").hasSelectedBlock()||((0,U.dispatch)("core/block-editor").selectBlock(e),(0,U.dispatch)("core/interface").enableComplementaryArea("core/edit-site","edit-site/block-inspector"))}),[e]),(0,r.createElement)("div",{...p},(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(mn,{attributes:o,setAttributes:a})),(0,r.createElement)(H,{header:(0,c.__)("Cart Block Error","woocommerce"),text:(0,c.__)("There was an error whilst rendering the cart block. If this problem continues, try re-creating the block.","woocommerce"),showErrorMessage:!0,errorMessagePrefix:(0,c.__)("Error message:","woocommerce")},(0,r.createElement)(G,{previewData:{previewCart:Xe},currentView:i,isPreview:!!u},(0,r.createElement)(Ot.Provider,{value:{hasDarkControls:l}},(0,r.createElement)(Nt.SlotFillProvider,null,(0,r.createElement)(Ct,null,(0,r.createElement)(s.InnerBlocks,{allowedBlocks:Mn,template:[["woocommerce/filled-cart-block",{},[]],["woocommerce/empty-cart-block",{},[]]],templateLock:"insert"})))))))},save:()=>(0,r.createElement)("div",{...s.useBlockProps.save({className:"is-loading"})},(0,r.createElement)(s.InnerBlocks.Content,null)),transforms:{to:[{type:"block",blocks:["woocommerce/classic-shortcode"],transform:e=>(0,m.createBlock)("woocommerce/classic-shortcode",{shortcode:"cart",align:e.align},[])}]},deprecated:[{attributes:On,save:({attributes:e})=>(0,r.createElement)("div",{className:(0,n.A)("is-loading",e.className)},(0,r.createElement)(s.InnerBlocks.Content,null)),migrate:(e,t)=>{const{checkoutPageId:o,align:r}=e;return[e,[(0,m.createBlock)("woocommerce/filled-cart-block",{align:r},[(0,m.createBlock)("woocommerce/cart-items-block"),(0,m.createBlock)("woocommerce/cart-totals-block",{},[(0,m.createBlock)("woocommerce/cart-order-summary-block",{}),(0,m.createBlock)("woocommerce/cart-express-payment-block"),(0,m.createBlock)("woocommerce/proceed-to-checkout-block",{checkoutPageId:o}),(0,m.createBlock)("woocommerce/cart-accepted-payment-methods-block")])]),(0,m.createBlock)("woocommerce/empty-cart-block",{align:r},t)]]},isEligible:(e,t)=>!t.find((e=>"woocommerce/filled-cart-block"===e.name))}]};(0,m.registerBlockType)("woocommerce/cart",Dn)},1546:()=>{},5183:()=>{},7195:()=>{},6007:()=>{},7128:()=>{},9407:()=>{},2080:()=>{},1045:()=>{},5684:()=>{},4957:()=>{},777:()=>{},9507:()=>{},4982:()=>{},401:()=>{},7051:()=>{},2867:()=>{},3048:()=>{},265:()=>{},7919:()=>{},780:()=>{},2931:()=>{},8375:()=>{},9345:()=>{},6625:()=>{},4567:()=>{},5193:()=>{},5452:()=>{},1221:()=>{},8824:()=>{},9569:()=>{},2838:()=>{},9085:()=>{},5049:()=>{},5913:()=>{},5966:()=>{},5342:()=>{},6229:()=>{},6611:()=>{},1876:()=>{},6080:()=>{},2584:()=>{},4688:()=>{},9705:()=>{},1598:()=>{},1212:()=>{},7840:()=>{},7791:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},195:e=>{"use strict";e.exports=window.wp.a11y},9491:e=>{"use strict";e.exports=window.wp.compose},4040:e=>{"use strict";e.exports=window.wp.deprecated},8107:e=>{"use strict";e.exports=window.wp.dom},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},8558:e=>{"use strict";e.exports=window.wp.keycodes},5573:e=>{"use strict";e.exports=window.wp.primitives}},c={};function n(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return r[e].call(o.exports,o,o.exports,n),o.exports}n.m=r,e=[],n.O=(t,o,r,c)=>{if(!o){var s=1/0;for(m=0;m<e.length;m++){for(var[o,r,c]=e[m],a=!0,l=0;l<o.length;l++)(!1&c||s>=c)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(a=!1,c<s&&(s=c));if(a){e.splice(m--,1);var i=r();void 0!==i&&(t=i)}}return t}c=c||0;for(var m=e.length;m>0&&e[m-1][2]>c;m--)e[m]=e[m-1];e[m]=[o,r,c]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var c=Object.create(null);n.r(c);var s={};t=t||[null,o({}),o([]),o(o)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,n.d(c,s),c},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=7949,(()=>{var e={7949:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,c,[s,a,l]=o,i=0;if(s.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var m=l(n)}for(t&&t(o);i<s.length;i++)c=s[i],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return n.O(m)},o=self.webpackChunkwebpackWcBlocksMainJsonp=self.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[94],(()=>n(88)));s=n.O(s),((this.wc=this.wc||{}).blocks=this.wc.blocks||{}).cart=s})();
>>>>>>> b1eea7a (Merged existing code from https://dev-vices.rafaeldeveloper.co)
