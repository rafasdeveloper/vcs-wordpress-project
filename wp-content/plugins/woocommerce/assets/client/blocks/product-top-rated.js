<<<<<<< HEAD
(()=>{var e,t,r,o={9973:(e,t,r)=>{"use strict";var o=r(7723);const s=window.wp.blocks;var i=r(5573),c=r(790);const n=(0,c.jsxs)(i.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",children:[(0,c.jsx)("path",{opacity:".87",fill:"none",d:"M0 0h24v24H0V0z"}),(0,c.jsx)("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4l-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"})]});var l=r(4530);const a=JSON.parse('{"name":"woocommerce/product-top-rated","title":"Top Rated Products","category":"woocommerce","keywords":["WooCommerce"],"description":"Display a grid of your top rated products.","supports":{"interactivity":{"clientNavigation":false},"align":["wide","full"],"html":false,"inserter":false},"attributes":{"columns":{"type":"number","default":3},"rows":{"type":"number","default":3},"alignButtons":{"type":"boolean","default":false},"contentVisibility":{"type":"object","default":{"image":true,"title":true,"price":true,"rating":true,"button":true},"properties":{"image":{"type":"boolean","default":true},"title":{"type":"boolean","default":true},"price":{"type":"boolean","default":true},"rating":{"type":"boolean","default":true},"button":{"type":"boolean","default":true}}},"categories":{"type":"array","default":[]},"catOperator":{"type":"string","default":"any"},"isPreview":{"type":"boolean","default":false},"stockStatus":{"type":"array"},"editMode":{"type":"boolean","default":true},"orderby":{"type":"string","enum":["date","popularity","price_asc","price_desc","rating","title","menu_order"],"default":"rating"}},"textdomain":"woocommerce","apiVersion":3,"$schema":"https://schemas.wp.org/trunk/block.json"}'),d=window.wc.wcSettings,m={columns:{type:"number",default:(0,d.getSetting)("defaultColumns",3)},rows:{type:"number",default:(0,d.getSetting)("defaultRows",3)},alignButtons:{type:"boolean",default:!1},categories:{type:"array",default:[]},catOperator:{type:"string",default:"any"},contentVisibility:{type:"object",default:{image:!0,title:!0,price:!0,rating:!0,button:!0}},isPreview:{type:"boolean",default:!1},stockStatus:{type:"array",default:Object.keys((0,d.getSetting)("stockStatusOptions",[]))}},h=window.wp.blockEditor,u=window.wp.components,x=window.wp.serverSideRender;var g=r.n(x);const p=({onChange:e,settings:t})=>{const{image:r,button:s,price:i,rating:n,title:l}=t,a=!1!==r;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Product image","woocommerce"),checked:a,onChange:()=>e({...t,image:!a})}),(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Product title","woocommerce"),checked:l,onChange:()=>e({...t,title:!l})}),(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Product price","woocommerce"),checked:i,onChange:()=>e({...t,price:!i})}),(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Product rating","woocommerce"),checked:n,onChange:()=>e({...t,rating:!n})}),(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Add to Cart button","woocommerce"),checked:s,onChange:()=>e({...t,button:!s})})]})},w=(e,t,r)=>r?Math.min(e,t)===e?t:Math.max(e,r)===e?r:e:Math.max(e,t)===t?e:t,f=({columns:e,rows:t,setAttributes:r,alignButtons:s,minColumns:i=1,maxColumns:n=6,minRows:l=1,maxRows:a=6})=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.RangeControl,{label:(0,o.__)("Columns","woocommerce"),value:e,onChange:e=>{const t=w(e,i,n);r({columns:Number.isNaN(t)?"":t})},min:i,max:n}),(0,c.jsx)(u.RangeControl,{label:(0,o.__)("Rows","woocommerce"),value:t,onChange:e=>{const t=w(e,l,a);r({rows:Number.isNaN(t)?"":t})},min:l,max:a}),(0,c.jsx)(u.ToggleControl,{label:(0,o.__)("Align the last block to the bottom","woocommerce"),help:s?(0,o.__)("Align the last block to the bottom.","woocommerce"):(0,o.__)("The last inner block will follow other content.","woocommerce"),checked:s,onChange:()=>r({alignButtons:!s})})]});var j=r(4921),E=r(6087);function b(e,t,r){const o=new Set(t.map((e=>e[r])));return e.filter((e=>!o.has(e[r])))}const y=window.wp.htmlEntities,_={clear:(0,o.__)("Clear all selected items","woocommerce"),noItems:(0,o.__)("No items found.","woocommerce"),
/* Translators: %s search term */
noResults:(0,o.__)("No results for %s","woocommerce"),search:(0,o.__)("Search for items","woocommerce"),selected:e=>(0,o.sprintf)(/* translators: Number of items selected from list. */ /* translators: Number of items selected from list. */
(0,o._n)("%d item selected","%d items selected",e,"woocommerce"),e),updated:(0,o.__)("Search results updated.","woocommerce")},v=(e,t=e)=>{const r=e.reduce(((e,t)=>{const r=t.parent||0;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),o=t.reduce(((e,t)=>(e[String(t.id)]=t,e)),{});const s=["0"],i=(e={})=>e.parent?[...i(o[e.parent]),e.name]:e.name?[e.name]:[],c=e=>e.map((e=>{const t=r[e.id];return s.push(""+e.id),{...e,breadcrumbs:i(o[e.parent]),children:t&&t.length?c(t):[]}})),n=c(r[0]||[]);return Object.entries(r).forEach((([e,t])=>{s.includes(e)||n.push(...c(t||[]))})),n},C=(e,t)=>{if(!t)return e;const r=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(r).map(((e,t)=>r.test(e)?(0,c.jsx)("strong",{children:e},t):(0,c.jsx)(E.Fragment,{children:e},t)))},k=({label:e})=>(0,c.jsx)("span",{className:"woocommerce-search-list__item-count",children:e}),S=e=>{const{item:t,search:r}=e,o=t.breadcrumbs&&t.breadcrumbs.length;return(0,c.jsxs)("span",{className:"woocommerce-search-list__item-label",children:[o?(0,c.jsx)("span",{className:"woocommerce-search-list__item-prefix",children:(s=t.breadcrumbs,1===s.length?s.slice(0,1).toString():2===s.length?s.slice(0,1).toString()+" › "+s.slice(-1).toString():s.slice(0,1).toString()+" … "+s.slice(-1).toString())}):null,(0,c.jsx)("span",{className:"woocommerce-search-list__item-name",children:C((0,y.decodeEntities)(t.name),r)})]});var s},N=({countLabel:e,className:t,depth:r=0,controlId:o="",item:s,isSelected:i,isSingle:n,onSelect:l,search:a="",selected:d,useExpandedPanelId:m,...h})=>{const[x,g]=m,p=null!=e&&void 0!==s.count&&null!==s.count,w=!!s.breadcrumbs?.length,f=!!s.children?.length,_=x===s.id,v=(0,j.A)(["woocommerce-search-list__item",`depth-${r}`,t],{"has-breadcrumbs":w,"has-children":f,"has-count":p,"is-expanded":_,"is-radio-button":n});(0,E.useEffect)((()=>{f&&i&&g(s.id)}),[s,f,i,g]);const N=h.name||`search-list-item-${o}`,O=`${N}-${s.id}`,P=(0,E.useCallback)((()=>{g(_?-1:Number(s.id))}),[_,s.id,g]);return f?(0,c.jsx)("div",{className:v,onClick:P,onKeyDown:e=>"Enter"===e.key||" "===e.key?P():null,role:"treeitem",tabIndex:0,children:n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{type:"radio",id:O,name:N,value:s.value,onChange:l(s),onClick:e=>e.stopPropagation(),checked:i,className:"woocommerce-search-list__item-input",...h}),(0,c.jsx)(S,{item:s,search:a}),p?(0,c.jsx)(k,{label:e||s.count}):null]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.CheckboxControl,{className:"woocommerce-search-list__item-input",checked:i,...!i&&s.children.some((e=>d.find((t=>t.id===e.id))))?{indeterminate:!0}:{},label:C((0,y.decodeEntities)(s.name),a),onChange:()=>{i?l(b(d,s.children,"id"))():l(function(e,t){const r=b(t,e,"id");return[...e,...r]}(d,s.children))()},onClick:e=>e.stopPropagation()}),p?(0,c.jsx)(k,{label:e||s.count}):null]})}):(0,c.jsxs)("label",{htmlFor:O,className:v,children:[n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{...h,type:"radio",id:O,name:N,value:s.value,onChange:l(s),checked:i,className:"woocommerce-search-list__item-input"}),(0,c.jsx)(S,{item:s,search:a})]}):(0,c.jsx)(u.CheckboxControl,{...h,id:O,name:N,className:"woocommerce-search-list__item-input",value:(0,y.decodeEntities)(s.value),label:C((0,y.decodeEntities)(s.name),a),onChange:l(s),checked:i}),p?(0,c.jsx)(k,{label:e||s.count}):null]})},O=N;var P=r(2624),I=r(9491),R=r(3028);r(5022);const A=({id:e,label:t,popoverContents:r,remove:s,screenReaderLabel:i,className:n=""})=>{const[a,d]=(0,E.useState)(!1),m=(0,I.useInstanceId)(A);if(i=i||t,!t)return null;t=(0,y.decodeEntities)(t);const h=(0,j.A)("woocommerce-tag",n,{"has-remove":!!s}),x=`woocommerce-tag__label-${m}`,g=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"screen-reader-text",children:i}),(0,c.jsx)("span",{"aria-hidden":"true",children:t})]});return(0,c.jsxs)("span",{className:h,children:[r?(0,c.jsx)(u.Button,{className:"woocommerce-tag__text",id:x,onClick:()=>d(!0),children:g}):(0,c.jsx)("span",{className:"woocommerce-tag__text",id:x,children:g}),r&&a&&(0,c.jsx)(u.Popover,{onClose:()=>d(!1),children:r}),s&&(0,c.jsx)(u.Button,{className:"woocommerce-tag__remove",onClick:s(e),label:(0,o.sprintf)(
// Translators: %s label.
// Translators: %s label.
(0,o.__)("Remove %s","woocommerce"),t),"aria-describedby":x,children:(0,c.jsx)(l.A,{icon:R.A,size:20,className:"clear-icon",role:"img"})})]})},B=A;r(1939);const T=e=>(0,c.jsx)(O,{...e}),$=e=>{const{list:t,selected:r,renderItem:o,depth:s=0,onSelect:i,instanceId:n,isSingle:l,search:a,useExpandedPanelId:d}=e,[m]=d;return t?(0,c.jsx)(c.Fragment,{children:t.map((t=>{const h=t.children?.length&&!l?t.children.every((({id:e})=>r.find((t=>t.id===e)))):!!r.find((({id:e})=>e===t.id)),u=t.children?.length&&m===t.id;return(0,c.jsxs)(E.Fragment,{children:[(0,c.jsx)("li",{children:o({item:t,isSelected:h,onSelect:i,isSingle:l,selected:r,search:a,depth:s,useExpandedPanelId:d,controlId:n})}),u?(0,c.jsx)($,{...e,list:t.children,depth:s+1}):null]},t.id)}))}):null},F=({isLoading:e,isSingle:t,selected:r,messages:s,onChange:i,onRemove:n})=>{if(e||t||!r)return null;const l=r.length;return(0,c.jsxs)("div",{className:"woocommerce-search-list__selected",children:[(0,c.jsxs)("div",{className:"woocommerce-search-list__selected-header",children:[(0,c.jsx)("strong",{children:s.selected(l)}),l>0?(0,c.jsx)(u.Button,{variant:"link",isDestructive:!0,onClick:()=>i([]),"aria-label":s.clear,children:(0,o.__)("Clear all","woocommerce")}):null]}),l>0?(0,c.jsx)("ul",{children:r.map(((e,t)=>(0,c.jsx)("li",{children:(0,c.jsx)(B,{label:e.name,id:e.id,remove:n})},t)))}):null]})},M=({filteredList:e,search:t,onSelect:r,instanceId:s,useExpandedPanelId:i,...n})=>{const{messages:a,renderItem:d,selected:m,isSingle:h}=n,u=d||T;return 0===e.length?(0,c.jsxs)("div",{className:"woocommerce-search-list__list is-not-found",children:[(0,c.jsx)("span",{className:"woocommerce-search-list__not-found-icon",children:(0,c.jsx)(l.A,{icon:P.A,role:"img"})}),(0,c.jsx)("span",{className:"woocommerce-search-list__not-found-text",children:t?(0,o.sprintf)(a.noResults,t):a.noItems})]}):(0,c.jsx)("ul",{className:"woocommerce-search-list__list",children:(0,c.jsx)($,{useExpandedPanelId:i,list:e,selected:m,renderItem:u,onSelect:r,instanceId:s,isSingle:h,search:t})})},L=e=>{const{className:t="",isCompact:r,isHierarchical:s,isLoading:i,isSingle:n,list:l,messages:a=_,onChange:d,onSearch:m,selected:h,type:x="text",debouncedSpeak:g}=e,[p,w]=(0,E.useState)(""),f=(0,E.useState)(-1),b=(0,I.useInstanceId)(L),y=(0,E.useMemo)((()=>({..._,...a})),[a]),C=(0,E.useMemo)((()=>((e,t,r)=>{if(!t)return r?v(e):e;const o=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),s=e.map((e=>!!o.test(e.name)&&e)).filter(Boolean);return r?v(s,e):s})(l,p,s)),[l,p,s]);(0,E.useEffect)((()=>{g&&g(y.updated)}),[g,y]),(0,E.useEffect)((()=>{"function"==typeof m&&m(p)}),[p,m]);const k=(0,E.useCallback)((e=>()=>{n&&d([]);const t=h.findIndex((({id:t})=>t===e));d([...h.slice(0,t),...h.slice(t+1)])}),[n,h,d]),S=(0,E.useCallback)((e=>()=>{Array.isArray(e)?d(e):-1===h.findIndex((({id:t})=>t===e.id))?d(n?[e]:[...h,e]):k(e.id)()}),[n,k,d,h]),N=(0,E.useCallback)((e=>{const[t]=h.filter((t=>!e.find((e=>t.id===e.id))));k(t.id)()}),[k,h]);return(0,c.jsxs)("div",{className:(0,j.A)("woocommerce-search-list",t,{"is-compact":r,"is-loading":i,"is-token":"token"===x}),children:["text"===x&&(0,c.jsx)(F,{...e,onRemove:k,messages:y}),(0,c.jsx)("div",{className:"woocommerce-search-list__search",children:"text"===x?(0,c.jsx)(u.TextControl,{label:y.search,type:"search",value:p,onChange:e=>w(e)}):(0,c.jsx)(u.FormTokenField,{disabled:i,label:y.search,onChange:N,onInputChange:e=>w(e),suggestions:[],__experimentalValidateInput:()=>!1,value:i?[(0,o.__)("Loading…","woocommerce")]:h.map((e=>({...e,value:e.name}))),__experimentalShowHowTo:!1})}),i?(0,c.jsx)("div",{className:"woocommerce-search-list__list",children:(0,c.jsx)(u.Spinner,{})}):(0,c.jsx)(M,{...e,search:p,filteredList:C,messages:y,onSelect:S,instanceId:b,useExpandedPanelId:f})]})},H=((0,u.withSpokenMessages)(L),window.wp.url),V=window.wp.apiFetch;var D=r.n(V);const z=window.wp.escapeHtml,J=({message:e,type:t})=>e?"general"===t?(0,c.jsxs)("span",{children:[(0,o.__)("The following error was returned","woocommerce"),(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:(0,z.escapeHTML)(e)})]}):"api"===t?(0,c.jsxs)("span",{children:[(0,o.__)("The following error was returned from the API","woocommerce"),(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:(0,z.escapeHTML)(e)})]}):e:(0,o.__)("An error has prevented the block from being updated.","woocommerce"),W=({error:e})=>(0,c.jsx)("div",{className:"wc-block-error-message",children:J(e)}),G=e=>{const{id:t,name:r,parent:o,count:s}=e;return{id:t,name:r,parent:o,count:s,breadcrumbs:[],children:[],details:e,value:e.slug}};r(6982);const K=(Z=({categories:e=[],error:t=null,isLoading:r=!1,onChange:s,onOperatorChange:i,operator:n="any",selected:l,isCompact:a=!1,isSingle:d=!1,showReviewCount:m})=>{const h={clear:(0,o.__)("Clear all product categories","woocommerce"),list:(0,o.__)("Product Categories","woocommerce"),noItems:(0,o.__)("Your store doesn't have any product categories.","woocommerce"),search:(0,o.__)("Search for product categories","woocommerce"),selected:e=>(0,o.sprintf)(/* translators: %d is the count of selected categories. */ /* translators: %d is the count of selected categories. */
(0,o._n)("%d category selected","%d categories selected",e,"woocommerce"),e),updated:(0,o.__)("Category search results updated.","woocommerce")};if(t)return(0,c.jsx)(W,{error:t});const x=e.map(G);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(L,{className:"woocommerce-product-categories",list:x,isLoading:r,selected:x.filter((({id:e})=>l.includes(Number(e)))),onChange:s,renderItem:e=>{const{item:t,search:r,depth:s=0}=e,i=t.breadcrumbs.length?`${t.breadcrumbs.join(", ")}, ${t.name}`:t.name,n=m?(0,o.sprintf)(/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */ /* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,o._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",t.details?.review_count||0,"woocommerce"),i,t.details?.review_count||0):(0,o.sprintf)(/* translators: %1$s is the item name, %2$d is the count of products for the item. */ /* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,o._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.details?.count||0,"woocommerce"),i,t.details?.count||0),l=m?(0,o.sprintf)(/* translators: %d is the count of reviews. */ /* translators: %d is the count of reviews. */
(0,o._n)("%d review","%d reviews",t.details?.review_count||0,"woocommerce"),t.details?.review_count||0):(0,o.sprintf)(/* translators: %d is the count of products. */ /* translators: %d is the count of products. */
(0,o._n)("%d product","%d products",t.details?.count||0,"woocommerce"),t.details?.count||0);return(0,c.jsx)(N,{className:(0,j.A)("woocommerce-product-categories__item","has-count",{"is-searching":r.length>0,"is-skip-level":0===s&&0!==t.parent}),...e,countLabel:l,"aria-label":n})},messages:h,isCompact:a,isHierarchical:!0,isSingle:d}),!!i&&(0,c.jsx)("div",{hidden:l.length<2,children:(0,c.jsx)(u.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,o.__)("Display products matching","woocommerce"),help:(0,o.__)("Pick at least two categories to use this setting.","woocommerce"),value:n,onChange:i,options:[{label:(0,o.__)("Any selected categories","woocommerce"),value:"any"},{label:(0,o.__)("All selected categories","woocommerce"),value:"all"}]})})]})},({selected:e,...t})=>{const[r,o]=(0,E.useState)(!0),[s,i]=(0,E.useState)(null),[n,l]=(0,E.useState)([]),a=async e=>{const t=await(async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}})(e);i(t),o(!1)},d=(0,E.useRef)(e);return(0,E.useEffect)((()=>{var e;(e={selected:d.current},D()({path:(0,H.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})})).then((e=>{l(e),o(!1)})).catch(a)}),[d]),(0,c.jsx)(Z,{...t,selected:e,error:s,categories:n,isLoading:r})}),Q=(0,d.getSetting)("hideOutOfStockItems",!1),X=(0,d.getSetting)("stockStatusOptions",{}),Y=({value:e,setAttributes:t})=>{const{outofstock:r,...s}=X,i=Q?s:X,n=Object.entries(i).map((([e,t])=>({value:e,label:t}))).filter((e=>!!e.label)),l=Object.keys(i).filter((e=>!!e)),[a,d]=(0,E.useState)(e||l);(0,E.useEffect)((()=>{t({stockStatus:["",...a]})}),[a,t]);const m=(0,E.useCallback)((e=>{const t=a.includes(e),r=a.filter((t=>t!==e));t||(r.push(e),r.sort()),d(r)}),[a]);return(0,c.jsx)(c.Fragment,{children:n.map((e=>{const t=a.includes(e.value)?/* translators: %s stock status. */ /* translators: %s stock status. */(0,o.__)('Stock status "%s" visible.',"woocommerce"):/* translators: %s stock status. */ /* translators: %s stock status. */(0,o.__)('Stock status "%s" hidden.',"woocommerce");return(0,c.jsx)(u.ToggleControl,{label:e.label,help:(0,o.sprintf)(t,e.label),checked:a.includes(e.value),onChange:()=>m(e.value)},e.value)}))})},q=(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 230 250",style:{width:"100%"},children:[(0,c.jsx)("title",{children:"Grid Block Preview"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:".162",y:".779",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"1.565",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:".162",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"1.565",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:"82.478",y:".779",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"83.882",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:"82.478",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"83.882",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:"164.788",y:".779",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"166.192",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"65.374",height:"65.374",x:"164.788",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,c.jsx)("rect",{width:"62.8",height:"15",x:"166.192",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,c.jsx)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"221.798",fill:"#E1E3E6",rx:"3"})]}),U=({attributes:e,name:t,setAttributes:r})=>{const{categories:s,catOperator:i,columns:n,contentVisibility:l,rows:a,alignButtons:m,stockStatus:x,isPreview:w}=e;return w?q:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(h.InspectorControls,{children:[(0,c.jsx)(u.PanelBody,{title:(0,o.__)("Layout","woocommerce"),initialOpen:!0,children:(0,c.jsx)(f,{columns:n,rows:a,alignButtons:m,setAttributes:r,minColumns:(0,d.getSetting)("minColumns",1),maxColumns:(0,d.getSetting)("maxColumns",6),minRows:(0,d.getSetting)("minRows",1),maxRows:(0,d.getSetting)("maxRows",6)})}),(0,c.jsx)(u.PanelBody,{title:(0,o.__)("Content","woocommerce"),initialOpen:!0,children:(0,c.jsx)(p,{settings:l,onChange:e=>r({contentVisibility:e})})}),(0,c.jsx)(u.PanelBody,{title:(0,o.__)("Filter by Product Category","woocommerce"),initialOpen:!1,children:(0,c.jsx)(K,{selected:s,onChange:(e=[])=>{const t=e.map((({id:e})=>e));r({categories:t})},operator:i,onOperatorChange:(e="any")=>r({catOperator:e})})}),(0,c.jsx)(u.PanelBody,{title:(0,o.__)("Filter by stock status","woocommerce"),initialOpen:!1,children:(0,c.jsx)(Y,{setAttributes:r,value:x})})]},"inspector"),(0,c.jsx)(u.Disabled,{children:(0,c.jsx)(g(),{block:t,attributes:e})})]})};var Z;(0,s.registerBlockType)(a,{icon:{src:(0,c.jsx)(l.A,{icon:n,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,o.__)("WooCommerce","woocommerce")],description:(0,o.__)("Display a grid of your top rated products.","woocommerce"),attributes:{...m,...a.attributes},transforms:{from:[{type:"block",blocks:["woocommerce/product-best-sellers","woocommerce/product-category","woocommerce/product-new","woocommerce/product-on-sale","woocommerce/product-top-rated"].filter((e=>"woocommerce/product-top-rated"!==e)),transform:e=>(0,s.createBlock)("woocommerce/product-top-rated",e)}]},edit:e=>{const t=(0,h.useBlockProps)();return(0,c.jsx)("div",{...t,children:(0,c.jsx)(U,{...e})})},save:()=>null})},6982:()=>{},1939:()=>{},5022:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},9491:e=>{"use strict";e.exports=window.wp.compose},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e].call(r.exports,r,r.exports,i),r.exports}i.m=o,e=[],i.O=(t,r,o,s)=>{if(!r){var c=1/0;for(d=0;d<e.length;d++){for(var[r,o,s]=e[d],n=!0,l=0;l<r.length;l++)(!1&s||c>=s)&&Object.keys(i.O).every((e=>i.O[e](r[l])))?r.splice(l--,1):(n=!1,s<c&&(c=s));if(n){e.splice(d--,1);var a=o();void 0!==a&&(t=a)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var s=Object.create(null);i.r(s);var c={};t=t||[null,r({}),r([]),r(r)];for(var n=2&o&&e;"object"==typeof n&&!~t.indexOf(n);n=r(n))Object.getOwnPropertyNames(n).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,i.d(s,c),s},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=9595,(()=>{var e={9595:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var o,s,[c,n,l]=r,a=0;if(c.some((t=>0!==e[t]))){for(o in n)i.o(n,o)&&(i.m[o]=n[o]);if(l)var d=l(i)}for(t&&t(r);a<c.length;a++)s=c[a],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},r=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var c=i.O(void 0,[94],(()=>i(9973)));c=i.O(c),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-top-rated"]=c})();
=======
(()=>{var e,t,r,l={1580:(e,t,r)=>{"use strict";r.r(t);var l=r(1609),o=r(7723);const n=window.wp.blocks;var c=r(5573);const a=(0,l.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24"},(0,l.createElement)("path",{opacity:".87",fill:"none",d:"M0 0h24v24H0V0z"}),(0,l.createElement)("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4l-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"}));var i=r(7104);const s=JSON.parse('{"name":"woocommerce/product-top-rated","title":"Top Rated Products","category":"woocommerce","keywords":["WooCommerce"],"description":"Display a grid of your top rated products.","supports":{"align":["wide","full"],"html":false,"inserter":false},"attributes":{"columns":{"type":"number","default":3},"rows":{"type":"number","default":3},"alignButtons":{"type":"boolean","default":false},"contentVisibility":{"type":"object","default":{"image":true,"title":true,"price":true,"rating":true,"button":true},"properties":{"image":{"type":"boolean","default":true},"title":{"type":"boolean","default":true},"price":{"type":"boolean","default":true},"rating":{"type":"boolean","default":true},"button":{"type":"boolean","default":true}}},"categories":{"type":"array","default":[]},"catOperator":{"type":"string","default":"any"},"isPreview":{"type":"boolean","default":false},"stockStatus":{"type":"array"},"editMode":{"type":"boolean","default":true},"orderby":{"type":"string","enum":["date","popularity","price_asc","price_desc","rating","title","menu_order"],"default":"rating"}},"textdomain":"woocommerce","apiVersion":3,"$schema":"https://schemas.wp.org/trunk/block.json"}'),m=window.wc.wcSettings,d={columns:{type:"number",default:(0,m.getSetting)("defaultColumns",3)},rows:{type:"number",default:(0,m.getSetting)("defaultRows",3)},alignButtons:{type:"boolean",default:!1},categories:{type:"array",default:[]},catOperator:{type:"string",default:"any"},contentVisibility:{type:"object",default:{image:!0,title:!0,price:!0,rating:!0,button:!0}},isPreview:{type:"boolean",default:!1},stockStatus:{type:"array",default:Object.keys((0,m.getSetting)("stockStatusOptions",[]))}},u=window.wp.blockEditor,h=window.wp.components,E=window.wp.serverSideRender;var g=r.n(E);const p=({onChange:e,settings:t})=>{const{image:r,button:n,price:c,rating:a,title:i}=t,s=!1!==r;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Product image","woocommerce"),checked:s,onChange:()=>e({...t,image:!s})}),(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Product title","woocommerce"),checked:i,onChange:()=>e({...t,title:!i})}),(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Product price","woocommerce"),checked:c,onChange:()=>e({...t,price:!c})}),(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Product rating","woocommerce"),checked:a,onChange:()=>e({...t,rating:!a})}),(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Add to Cart button","woocommerce"),checked:n,onChange:()=>e({...t,button:!n})}))},w=(e,t,r)=>r?Math.min(e,t)===e?t:Math.max(e,r)===e?r:e:Math.max(e,t)===t?e:t,f=({columns:e,rows:t,setAttributes:r,alignButtons:n,minColumns:c=1,maxColumns:a=6,minRows:i=1,maxRows:s=6})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(h.RangeControl,{label:(0,o.__)("Columns","woocommerce"),value:e,onChange:e=>{const t=w(e,c,a);r({columns:Number.isNaN(t)?"":t})},min:c,max:a}),(0,l.createElement)(h.RangeControl,{label:(0,o.__)("Rows","woocommerce"),value:t,onChange:e=>{const t=w(e,i,s);r({rows:Number.isNaN(t)?"":t})},min:i,max:s}),(0,l.createElement)(h.ToggleControl,{label:(0,o.__)("Align the last block to the bottom","woocommerce"),help:n?(0,o.__)("Align the last block to the bottom.","woocommerce"):(0,o.__)("The last inner block will follow other content.","woocommerce"),checked:n,onChange:()=>r({alignButtons:!n})}));var y=r(851),b=r(6087);function _(e,t,r){const l=new Set(t.map((e=>e[r])));return e.filter((e=>!l.has(e[r])))}const x=window.wp.htmlEntities,v={clear:(0,o.__)("Clear all selected items","woocommerce"),noItems:(0,o.__)("No items found.","woocommerce"),
/* Translators: %s search term */
noResults:(0,o.__)("No results for %s","woocommerce"),search:(0,o.__)("Search for items","woocommerce"),selected:e=>(0,o.sprintf)(/* translators: Number of items selected from list. */ /* translators: Number of items selected from list. */
(0,o._n)("%d item selected","%d items selected",e,"woocommerce"),e),updated:(0,o.__)("Search results updated.","woocommerce")},k=(e,t=e)=>{const r=e.reduce(((e,t)=>{const r=t.parent||0;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),l=t.reduce(((e,t)=>(e[String(t.id)]=t,e)),{});const o=["0"],n=(e={})=>e.parent?[...n(l[e.parent]),e.name]:e.name?[e.name]:[],c=e=>e.map((e=>{const t=r[e.id];return o.push(""+e.id),{...e,breadcrumbs:n(l[e.parent]),children:t&&t.length?c(t):[]}})),a=c(r[0]||[]);return Object.entries(r).forEach((([e,t])=>{o.includes(e)||a.push(...c(t||[]))})),a},C=(e,t)=>{if(!t)return e;const r=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(r).map(((e,t)=>r.test(e)?(0,l.createElement)("strong",{key:t},e):(0,l.createElement)(b.Fragment,{key:t},e)))},S=({label:e})=>(0,l.createElement)("span",{className:"woocommerce-search-list__item-count"},e),N=e=>{const{item:t,search:r}=e,o=t.breadcrumbs&&t.breadcrumbs.length;return(0,l.createElement)("span",{className:"woocommerce-search-list__item-label"},o?(0,l.createElement)("span",{className:"woocommerce-search-list__item-prefix"},1===(n=t.breadcrumbs).length?n.slice(0,1).toString():2===n.length?n.slice(0,1).toString()+" › "+n.slice(-1).toString():n.slice(0,1).toString()+" … "+n.slice(-1).toString()):null,(0,l.createElement)("span",{className:"woocommerce-search-list__item-name"},C((0,x.decodeEntities)(t.name),r)));var n},O=({countLabel:e,className:t,depth:r=0,controlId:o="",item:n,isSelected:c,isSingle:a,onSelect:i,search:s="",selected:m,useExpandedPanelId:d,...u})=>{var E,g;const[p,w]=d,f=null!=e&&void 0!==n.count&&null!==n.count,v=!(null===(E=n.breadcrumbs)||void 0===E||!E.length),k=!(null===(g=n.children)||void 0===g||!g.length),O=p===n.id,P=(0,y.A)(["woocommerce-search-list__item",`depth-${r}`,t],{"has-breadcrumbs":v,"has-children":k,"has-count":f,"is-expanded":O,"is-radio-button":a});(0,b.useEffect)((()=>{k&&c&&w(n.id)}),[n,k,c,w]);const I=u.name||`search-list-item-${o}`,A=`${I}-${n.id}`,j=(0,b.useCallback)((()=>{w(O?-1:Number(n.id))}),[O,n.id,w]);return k?(0,l.createElement)("div",{className:P,onClick:j,onKeyDown:e=>"Enter"===e.key||" "===e.key?j():null,role:"treeitem",tabIndex:0},a?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("input",{type:"radio",id:A,name:I,value:n.value,onChange:i(n),onClick:e=>e.stopPropagation(),checked:c,className:"woocommerce-search-list__item-input",...u}),(0,l.createElement)(N,{item:n,search:s}),f?(0,l.createElement)(S,{label:e||n.count}):null):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(h.CheckboxControl,{className:"woocommerce-search-list__item-input",checked:c,...!c&&n.children.some((e=>m.find((t=>t.id===e.id))))?{indeterminate:!0}:{},label:C((0,x.decodeEntities)(n.name),s),onChange:()=>{c?i(_(m,n.children,"id"))():i(function(e,t){const r=_(t,e,"id");return[...e,...r]}(m,n.children))()},onClick:e=>e.stopPropagation()}),f?(0,l.createElement)(S,{label:e||n.count}):null)):(0,l.createElement)("label",{htmlFor:A,className:P},a?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("input",{...u,type:"radio",id:A,name:I,value:n.value,onChange:i(n),checked:c,className:"woocommerce-search-list__item-input"}),(0,l.createElement)(N,{item:n,search:s})):(0,l.createElement)(h.CheckboxControl,{...u,id:A,name:I,className:"woocommerce-search-list__item-input",value:(0,x.decodeEntities)(n.value),label:C((0,x.decodeEntities)(n.name),s),onChange:i(n),checked:c}),f?(0,l.createElement)(S,{label:e||n.count}):null)},P=O;var I=r(2478),A=r(9491),j=r(2370);r(6636);const R=({id:e,label:t,popoverContents:r,remove:n,screenReaderLabel:c,className:a=""})=>{const[s,m]=(0,b.useState)(!1),d=(0,A.useInstanceId)(R);if(c=c||t,!t)return null;t=(0,x.decodeEntities)(t);const u=(0,y.A)("woocommerce-tag",a,{"has-remove":!!n}),E=`woocommerce-tag__label-${d}`,g=(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"screen-reader-text"},c),(0,l.createElement)("span",{"aria-hidden":"true"},t));return(0,l.createElement)("span",{className:u},r?(0,l.createElement)(h.Button,{className:"woocommerce-tag__text",id:E,onClick:()=>m(!0)},g):(0,l.createElement)("span",{className:"woocommerce-tag__text",id:E},g),r&&s&&(0,l.createElement)(h.Popover,{onClose:()=>m(!1)},r),n&&(0,l.createElement)(h.Button,{className:"woocommerce-tag__remove",onClick:n(e),label:(0,o.sprintf)(
// Translators: %s label.
// Translators: %s label.
(0,o.__)("Remove %s","woocommerce"),t),"aria-describedby":E},(0,l.createElement)(i.A,{icon:j.A,size:20,className:"clear-icon",role:"img"})))},B=R;r(8137);const $=e=>(0,l.createElement)(P,{...e}),T=e=>{const{list:t,selected:r,renderItem:o,depth:n=0,onSelect:c,instanceId:a,isSingle:i,search:s,useExpandedPanelId:m}=e,[d]=m;return t?(0,l.createElement)(b.Fragment,null,t.map((t=>{var u,h;const E=null!==(u=t.children)&&void 0!==u&&u.length&&!i?t.children.every((({id:e})=>r.find((t=>t.id===e)))):!!r.find((({id:e})=>e===t.id)),g=(null===(h=t.children)||void 0===h?void 0:h.length)&&d===t.id;return(0,l.createElement)(b.Fragment,{key:t.id},(0,l.createElement)("li",null,o({item:t,isSelected:E,onSelect:c,isSingle:i,selected:r,search:s,depth:n,useExpandedPanelId:m,controlId:a})),g?(0,l.createElement)(T,{...e,list:t.children,depth:n+1}):null)}))):null},F=({isLoading:e,isSingle:t,selected:r,messages:n,onChange:c,onRemove:a})=>{if(e||t||!r)return null;const i=r.length;return(0,l.createElement)("div",{className:"woocommerce-search-list__selected"},(0,l.createElement)("div",{className:"woocommerce-search-list__selected-header"},(0,l.createElement)("strong",null,n.selected(i)),i>0?(0,l.createElement)(h.Button,{variant:"link",isDestructive:!0,onClick:()=>c([]),"aria-label":n.clear},(0,o.__)("Clear all","woocommerce")):null),i>0?(0,l.createElement)("ul",null,r.map(((e,t)=>(0,l.createElement)("li",{key:t},(0,l.createElement)(B,{label:e.name,id:e.id,remove:a}))))):null)},M=({filteredList:e,search:t,onSelect:r,instanceId:n,useExpandedPanelId:c,...a})=>{const{messages:s,renderItem:m,selected:d,isSingle:u}=a,h=m||$;return 0===e.length?(0,l.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},(0,l.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},(0,l.createElement)(i.A,{icon:I.A,role:"img"})),(0,l.createElement)("span",{className:"woocommerce-search-list__not-found-text"},t?(0,o.sprintf)(s.noResults,t):s.noItems)):(0,l.createElement)("ul",{className:"woocommerce-search-list__list"},(0,l.createElement)(T,{useExpandedPanelId:c,list:e,selected:d,renderItem:h,onSelect:r,instanceId:n,isSingle:u,search:t}))},L=e=>{const{className:t="",isCompact:r,isHierarchical:n,isLoading:c,isSingle:a,list:i,messages:s=v,onChange:m,onSearch:d,selected:u,type:E="text",debouncedSpeak:g}=e,[p,w]=(0,b.useState)(""),f=(0,b.useState)(-1),_=(0,A.useInstanceId)(L),x=(0,b.useMemo)((()=>({...v,...s})),[s]),C=(0,b.useMemo)((()=>((e,t,r)=>{if(!t)return r?k(e):e;const l=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),o=e.map((e=>!!l.test(e.name)&&e)).filter(Boolean);return r?k(o,e):o})(i,p,n)),[i,p,n]);(0,b.useEffect)((()=>{g&&g(x.updated)}),[g,x]),(0,b.useEffect)((()=>{"function"==typeof d&&d(p)}),[p,d]);const S=(0,b.useCallback)((e=>()=>{a&&m([]);const t=u.findIndex((({id:t})=>t===e));m([...u.slice(0,t),...u.slice(t+1)])}),[a,u,m]),N=(0,b.useCallback)((e=>()=>{Array.isArray(e)?m(e):-1===u.findIndex((({id:t})=>t===e.id))?m(a?[e]:[...u,e]):S(e.id)()}),[a,S,m,u]),O=(0,b.useCallback)((e=>{const[t]=u.filter((t=>!e.find((e=>t.id===e.id))));S(t.id)()}),[S,u]);return(0,l.createElement)("div",{className:(0,y.A)("woocommerce-search-list",t,{"is-compact":r,"is-loading":c,"is-token":"token"===E})},"text"===E&&(0,l.createElement)(F,{...e,onRemove:S,messages:x}),(0,l.createElement)("div",{className:"woocommerce-search-list__search"},"text"===E?(0,l.createElement)(h.TextControl,{label:x.search,type:"search",value:p,onChange:e=>w(e)}):(0,l.createElement)(h.FormTokenField,{disabled:c,label:x.search,onChange:O,onInputChange:e=>w(e),suggestions:[],__experimentalValidateInput:()=>!1,value:c?[(0,o.__)("Loading…","woocommerce")]:u.map((e=>({...e,value:e.name}))),__experimentalShowHowTo:!1})),c?(0,l.createElement)("div",{className:"woocommerce-search-list__list"},(0,l.createElement)(h.Spinner,null)):(0,l.createElement)(M,{...e,search:p,filteredList:C,messages:x,onSelect:N,instanceId:_,useExpandedPanelId:f}))},H=((0,h.withSpokenMessages)(L),window.wp.url),V=window.wp.apiFetch;var D=r.n(V);const z=window.wp.escapeHtml,W=({error:e})=>(0,l.createElement)("div",{className:"wc-block-error-message"},(({message:e,type:t})=>e?"general"===t?(0,l.createElement)("span",null,(0,o.__)("The following error was returned","woocommerce"),(0,l.createElement)("br",null),(0,l.createElement)("code",null,(0,z.escapeHTML)(e))):"api"===t?(0,l.createElement)("span",null,(0,o.__)("The following error was returned from the API","woocommerce"),(0,l.createElement)("br",null),(0,l.createElement)("code",null,(0,z.escapeHTML)(e))):e:(0,o.__)("An error has prevented the block from being updated.","woocommerce"))(e)),G=e=>{const{id:t,name:r,parent:l,count:o}=e;return{id:t,name:r,parent:l,count:o,breadcrumbs:[],children:[],details:e,value:e.slug}};r(6876);const J=(X=({categories:e=[],error:t=null,isLoading:r=!1,onChange:n,onOperatorChange:c,operator:a="any",selected:i,isCompact:s=!1,isSingle:m=!1,showReviewCount:d})=>{const u={clear:(0,o.__)("Clear all product categories","woocommerce"),list:(0,o.__)("Product Categories","woocommerce"),noItems:(0,o.__)("Your store doesn't have any product categories.","woocommerce"),search:(0,o.__)("Search for product categories","woocommerce"),selected:e=>(0,o.sprintf)(/* translators: %d is the count of selected categories. */ /* translators: %d is the count of selected categories. */
(0,o._n)("%d category selected","%d categories selected",e,"woocommerce"),e),updated:(0,o.__)("Category search results updated.","woocommerce")};if(t)return(0,l.createElement)(W,{error:t});const E=e.map(G);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(L,{className:"woocommerce-product-categories",list:E,isLoading:r,selected:E.filter((({id:e})=>i.includes(Number(e)))),onChange:n,renderItem:e=>{var t,r,n,c,a,i,s,m;const{item:u,search:h,depth:E=0}=e,g=u.breadcrumbs.length?`${u.breadcrumbs.join(", ")}, ${u.name}`:u.name,p=d?(0,o.sprintf)(/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */ /* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,o._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",(null===(t=u.details)||void 0===t?void 0:t.review_count)||0,"woocommerce"),g,(null===(r=u.details)||void 0===r?void 0:r.review_count)||0):(0,o.sprintf)(/* translators: %1$s is the item name, %2$d is the count of products for the item. */ /* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,o._n)("%1$s, has %2$d product","%1$s, has %2$d products",(null===(n=u.details)||void 0===n?void 0:n.count)||0,"woocommerce"),g,(null===(c=u.details)||void 0===c?void 0:c.count)||0),w=d?(0,o.sprintf)(/* translators: %d is the count of reviews. */ /* translators: %d is the count of reviews. */
(0,o._n)("%d review","%d reviews",(null===(a=u.details)||void 0===a?void 0:a.review_count)||0,"woocommerce"),(null===(i=u.details)||void 0===i?void 0:i.review_count)||0):(0,o.sprintf)(/* translators: %d is the count of products. */ /* translators: %d is the count of products. */
(0,o._n)("%d product","%d products",(null===(s=u.details)||void 0===s?void 0:s.count)||0,"woocommerce"),(null===(m=u.details)||void 0===m?void 0:m.count)||0);return(0,l.createElement)(O,{className:(0,y.A)("woocommerce-product-categories__item","has-count",{"is-searching":h.length>0,"is-skip-level":0===E&&0!==u.parent}),...e,countLabel:w,"aria-label":p})},messages:u,isCompact:s,isHierarchical:!0,isSingle:m}),!!c&&(0,l.createElement)("div",{hidden:i.length<2},(0,l.createElement)(h.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,o.__)("Display products matching","woocommerce"),help:(0,o.__)("Pick at least two categories to use this setting.","woocommerce"),value:a,onChange:c,options:[{label:(0,o.__)("Any selected categories","woocommerce"),value:"any"},{label:(0,o.__)("All selected categories","woocommerce"),value:"all"}]})))},({selected:e,...t})=>{const[r,o]=(0,b.useState)(!0),[n,c]=(0,b.useState)(null),[a,i]=(0,b.useState)([]),s=async e=>{const t=await(async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}})(e);c(t),o(!1)},m=(0,b.useRef)(e);return(0,b.useEffect)((()=>{var e;(e={selected:m.current},D()({path:(0,H.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})})).then((e=>{i(e),o(!1)})).catch(s)}),[m]),(0,l.createElement)(X,{...t,selected:e,error:n,categories:a,isLoading:r})}),K=(0,m.getSetting)("hideOutOfStockItems",!1),Q=(0,m.getSetting)("stockStatusOptions",{}),Y=({value:e,setAttributes:t})=>{const{outofstock:r,...n}=Q,c=K?n:Q,a=Object.entries(c).map((([e,t])=>({value:e,label:t}))).filter((e=>!!e.label)),i=Object.keys(c).filter((e=>!!e)),[s,m]=(0,b.useState)(e||i);(0,b.useEffect)((()=>{t({stockStatus:["",...s]})}),[s,t]);const d=(0,b.useCallback)((e=>{const t=s.includes(e),r=s.filter((t=>t!==e));t||(r.push(e),r.sort()),m(r)}),[s]);return(0,l.createElement)(l.Fragment,null,a.map((e=>{const t=s.includes(e.value)?/* translators: %s stock status. */ /* translators: %s stock status. */(0,o.__)('Stock status "%s" visible.',"woocommerce"):/* translators: %s stock status. */ /* translators: %s stock status. */(0,o.__)('Stock status "%s" hidden.',"woocommerce");return(0,l.createElement)(h.ToggleControl,{label:e.label,key:e.value,help:(0,o.sprintf)(t,e.label),checked:s.includes(e.value),onChange:()=>d(e.value)})})))},q=(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 230 250",style:{width:"100%"}},(0,l.createElement)("title",null,"Grid Block Preview"),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:".162",y:".779",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"1.565",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:".162",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"1.565",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:"82.478",y:".779",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"83.882",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:"82.478",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"83.882",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:"164.788",y:".779",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"166.192",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"65.374",height:"65.374",x:"164.788",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,l.createElement)("rect",{width:"62.8",height:"15",x:"166.192",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,l.createElement)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"221.798",fill:"#E1E3E6",rx:"3"})),U=({attributes:e,name:t,setAttributes:r})=>{const{categories:n,catOperator:c,columns:a,contentVisibility:i,rows:s,alignButtons:d,stockStatus:E,isPreview:w}=e;return w?q:(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.InspectorControls,{key:"inspector"},(0,l.createElement)(h.PanelBody,{title:(0,o.__)("Layout","woocommerce"),initialOpen:!0},(0,l.createElement)(f,{columns:a,rows:s,alignButtons:d,setAttributes:r,minColumns:(0,m.getSetting)("minColumns",1),maxColumns:(0,m.getSetting)("maxColumns",6),minRows:(0,m.getSetting)("minRows",1),maxRows:(0,m.getSetting)("maxRows",6)})),(0,l.createElement)(h.PanelBody,{title:(0,o.__)("Content","woocommerce"),initialOpen:!0},(0,l.createElement)(p,{settings:i,onChange:e=>r({contentVisibility:e})})),(0,l.createElement)(h.PanelBody,{title:(0,o.__)("Filter by Product Category","woocommerce"),initialOpen:!1},(0,l.createElement)(J,{selected:n,onChange:(e=[])=>{const t=e.map((({id:e})=>e));r({categories:t})},operator:c,onOperatorChange:(e="any")=>r({catOperator:e})})),(0,l.createElement)(h.PanelBody,{title:(0,o.__)("Filter by stock status","woocommerce"),initialOpen:!1},(0,l.createElement)(Y,{setAttributes:r,value:E}))),(0,l.createElement)(h.Disabled,null,(0,l.createElement)(g(),{block:t,attributes:e})))};var X;(0,n.registerBlockType)(s,{icon:{src:(0,l.createElement)(i.A,{icon:a,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,o.__)("WooCommerce","woocommerce")],description:(0,o.__)("Display a grid of your top rated products.","woocommerce"),attributes:{...d,...s.attributes},transforms:{from:[{type:"block",blocks:["woocommerce/product-best-sellers","woocommerce/product-category","woocommerce/product-new","woocommerce/product-on-sale","woocommerce/product-top-rated"].filter((e=>"woocommerce/product-top-rated"!==e)),transform:e=>(0,n.createBlock)("woocommerce/product-top-rated",e)}]},edit:e=>{const t=(0,u.useBlockProps)();return(0,l.createElement)("div",{...t},(0,l.createElement)(U,{...e}))},save:()=>null})},6876:()=>{},8137:()=>{},6636:()=>{},1609:e=>{"use strict";e.exports=window.React},9491:e=>{"use strict";e.exports=window.wp.compose},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return l[e].call(r.exports,r,r.exports,n),r.exports}n.m=l,e=[],n.O=(t,r,l,o)=>{if(!r){var c=1/0;for(m=0;m<e.length;m++){for(var[r,l,o]=e[m],a=!0,i=0;i<r.length;i++)(!1&o||c>=o)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(a=!1,o<c&&(c=o));if(a){e.splice(m--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[r,l,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,l){if(1&l&&(e=this(e)),8&l)return e;if("object"==typeof e&&e){if(4&l&&e.__esModule)return e;if(16&l&&"function"==typeof e.then)return e}var o=Object.create(null);n.r(o);var c={};t=t||[null,r({}),r([]),r(r)];for(var a=2&l&&e;"object"==typeof a&&!~t.indexOf(a);a=r(a))Object.getOwnPropertyNames(a).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,n.d(o,c),o},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=9595,(()=>{var e={9595:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var l,o,[c,a,i]=r,s=0;if(c.some((t=>0!==e[t]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(i)var m=i(n)}for(t&&t(r);s<c.length;s++)o=c[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(m)},r=self.webpackChunkwebpackWcBlocksMainJsonp=self.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var c=n.O(void 0,[94],(()=>n(1580)));c=n.O(c),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-top-rated"]=c})();
>>>>>>> b1eea7a (Merged existing code from https://dev-vices.rafaeldeveloper.co)
